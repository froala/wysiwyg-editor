/*!
 * froala_editor v5.0.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2026 Froala Labs
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("froala-editor")):"function"==typeof define&&define.amd?define(["froala-editor"],t):t(("undefined"!=typeof globalThis?globalThis:e||self).FroalaEditor)}(this,function(ct){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function l(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function g(s){return function(){var e=this,o=arguments;return new Promise(function(t,n){var a=s.apply(e,o);function r(e){l(a,t,n,r,i,"next",e)}function i(e){l(a,t,n,r,i,"throw",e)}r(void 0)})}}function _e(e,t){var n,a,r,i,o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(o)return r=!(a=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){r=!0,n=e},f:function(){try{a||null==o["return"]||o["return"]()}finally{if(r)throw n}}};if(Array.isArray(e)||(o=s(e))||t)return o&&(e=o),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(){var g,h,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",n=e.toStringTag||"@@toStringTag";function a(e,t,n,a){var r,i,o,s,l,c,d,f,p,t=t&&t.prototype instanceof v?t:v,t=Object.create(t.prototype);return b(t,"_invoke",(r=e,i=n,d=a||[],f=!1,p={p:c=0,n:0,v:g,a:u,f:u.bind(g,4),d:function(e,t){return o=e,s=0,l=g,p.n=t,m}},function(e,t,n){if(1<c)throw TypeError("Generator is already running");for(f&&1===t&&u(t,n),s=t,l=n;(h=s<2?g:l)||!f;){o||(s?s<3?(1<s&&(p.n=-1),u(s,l)):p.n=l:p.v=l);try{if(c=2,o){if(h=o[e=s?e:"next"]){if(!(h=h.call(o,l)))throw TypeError("iterator result is not an object");if(!h.done)return h;l=h.value,s<2&&(s=0)}else 1===s&&(h=o["return"])&&h.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+e+"' method"),s=1);o=g}else if((h=(f=p.n<0)?l:r.call(i,p))!==m)break}catch(h){o=g,s=1,l=h}finally{c=1}}return{value:h,done:f}}),!0),t;function u(e,t){for(s=e,l=t,h=0;!f&&c&&!n&&h<d.length;h++){var n,a=d[h],r=p.p,i=a[2];3<e?(n=i===t)&&(l=a[(s=a[4])?5:s=3],a[4]=a[5]=g):a[0]<=r&&((n=e<2&&r<a[1])?(s=0,p.v=t,p.n=a[1]):r<i&&(n=e<3||a[0]>t||i<t)&&(a[4]=e,a[5]=t,p.n=i,s=0))}if(n||1<e)return m;throw f=!0,t}}var m={};function v(){}function r(){}function i(){}h=Object.getPrototypeOf;var e=[][t]?h(h([][t]())):(b(h={},t,function(){return this}),h),o=i.prototype=v.prototype=Object.create(e);function s(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,b(e,n,"GeneratorFunction")),e.prototype=Object.create(o),e}return b(o,"constructor",r.prototype=i),b(i,"constructor",r),b(i,n,r.displayName="GeneratorFunction"),b(o),b(o,n,"Generator"),b(o,t,function(){return this}),b(o,"toString",function(){return"[object Generator]"}),(w=function(){return{w:a,m:s}})()}function b(e,t,n,a){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(b=function(e,t,n,a){function r(t,n){b(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(r("next",0),r("throw",1),r("return",2))})(e,t,n,a)}function Ce(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n;if(e)return"string"==typeof e?a(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}if(ct.PLUGINS.align=function(d){var f=d.$;return{apply:function(t){var e=d.selection.ranges(0),n=(n=e.commonAncestorContainer).nodeType===Node.TEXT_NODE?d.selection.element():n,a=f(n).closest("table.fr-selection-handle-selected"),r=f(n).parents("TD, TH"),i=!d.selection.isCollapsed(),o="TD"===n.tagName||"TH"===n.tagName,e=(i=i&&o)&&(null==(s=n.textContent)?void 0:s.trim())===(null==(s=e.toString())?void 0:s.trim()),s=d.table&&d.table.selectedCells(),o=o||s&&0<s.length||r.length&&d.el.contains(r.get(0))&&"BR"===n.tagName;if(f(n).parents(".fr-img-caption").length)f(n).css("text-align",t);else if(a.length&&d.el.contains(a[0]))a.find("td").css("text-align",t);else if(o&&!i||e)s&&s.length?s.forEach(function(e){e=f(e);e.css("text-align",t),e.children().css("text-align","")}):((a=["TD","TH"].includes(n.tagName)?f(n):r).css("text-align",t),a.children().css("text-align",""));else{d.selection.save(),s&&s.length||d.html.wrap(!0,!0,!0,!0),d.selection.restore();for(var l=d.helpers.selectionBlocks([".fr-code-snippet"]),c=0;c<l.length;c++)f(l[c]).css("text-align",t).removeClass("fr-temp-div"),""===f(l[c]).attr("class")&&f(l[c]).removeAttr("class"),""===f(l[c]).attr("style")&&f(l[c]).removeAttr("style");d.selection.save(),d.html.unwrap(),d.selection.restore()}},refresh:function(e){var t=d.selection.blocks();t.length&&(t=d.helpers.getAlignment(f(t[0])),e.find("> *").first().replaceWith(d.icon.create("align-".concat(t))))},refreshOnShow:function(e,t){var n=d.selection.blocks();n.length&&(n=d.helpers.getAlignment(f(n[0])),t.find('a.fr-command[data-param1="'.concat(n,'"]')).addClass("fr-active").attr("aria-selected",!0))},refreshForToolbar:function(e){var t=d.selection.blocks();t.length&&(t=(t=d.helpers.getAlignment(f(t[0]))).charAt(0).toUpperCase()+t.slice(1),"align".concat(t)===e.attr("data-cmd"))&&e.addClass("fr-active")}}},ct.DefineIcon("align",{NAME:"align-left",SVG_KEY:"alignLeft"}),ct.DefineIcon("align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),ct.DefineIcon("align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),ct.DefineIcon("align-center",{NAME:"align-center",SVG_KEY:"alignCenter"}),ct.DefineIcon("align-justify",{NAME:"align-justify",SVG_KEY:"alignJustify"}),ct.RegisterCommand("align",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=ct.COMMANDS.align.options;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="align"data-param1="\n        '.concat(e,'" title="').concat(this.language.translate(n[e]),'">').concat(this.icon.create("align-".concat(e)),'<span class="fr-sr-only">\n        ').concat(this.language.translate(n[e]),"</span></a></li>"));return t+="</ul>"},callback:function(e,t){this.align.apply(t)},refresh:function(e){this.align.refresh(e)},refreshOnShow:function(e,t){this.align.refreshOnShow(e,t)},plugin:"align"}),ct.RegisterCommand("alignLeft",{type:"button",icon:"align-left",title:"Align Left",callback:function(){this.align.apply("left")},refresh:function(e){this.align.refreshForToolbar(e)},plugin:"align"}),ct.RegisterCommand("alignRight",{type:"button",icon:"align-right",title:"Align Right",callback:function(){this.align.apply("right")},refresh:function(e){this.align.refreshForToolbar(e)},plugin:"align"}),ct.RegisterCommand("alignCenter",{type:"button",icon:"align-center",title:"Align Center",callback:function(){this.align.apply("center")},refresh:function(e){this.align.refreshForToolbar(e)},plugin:"align"}),ct.RegisterCommand("alignJustify",{type:"button",icon:"align-justify",title:"Align Justify",callback:function(){this.align.apply("justify")},refresh:function(e){this.align.refreshForToolbar(e)},plugin:"align"}),Object.assign(ct.DEFAULTS,{charCounterMax:-1,charCounterCount:!0}),ct.PLUGINS.charCounter=function(d){var t,f,a=d.$;function e(e){var t=d.opts.charCounterMax;if(!(t<0)){var n=f();if("keydown"===e.type){if(n<t)return!0;var a=e.which;if(!d.keys.ctrlKey(e)&&d.keys.isCharacter(a)||a===ct.KEYCODE.IME)return e.preventDefault(),e.stopPropagation(),d.events.trigger("charCounter.exceeded"),!1}a=e.originalEvent&&e.originalEvent.inputType||"";if(!/delete|historyUndo|historyRedo/.test(a)){if("beforeinput"===e.type){a=e.data||e.originalEvent&&e.originalEvent.data||e.originalEvent&&e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.getData("text")||"",a=n-d.win.getSelection().toString().length+a.length;if(t-n<=0||t<a)return e.preventDefault(),e.stopPropagation(),d.events.trigger("charCounter.exceeded"),!1}if("input"===e.type&&t<n){d.selection.save();for(var r,a=d.el,i=t,o="",s=document.createTreeWalker(a,NodeFilter.SHOW_TEXT,null,!1),l=!0;(r=s.nextNode())&&o.length<i;){var c=i-o.length;if(r.textContent.length>c){r.textContent=r.textContent.slice(0,c),l=!1;break}o+=r.textContent}for(l&&(r=s.previousNode());r=s.nextNode();)r.textContent="";d.selection.restore()}}}return!0}function n(e){return d.opts.charCounterMax<0||a("<div>").html(e).text().length+f()<=d.opts.charCounterMax?e:(d.events.trigger("charCounter.exceeded"),"")}function r(e,t,n){return d.opts.charCounterMax<0||(e.includes('<span class="fr-emoticon')||e.includes('<i class="fa ')?!(f()>=d.opts.charCounterMax&&(d.events.trigger("charCounter.exceeded"),1)):a("<div>").html(e).text().length+f()<=d.opts.charCounterMax||(d.events.trigger("charCounter.exceeded"),!1))}function i(){var e;d.opts.charCounterCount&&(e=f()+(0<d.opts.charCounterMax?"/"+d.opts.charCounterMax:""),t.text("".concat(d.language.translate("Characters")," : ").concat(e)),d.opts.toolbarBottom&&t.css("margin-bottom",d.$tb.outerHeight(!0)),0<=(e=d.$wp.get(0).offsetWidth-d.$wp.get(0).clientWidth))&&("rtl"==d.opts.direction?t.css("margin-left",e):t.css("margin-right",e))}return{_init:function(){return!!d.$wp&&!!d.opts.charCounterCount&&((t=a(document.createElement("span")).attr("class","fr-counter")).css("bottom",d.$wp.css("border-bottom-width")),(d.$second_tb||d.$wp).append(t),d.events.on("keydown beforeinput input",e,!0),d.events.on("paste.afterCleanup",n),d.events.on("keyup contentChanged input",function(){d.events.trigger("charCounter.update")}),d.events.on("html.beforeInsert",r),d.events.on("charCounter.update",i),d.events.trigger("charCounter.update"),void d.events.on("destroy",function(){a(d.o_win).off("resize.char".concat(d.id)),t.removeData().remove(),t=null}))},count:f=function f(){var e=d.opts.iframe&&d.markdown&&d.markdown.isEnabled()?d.$el.text()||"":d.el.textContent||"",t=d.$el.find(".fr-page-break"),n=(t.text()||"").length;return e.replace(/\u200B/g,"").length-n*t.length}}},ct.PLUGINS.codeBeautifier=function(){var e,t,n,a,z={};function C(a,e){var n,t={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},r={"@media":!0,"@supports":!0,"@document":!0},i=(e=e||{},a=(a=a||"").replace(/\r\n|[\r\u2028\u2029]/g,"\n"),e.indent_size||4),o=e.indent_char||" ",s=e.selector_separator_newline===undefined||e.selector_separator_newline,l=e.end_with_newline!==undefined&&e.end_with_newline,c=e.newline_between_rules===undefined||e.newline_between_rules,d=e.eol||"\n",f=("string"==typeof i&&(i=parseInt(i,10)),e.indent_with_tabs&&(o="\t",i=1),d=d.replace(/\\r/,"\r").replace(/\\n/,"\n"),/^\s+$/),p=-1,u=0;function g(){return(n=a.charAt(++p))||""}function h(e){var t=p;return e&&v(),e=a.charAt(p+1)||"",p=t-1,g(),e}function m(e){for(var t=p;g();)if("\\"===n)g();else{if(-1!==e.indexOf(n))break;if("\n"===n)break}return a.substring(t,p+1)}function v(){for(;f.test(h());)g(),0}function b(e){var t=p;for(e="/"===h(),g();g();){if(!e&&"*"===n&&"/"===h()){g();break}if(e&&"\n"===n)return a.substring(t,p)}return a.substring(t,p)+n}function E(e){return a.substring(p-e.length,p).toLowerCase()===e}var y=a.match(/^[\t ]*/)[0],w=new Array(i+1).join(o),_=0,C=0;for(var A={"{":function(e){A.singleSpace(),T.push(e),A.newLine()},"}":function(e){A.newLine(),T.push(e),A.newLine()},_lastCharWhitespace:function(){return f.test(T[T.length-1])},newLine:function(e){T.length&&(e||"\n"===T[T.length-1]||A.trim(),T.push("\n"),y)&&T.push(y)},singleSpace:function(){T.length&&!A._lastCharWhitespace()&&T.push(" ")},preserveSingleSpace:function(){O&&A.singleSpace()},trim:function(){for(;A._lastCharWhitespace();)T.pop()}},T=[],k=!1,S=!1,R=!1,x="";;){var L,I=function(){var e="";for(n&&f.test(n)&&(e=n);f.test(g());)e+=n;return e}(),O=""!==I,I=-1!==I.indexOf("\n"),M=x,x=n;if(!n)break;"/"===n&&"*"===h()?(L=0===_,(I||L)&&A.newLine(),T.push(b()),A.newLine(),L&&A.newLine(!0)):"/"===n&&"/"===h()?(I||"{"===M||A.trim(),A.singleSpace(),T.push(b()),A.newLine()):"@"===n?(A.preserveSingleSpace(),T.push(n),L=void 0,L=p,I=m(I=": , {}()[]/='\""),p=L-1,g(),(M=I).match(/[ :]$/)&&(g(),M=m(": ").replace(/\s$/,""),T.push(M),A.singleSpace()),(M=M.replace(/\s$/,""))in t&&(C+=1,M in r)&&(R=!0)):"#"===n&&"{"===h()?(A.preserveSingleSpace(),T.push(m("}"))):"{"===n?"}"===h(!0)?(v(),g(),A.singleSpace(),T.push("{}"),A.newLine(),c&&0===_&&A.newLine(!0)):(_++,y+=w,A["{"](n),k=R?(R=!1,C<_):C<=_):"}"===n?(_--,y=y.slice(0,-i),A["}"](n),S=k=!1,C&&C--,c&&0===_&&A.newLine(!0)):":"===n?(v(),!k&&!R||E("&")||function(){for(var e=0,t=p+1;t<a.length;t++){var n=a.charAt(t);if("{"===n)return 1;if("("===n)e+=1;else if(")"===n){if(0===e)return;--e}else if(" "===n||"}"===n)return}}()?":"===h()?(g(),T.push("::")):T.push(":"):(S=!0,T.push(":"),A.singleSpace())):'"'===n||"'"===n?(A.preserveSingleSpace(),T.push(m(n))):" "===n?(S=!1,T.push(n),A.newLine()):"("===n?E("url")?(T.push(n),v(),g()&&(")"!==n&&'"'!==n&&"'"!==n?T.push(m(")")):p--)):(u++,A.preserveSingleSpace(),T.push(n),v()):")"===n?(T.push(n),u--):","===n?(T.push(n),v(),s&&!S&&u<1?A.newLine():A.singleSpace()):("]"!==n&&("["!==n&&"="===n?(v(),n="="):A.preserveSingleSpace()),T.push(n))}e="";return y&&(e+=y),e+=T.join("").replace(/[\r\n\t ]+$/,""),l&&(e+="\n"),e="\n"!=d?e.replace(/[\n]/g,d):e}function W(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function V(e){return e.replace(/^\s+|\s+$/g,"")}function A(e,t){return new r(e,t).beautify()}e=z,t="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",n=new RegExp("[".concat(t,"]")),a=new RegExp("[".concat(t," ").concat("\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f","]")),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|".concat(e.newline.source)),e.allLineBreaks=new RegExp(e.lineBreak.source,"g"),e.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||170<=e&&n.test(String.fromCharCode(e)))},e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||170<=e&&a.test(String.fromCharCode(e))))};var F={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function r(a,e){var o,r,i,s,l,c,t,d,n,f,p,u,g,h=[],m="";function v(e,t){var n=0;return e&&(n=e.indentation_level,!o.just_added_newline())&&e.line_indent_level>n&&(n=e.line_indent_level),{mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:o.get_line_number(),ternary_depth:0}}for(u={TK_START_EXPR:function(){L();var e=F.Expression;if("["===s.text){if("TK_WORD"===l||")"===d.last_text)return"TK_RESERVED"===l&&W(d.last_text,i.line_starters)&&(o.space_before_token=!0),T(e),C(),A(),void(g.space_in_paren&&(o.space_before_token=!0));e=F.ArrayLiteral,!k(d.mode)||"["!==d.last_text&&(","!==d.last_text||"]"!==c&&"}"!==c)||g.keep_array_indentation||w()}else"TK_RESERVED"===l&&"for"===d.last_text?e=F.ForInitializer:"TK_RESERVED"===l&&W(d.last_text,["if","while"])&&(e=F.Conditional);" "===d.last_text||"TK_START_BLOCK"===l?w():"TK_END_EXPR"===l||"TK_START_EXPR"===l||"TK_END_BLOCK"===l||"."===d.last_text?y(s.wanted_newline):"TK_RESERVED"===l&&"("===s.text||"TK_WORD"===l||"TK_OPERATOR"===l?"TK_RESERVED"===l&&("function"===d.last_word||"typeof"===d.last_word)||"*"===d.last_text&&"function"===c?g.space_after_anon_function&&(o.space_before_token=!0):"TK_RESERVED"!==l||!W(d.last_text,i.line_starters)&&"catch"!==d.last_text||g.space_before_conditional&&(o.space_before_token=!0):o.space_before_token=!0;"("===s.text&&"TK_RESERVED"===l&&"await"===d.last_word&&(o.space_before_token=!0);"("!==s.text||"TK_EQUALS"!==l&&"TK_OPERATOR"!==l||x()||y();T(e),C(),g.space_in_paren&&(o.space_before_token=!0);A()},TK_END_EXPR:function(){for(;d.mode===F.Statement;)R();d.multiline_frame&&y("]"===s.text&&k(d.mode)&&!g.keep_array_indentation);g.space_in_paren&&("TK_START_EXPR"!==l||g.space_in_empty_paren?o.space_before_token=!0:(o.trim(),o.space_before_token=!1));("]"===s.text&&g.keep_array_indentation?(C(),R):(R(),C))();o.remove_redundant_indentation(n),d.do_while&&n.mode===F.Conditional&&(n.mode=F.Expression,d.do_block=!1,d.do_while=!1)},TK_START_BLOCK:function(){var e=O(1),t=O(2);!t||!(":"===t.text&&W(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||W(e.text,["get","set"])&&W(t.type,["TK_WORD","TK_RESERVED"]))||W(c,["class","interface"])?T(F.BlockStatement):T(F.ObjectLiteral);t=!e.comments_before.length&&"}"===e.text&&"function"===d.last_word&&"TK_END_EXPR"===l;"expand"===g.brace_style||"none"===g.brace_style&&s.wanted_newline?"TK_OPERATOR"!==l&&(t||"TK_EQUALS"===l||"TK_RESERVED"===l&&I(d.last_text)&&"else"!==d.last_text)?o.space_before_token=!0:w(!1,!0):"TK_OPERATOR"!==l&&"TK_START_EXPR"!==l?"TK_START_BLOCK"===l?w():o.space_before_token=!0:k(n.mode)&&","===d.last_text&&("}"===c?o.space_before_token=!0:w());C(),A()},TK_END_BLOCK:function(){for(;d.mode===F.Statement;)R();var e="TK_START_BLOCK"===l;"expand"===g.brace_style?e||w():e||(k(d.mode)&&g.keep_array_indentation?(g.keep_array_indentation=!1,w(),g.keep_array_indentation=!0):w());R(),C()},TK_WORD:M,TK_RESERVED:M,TK_SEMICOLON:function(){L()&&(o.space_before_token=!1);for(;d.mode===F.Statement&&!d.if_block&&!d.do_block;)R();C()},TK_STRING:function(){L()||"TK_RESERVED"===l||"TK_WORD"===l?o.space_before_token=!0:"TK_COMMA"===l||"TK_START_EXPR"===l||"TK_EQUALS"===l||"TK_OPERATOR"===l?x()||y():w();C()},TK_EQUALS:function(){L();d.declaration_statement&&(d.declaration_assignment=!0);o.space_before_token=!0,C(),o.space_before_token=!0},TK_OPERATOR:function(){L();var e,t;"TK_RESERVED"===l&&I(d.last_text)?(o.space_before_token=!0,C()):"*"===s.text&&"TK_DOT"===l?C():":"===s.text&&d.in_case?(d.case_body=!0,A(),C(),w(),d.in_case=!1):"::"===s.text?C():("TK_OPERATOR"===l&&y(),t=e=!0,W(s.text,["--","++","!","~"])||W(s.text,["-","+"])&&(W(l,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||W(d.last_text,i.line_starters)||","===d.last_text)?(t=e=!1,!s.wanted_newline||"--"!==s.text&&"++"!==s.text||w(!1,!0)," "===d.last_text&&S(d.mode)&&(e=!0),"TK_RESERVED"===l?e=!0:"TK_END_EXPR"===l?e=!("]"===d.last_text&&("--"===s.text||"++"===s.text)):"TK_OPERATOR"===l&&(e=W(s.text,["--","-","++","+"])&&W(d.last_text,["--","-","++","+"]),W(s.text,["+","-"]))&&W(d.last_text,["--","++"])&&(t=!0),d.mode!==F.BlockStatement&&d.mode!==F.Statement||"{"!==d.last_text&&" "!==d.last_text||w()):":"===s.text?0===d.ternary_depth?e=!1:--d.ternary_depth:"?"===s.text?d.ternary_depth+=1:"*"===s.text&&"TK_RESERVED"===l&&"function"===d.last_text&&(t=e=!1),o.space_before_token=o.space_before_token||e,C(),o.space_before_token=t)},TK_COMMA:function(){d.declaration_statement?(S(d.parent.mode)&&(d.declaration_assignment=!1),C(),d.declaration_assignment?w(d.declaration_assignment=!1,!0):(o.space_before_token=!0,g.comma_first&&y())):(C(),d.mode===F.ObjectLiteral||d.mode===F.Statement&&d.parent.mode===F.ObjectLiteral?(d.mode===F.Statement&&R(),w()):(o.space_before_token=!0,g.comma_first&&y()))},TK_BLOCK_COMMENT:function(){if(o.raw)o.add_raw_token(s),!s.directives||"end"!==s.directives.preserve||g.test_output_raw||(o.raw=!1);else if(s.directives)w(!1,!0),C(),"start"===s.directives.preserve&&(o.raw=!0),w(!1,!0);else if(z.newline.test(s.text)||s.wanted_newline){var e,t=function(e){e=e.replace(/\x0d/g,"");var t,n=[];t=e.indexOf("\n");for(;-1!==t;)n.push(e.substring(0,t)),e=e.substring(t+1),t=e.indexOf("\n");e.length&&n.push(e);return n}(s.text),n=!1,a=!1,r=s.whitespace_before,i=r.length;for(w(!1,!0),1<t.length&&(!function(e,t){for(var n=0;n<e.length;n++)if(V(e[n]).charAt(0)!==t)return;return 1}(t.slice(1),"*")?function(e,t){for(var n,a=0,r=e.length;a<r;a++)if((n=e[a])&&0!==n.indexOf(t))return;return 1}(t.slice(1),r)&&(a=!0):n=!0),C(t[0]),e=1;e<t.length;e++)w(!1,!0),n?C(" ".concat(t[e].replace(/^\s+/g,""))):a&&t[e].length>i?C(t[e].substring(i)):o.add_token(t[e]);w(!1,!0)}else o.space_before_token=!0,C(),o.space_before_token=!0},TK_COMMENT:function(){s.wanted_newline?w(!1,!0):o.trim(!0);o.space_before_token=!0,C(),w(!1,!0)},TK_DOT:function(){L();"TK_RESERVED"===l&&I(d.last_text)?o.space_before_token=!0:y(")"===d.last_text&&g.break_chained_methods);C()},TK_UNKNOWN:function(){C(),"\n"===s.text[s.text.length-1]&&w()},TK_EOF:function(){for(;d.mode===F.Statement;)R()}},g={},(e=e||{}).braces_on_own_line!==undefined&&(g.brace_style=e.braces_on_own_line?"expand":"collapse"),g.brace_style=e.brace_style||g.brace_style||"collapse","expand-strict"===g.brace_style&&(g.brace_style="expand"),g.indent_size=e.indent_size?parseInt(e.indent_size,10):4,g.indent_char=e.indent_char||" ",g.eol=e.eol||"\n",g.preserve_newlines=e.preserve_newlines===undefined||e.preserve_newlines,g.break_chained_methods=e.break_chained_methods!==undefined&&e.break_chained_methods,g.max_preserve_newlines=e.max_preserve_newlines===undefined?0:parseInt(e.max_preserve_newlines,10),g.space_in_paren=e.space_in_paren!==undefined&&e.space_in_paren,g.space_in_empty_paren=e.space_in_empty_paren!==undefined&&e.space_in_empty_paren,g.jslint_happy=e.jslint_happy!==undefined&&e.jslint_happy,g.space_after_anon_function=e.space_after_anon_function!==undefined&&e.space_after_anon_function,g.keep_array_indentation=e.keep_array_indentation!==undefined&&e.keep_array_indentation,g.space_before_conditional=e.space_before_conditional===undefined||e.space_before_conditional,g.unescape_strings=e.unescape_strings!==undefined&&e.unescape_strings,g.wrap_line_length=e.wrap_line_length===undefined?0:parseInt(e.wrap_line_length,10),g.e4x=e.e4x!==undefined&&e.e4x,g.end_with_newline=e.end_with_newline!==undefined&&e.end_with_newline,g.comma_first=e.comma_first!==undefined&&e.comma_first,g.test_output_raw=e.test_output_raw!==undefined&&e.test_output_raw,g.jslint_happy&&(g.space_after_anon_function=!0),e.indent_with_tabs&&(g.indent_char="\t",g.indent_size=1),g.eol=g.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),t="";0<g.indent_size;)t+=g.indent_char,--g.indent_size;var b=0;if(a&&a.length){for(;" "===a.charAt(b)||"\t"===a.charAt(b);)m+=a.charAt(b),b+=1;a=a.substring(b)}function E(e){var t=e.newlines;if(g.keep_array_indentation&&k(d.mode))for(var n=0;n<t;n+=1)w(0<n);else if(g.max_preserve_newlines&&t>g.max_preserve_newlines&&(t=g.max_preserve_newlines),g.preserve_newlines&&1<e.newlines){w();for(var a=1;a<t;a+=1)w(!0)}u[(s=e).type]()}function y(e){e=e!==undefined&&e,o.just_added_newline()||(g.preserve_newlines&&s.wanted_newline||e||g.wrap_line_length&&o.current_line.get_character_count()+s.text.length+(o.space_before_token?1:0)>=g.wrap_line_length)&&w(!1,!0)}function w(e,t){if(!t&&" "!==d.last_text&&","!==d.last_text&&"="!==d.last_text&&"TK_OPERATOR"!==l)for(;d.mode===F.Statement&&!d.if_block&&!d.do_block;)R();o.add_new_line(e)&&(d.multiline_frame=!0)}function _(){o.just_added_newline()&&(g.keep_array_indentation&&k(d.mode)&&s.wanted_newline?(o.current_line.push(s.whitespace_before),o.space_before_token=!1):o.set_indent(d.indentation_level)&&(d.line_indent_level=d.indentation_level))}function C(e){o.raw?o.add_raw_token(s):(g.comma_first&&"TK_COMMA"===l&&o.just_added_newline()&&","===o.previous_line.last()&&(o.previous_line.pop(),_(),o.add_token(","),o.space_before_token=!0),e=e||s.text,_(),o.add_token(e))}function A(){d.indentation_level+=1}function T(e){n=d?(f.push(d),d):v(null,e),d=v(n,e)}function k(e){return e===F.ArrayLiteral}function S(e){return W(e,[F.Expression,F.ForInitializer,F.Conditional])}function R(){0<f.length&&(n=d,d=f.pop(),n.mode===F.Statement)&&o.remove_redundant_indentation(n)}function x(){return d.parent.mode===F.ObjectLiteral&&d.mode===F.Statement&&(":"===d.last_text&&0===d.ternary_depth||"TK_RESERVED"===l&&W(d.last_text,["get","set"]))}function L(){return("TK_RESERVED"===l&&W(d.last_text,["const","let","const"])&&"TK_WORD"===s.type||"TK_RESERVED"===l&&"do"===d.last_text||"TK_RESERVED"===l&&"return"===d.last_text&&!s.wanted_newline||"TK_RESERVED"===l&&"else"===d.last_text&&("TK_RESERVED"!==s.type||"if"!==s.text)||"TK_END_EXPR"===l&&(n.mode===F.ForInitializer||n.mode===F.Conditional)||"TK_WORD"===l&&d.mode===F.BlockStatement&&!d.in_case&&"--"!==s.text&&"++"!==s.text&&"function"!==c&&"TK_WORD"!==s.type&&"TK_RESERVED"!==s.type||d.mode===F.ObjectLiteral&&(":"===d.last_text&&0===d.ternary_depth||"TK_RESERVED"===l&&W(d.last_text,["get","set"])))&&(T(F.Statement),A(),"TK_RESERVED"===l&&W(d.last_text,["const","let","const"])&&"TK_WORD"===s.type&&(d.declaration_statement=!0),x()||y("TK_RESERVED"===s.type&&W(s.text,["do","for","if","while"])),1)}function I(e){return W(e,["case","return","do","if","throw","else"])}function O(e){e=r+(e||0);return e<0||e>=h.length?null:h[e]}function M(){if("TK_RESERVED"===s.type&&d.mode!==F.ObjectLiteral&&W(s.text,["set","get"])&&(s.type="TK_WORD"),"TK_RESERVED"===s.type&&d.mode===F.ObjectLiteral&&":"===O(1).text&&(s.type="TK_WORD"),L()||!s.wanted_newline||S(d.mode)||"TK_OPERATOR"===l&&"--"!==d.last_text&&"++"!==d.last_text||"TK_EQUALS"===l||!g.preserve_newlines&&"TK_RESERVED"===l&&W(d.last_text,["const","let","const","set","get"])||w(),d.do_block&&!d.do_while){if("TK_RESERVED"===s.type&&"while"===s.text)return o.space_before_token=!0,C(),o.space_before_token=!0,void(d.do_while=!0);w(),d.do_block=!1}if(d.if_block)if(d.else_block||"TK_RESERVED"!==s.type||"else"!==s.text){for(;d.mode===F.Statement;)R();d.if_block=!1,d.else_block=!1}else d.else_block=!0;"TK_RESERVED"===s.type&&("case"===s.text||"default"===s.text&&d.in_case_statement)?(w(),(d.case_body||g.jslint_happy)&&(0<d.indentation_level&&(!d.parent||d.indentation_level>d.parent.indentation_level)&&--d.indentation_level,d.case_body=!1),C(),d.in_case=!0,d.in_case_statement=!0):("TK_RESERVED"===s.type&&"function"===s.text&&(!(W(d.last_text,["}"," "])||o.just_added_newline()&&!W(d.last_text,["[","{",":","=",","]))||o.just_added_blankline()||s.comments_before.length||(w(),w(!0)),"TK_RESERVED"===l||"TK_WORD"===l?"TK_RESERVED"===l&&W(d.last_text,["get","set","new","return","export","async"])||"TK_RESERVED"===l&&"default"===d.last_text&&"export"===c?o.space_before_token=!0:w():"TK_OPERATOR"===l||"="===d.last_text?o.space_before_token=!0:!d.multiline_frame&&(S(d.mode)||k(d.mode))||w()),"TK_COMMA"!==l&&"TK_START_EXPR"!==l&&"TK_EQUALS"!==l&&"TK_OPERATOR"!==l||x()||y(),"TK_RESERVED"===s.type&&W(s.text,["function","get","set"])?(C(),d.last_word=s.text):(p="NONE","TK_END_BLOCK"===l?"TK_RESERVED"!==s.type||!W(s.text,["else","catch","finally"])||"expand"===g.brace_style||"end-expand"===g.brace_style||"none"===g.brace_style&&s.wanted_newline?p="NEWLINE":(p="SPACE",o.space_before_token=!0):"TK_SEMICOLON"===l&&d.mode===F.BlockStatement?p="NEWLINE":"TK_SEMICOLON"===l&&S(d.mode)?p="SPACE":"TK_STRING"===l?p="NEWLINE":"TK_RESERVED"===l||"TK_WORD"===l||"*"===d.last_text&&"function"===c?p="SPACE":"TK_START_BLOCK"===l?p="NEWLINE":"TK_END_EXPR"===l&&(o.space_before_token=!0,p="NEWLINE"),"TK_RESERVED"===s.type&&W(s.text,i.line_starters)&&")"!==d.last_text&&(p="else"===d.last_text||"export"===d.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===s.type&&W(s.text,["else","catch","finally"])?"TK_END_BLOCK"!==l||"expand"===g.brace_style||"end-expand"===g.brace_style||"none"===g.brace_style&&s.wanted_newline?w():(o.trim(!0),"}"!==o.current_line.last()&&w(),o.space_before_token=!0):"NEWLINE"===p?"TK_RESERVED"===l&&I(d.last_text)?o.space_before_token=!0:"TK_END_EXPR"!==l?"TK_START_EXPR"===l&&"TK_RESERVED"===s.type&&W(s.text,["const","let","const"])||":"===d.last_text||("TK_RESERVED"===s.type&&"if"===s.text&&"else"===d.last_text?o.space_before_token=!0:w()):"TK_RESERVED"===s.type&&W(s.text,i.line_starters)&&")"!==d.last_text&&w():d.multiline_frame&&k(d.mode)&&","===d.last_text&&"}"===c?w():"SPACE"===p&&(o.space_before_token=!0),C(),d.last_word=s.text,"TK_RESERVED"===s.type&&"do"===s.text&&(d.do_block=!0),"TK_RESERVED"===s.type&&"if"===s.text&&(d.if_block=!0)))}l="TK_START_BLOCK",c="",(o=new P(t,m)).raw=g.test_output_raw,f=[],T(F.BlockStatement),this.beautify=function(){var e,t;for(i=new N(a,g),h=i.tokenize(),r=0;e=O();){for(var n=0;n<e.comments_before.length;n++)E(e.comments_before[n]);E(e),c=d.last_text,l=e.type,d.last_text=e.text,r+=1}return t=o.get_code(),g.end_with_newline&&(t+="\n"),t="\n"!=g.eol?t.replace(/[\n]/g,g.eol):t}}function i(t){var n=0,a=-1,r=[],i=!0;this.set_indent=function(e){n=t.baseIndentLength+e*t.indent_length,a=e},this.get_character_count=function(){return n},this.is_empty=function(){return i},this.last=function(){return this._empty?null:r[r.length-1]},this.push=function(e){r.push(e),n+=e.length,i=!1},this.pop=function(){var e=null;return i||(e=r.pop(),n-=e.length,i=0===r.length),e},this.remove_indent=function(){0<a&&(--a,n-=t.indent_length)},this.trim=function(){for(;" "===this.last();)r.pop(),--n;i=0===r.length},this.toString=function(){var e="";return this._empty||(0<=a&&(e=t.indent_cache[a]),e+=r.join("")),e}}function P(t,n){n=n||"",this.indent_cache=[n],this.baseIndentLength=n.length,this.indent_length=t.length,this.raw=!1;var a=[];this.baseIndentString=n,this.indent_string=t,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new i(this),a.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return a.length},this.add_new_line=function(e){return!(1===this.get_line_number()&&this.just_added_newline()||!e&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(){return a.join("\n").replace(/[\r\n\t ]+$/,"")},this.set_indent=function(e){if(1<a.length){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(e){if(!e.multiline_frame&&e.mode!==F.ForInitializer&&e.mode!==F.Conditional)for(var t=e.start_line_index,n=a.length;t<n;)a[t].remove_indent(),t++},this.trim=function(e){for(e=e!==undefined&&e,this.current_line.trim(t,n);e&&1<a.length&&this.current_line.is_empty();)a.pop(),this.current_line=a[a.length-1],this.current_line.trim();this.previous_line=1<a.length?a[a.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===a.length||a[a.length-2].is_empty())}}var G=function G(e,t,n,a,r,i){this.type=e,this.text=t,this.comments_before=[],this.newlines=n||0,this.wanted_newline=0<n,this.whitespace_before=a||"",this.parent=null,this.directives=null};function N(C,A,e){var T,k,S,R,x,L,I="\n\r\t ".split(""),O=/[0-9]/,M=/[01234567]/,F=/[0123456789abcdefABCDEF]/,P="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" "),N=(this.line_starters="continue,try,throw,return,const,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"])),D=/([\s\S]*?)((?:\*\/)|$)/g,B=/([^\n\r\u2028\u2029]*)/g,H=/\/\* beautify( \w+[:]\w+)+ \*\//g,U=/ (\w+)[:](\w+)/g,$=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,K=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;function o(){var e=[];if(T=0,k="",L<=x)return["","TK_EOF"];var t=R.length?R[R.length-1]:new G("TK_START_BLOCK","{"),n=C.charAt(x);for(x+=1;W(n,I);){if(z.newline.test(n)?"\n"===n&&"\r"===C.charAt(x-2)||(T+=1,e=[]):e.push(n),L<=x)return["","TK_EOF"];n=C.charAt(x),x+=1}if(e.length&&(k=e.join("")),O.test(n)){var a=!0,r=!0,i=O;for("0"===n&&x<L&&/[Xxo]/.test(C.charAt(x))?(r=a=!1,n+=C.charAt(x),x+=1,i=/[o]/.test(C.charAt(x))?M:F):(n="",--x);x<L&&i.test(C.charAt(x));)n+=C.charAt(x),x+=1,a&&x<L&&"."===C.charAt(x)&&(n+=C.charAt(x),x+=1,a=!1),r&&x<L&&/[Ee]/.test(C.charAt(x))&&(n+=C.charAt(x),(x+=1)<L&&/[+-]/.test(C.charAt(x))&&(n+=C.charAt(x),x+=1),a=r=!1);return[n,"TK_WORD"]}if(z.isIdentifierStart(C.charCodeAt(x-1))){if(x<L)for(;z.isIdentifierChar(C.charCodeAt(x))&&(n+=C.charAt(x),(x+=1)!==L););return"TK_DOT"===t.type||"TK_RESERVED"===t.type&&W(t.text,["set","get"])||!W(n,N)?[n,"TK_WORD"]:"in"===n?[n,"TK_OPERATOR"]:[n,"TK_RESERVED"]}if("("===n||"["===n)return[n,"TK_START_EXPR"];if(")"===n||"]"===n)return[n,"TK_END_EXPR"];if("{"===n)return[n,"TK_START_BLOCK"];if("}"===n)return[n,"TK_END_BLOCK"];if(" "===n)return[n,"TK_SEMICOLON"];if("/"===n){var o="";if("*"===C.charAt(x))return x+=1,D.lastIndex=x,_=D.exec(C),o="/*".concat(_[0]),x+=_[0].length,(y=function(e){if(!e.match(H))return null;for(var t={},n=(U.lastIndex=0,U.exec(e));n;)t[n[1]]=n[2],n=U.exec(e);return t}(o))&&"start"===y.ignore&&($.lastIndex=x,o+=(_=$.exec(C))[0],x+=_[0].length),[o=o.replace(z.lineBreak,"\n"),"TK_BLOCK_COMMENT",y];if("/"===C.charAt(x))return x+=1,B.lastIndex=x,_=B.exec(C),o="//".concat(_[0]),x+=_[0].length,[o,"TK_COMMENT"]}if("`"===n||"'"===n||'"'===n||("/"===n||A.e4x&&"<"===n&&C.slice(x-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&("TK_RESERVED"===t.type&&W(t.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===t.type&&")"===t.text&&t.parent&&"TK_RESERVED"===t.parent.type&&W(t.parent.text,["if","while","for"])||W(t.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var s=n,l=!1,c=!1,d=n;if("/"===s)for(var f=!1;x<L&&(l||f||C.charAt(x)!==s)&&!z.newline.test(C.charAt(x));)d+=C.charAt(x),l?l=!1:(l="\\"===C.charAt(x),"["===C.charAt(x)?f=!0:"]"===C.charAt(x)&&(f=!1)),x+=1;else if(A.e4x&&"<"===s){var p=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,u=C.slice(x-1),g=p.exec(u);if(g&&0===g.index){for(var h=g[2],m=0;g;){var v=!!g[1],b=g[2],E=!!g[g.length-1]||"![CDATA["===b.slice(0,8);if(b!==h||E||(v?--m:++m),m<=0)break;g=p.exec(u)}var y=g?g.index+g[0].length:u.length,u=u.slice(0,y);return x+=y-1,[u=u.replace(z.lineBreak,"\n"),"TK_STRING"]}}else for(;x<L&&(l||C.charAt(x)!==s&&("`"===s||!z.newline.test(C.charAt(x))));)(l||"`"===s)&&z.newline.test(C.charAt(x))?("\r"===C.charAt(x)&&"\n"===C.charAt(x+1)&&(x+=1),d+="\n"):d+=C.charAt(x),l=l?("x"!==C.charAt(x)&&"u"!==C.charAt(x)||(c=!0),!1):"\\"===C.charAt(x),x+=1;if(c&&A.unescape_strings&&(d=function(e){var t,n=!1,a="",r=0,i="",o=0;for(;n||r<e.length;)if(t=e.charAt(r),r++,n){if(n=!1,"x"===t)i=e.substr(r,2),r+=2;else{if("u"!==t){a+="\\".concat(t);continue}i=e.substr(r,4),r+=4}if(!i.match(/^[0123456789abcdefABCDEF]+$/))return e;if(0<=(o=parseInt(i,16))&&o<32)a+=("x"===t?"\\x":"\\u").concat(i);else if(34===o||39===o||92===o)a+="\\".concat(String.fromCharCode(o));else{if("x"===t&&126<o&&o<=255)return e;a+=String.fromCharCode(o)}}else"\\"===t?n=!0:a+=t;return a}(d)),x<L&&C.charAt(x)===s&&(d+=s,x+=1,"/"===s))for(;x<L&&z.isIdentifierStart(C.charCodeAt(x));)d+=C.charAt(x),x+=1;return[d,"TK_STRING"]}if("#"===n){if(0===R.length&&"!"===C.charAt(x)){for(d=n;x<L&&"\n"!==n;)d+=n=C.charAt(x),x+=1;return["".concat(V(d),"\n"),"TK_UNKNOWN"]}var w="#";if(x<L&&O.test(C.charAt(x))){for(;w+=n=C.charAt(x),(x+=1)<L&&"#"!==n&&"="!==n;);return"#"!==n&&("["===C.charAt(x)&&"]"===C.charAt(x+1)?(w+="[]",x+=2):"{"===C.charAt(x)&&"}"===C.charAt(x+1)&&(w+="{}",x+=2)),[w,"TK_WORD"]}}if("<"===n&&("?"===C.charAt(x)||"%"===C.charAt(x))){K.lastIndex=x-1;var _=K.exec(C);if(_)return n=_[0],x+=n.length-1,[n=n.replace(z.lineBreak,"\n"),"TK_STRING"]}if("<"===n&&"\x3c!--"===C.substring(x-1,x+3)){for(x+=3,n="\x3c!--";!z.newline.test(C.charAt(x))&&x<L;)n+=C.charAt(x),x++;return S=!0,[n,"TK_COMMENT"]}if("-"===n&&S&&"--\x3e"===C.substring(x-1,x+2))return S=!1,x+=2,["--\x3e","TK_COMMENT"];if("."===n)return[n,"TK_DOT"];if(W(n,P)){for(;x<L&&W(n+C.charAt(x),P)&&(n+=C.charAt(x),!(L<=(x+=1))););return","===n?[n,"TK_COMMA"]:"="===n?[n,"TK_EQUALS"]:[n,"TK_OPERATOR"]}return[n,"TK_UNKNOWN"]}this.tokenize=function(){L=C.length,x=0,S=!1,R=[];for(var e,t,n,a=null,r=[],i=[];!t||"TK_EOF"!==t.type;){for(n=o(),e=new G(n[1],n[0],T,k);"TK_COMMENT"===e.type||"TK_BLOCK_COMMENT"===e.type||"TK_UNKNOWN"===e.type;)"TK_BLOCK_COMMENT"===e.type&&(e.directives=n[2]),i.push(e),n=o(),e=new G(n[1],n[0],T,k);i.length&&(e.comments_before=i,i=[]),"TK_START_BLOCK"===e.type||"TK_START_EXPR"===e.type?(e.parent=t,r.push(a),a=e):("TK_END_BLOCK"===e.type||"TK_END_EXPR"===e.type)&&a&&("]"===e.text&&"["===a.text||")"===e.text&&"("===a.text||"}"===e.text&&"{"===a.text)&&(e.parent=a.parent,a=r.pop()),R.push(e),t=e}return R}}return{run:function(e,t){function o(e){return e.replace(/\s+$/g,"")}var n,a,r,g,i,s,h,l,c,m,v,b,d,f;for((t=t||{}).wrap_line_length!==undefined&&0!==parseInt(t.wrap_line_length,10)||t.max_char===undefined||0===parseInt(t.max_char,10)||(t.wrap_line_length=t.max_char),a=t.indent_inner_html!==undefined&&t.indent_inner_html,r=t.indent_size===undefined?4:parseInt(t.indent_size,10),g=t.indent_char===undefined?" ":t.indent_char,s=t.brace_style===undefined?"collapse":t.brace_style,i=0===parseInt(t.wrap_line_length,10)?32786:parseInt(t.wrap_line_length||250,10),h=t.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","const","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","address","pre"],l=t.preserve_newlines===undefined||t.preserve_newlines,c=l?isNaN(parseInt(t.max_preserve_newlines,10))?32786:parseInt(t.max_preserve_newlines,10):0,m=t.indent_handlebars!==undefined&&t.indent_handlebars,v=t.wrap_attributes===undefined?"auto":t.wrap_attributes,b=t.wrap_attributes_indent_size!==undefined&&parseInt(t.wrap_attributes_indent_size,10)||r,d=t.end_with_newline!==undefined&&t.end_with_newline,f=Array.isArray(t.extra_liners)?t.extra_liners.concat():("string"==typeof t.extra_liners?t.extra_liners:"head,body,/html").split(","),t.indent_with_tabs&&(g="\t",r=1),(n=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=a,this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:f,in_array:function W(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}},this.is_whitespace=function(e){for(;0<e.length;e++)if(!this.Utils.in_array(e.charAt(0),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="",e=this.input.charAt(this.pos);if(this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)l&&"\n"===e&&this.newlines<=c&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e)):(this.line_char_count++,e.push(" "))},this.get_content=function(){for(var e=[];"<"!=this.input.charAt(this.pos);){if(this.pos>=this.input.length)return e.length?e.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(e);else{if(m){var t=this.input.substr(this.pos,3);if("{{#"===t||"{{/"===t)break;if("{{!"===t)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}t=this.input.charAt(this.pos),this.pos++,this.line_char_count++,e.push(t)}}return e.length?e.join(""):""},this.get_contents_to=function(e){var t;return this.pos===this.input.length?["","TK_EOF"]:(t="",(e=new RegExp("</".concat(e,"\\s*>"),"igm")).lastIndex=this.pos,e=(e=e.exec(this.input))?e.index:this.input.length,this.pos<e&&(t=this.input.substring(this.pos,e),this.pos=e),t)},this.record_tag=function(e){this.tags["".concat(e,"count")]?this.tags["".concat(e,"count")]++:this.tags["".concat(e,"count")]=1,this.tags[e+this.tags["".concat(e,"count")]]=this.indent_level,this.tags[e+this.tags["".concat(e,"count")]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags["".concat(e,"count")]},this.retrieve_tag=function(e){if(this.tags["".concat(e,"count")]){for(var t=this.tags.parent;t&&e+this.tags["".concat(e,"count")]!==t;)t=this.tags["".concat(t,"parent")];t&&(this.indent_level=this.tags[e+this.tags["".concat(e,"count")]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags["".concat(e,"count")]+"parent"],delete this.tags[e+this.tags["".concat(e,"count")]],1===this.tags["".concat(e,"count")]?delete this.tags["".concat(e,"count")]:this.tags["".concat(e,"count")]--}},this.indent_to_tag=function(e){if(this.tags["".concat(e,"count")]){for(var t=this.tags.parent;t&&e+this.tags["".concat(e,"count")]!==t;)t=this.tags["".concat(t,"parent")];t&&(this.indent_level=this.tags[e+this.tags["".concat(e,"count")]])}},this.get_tag=function(e){var t,n,a="",r=[],i=!1,o=!0,s=this.pos,l=this.line_char_count;e=e!==undefined&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=s,this.line_char_count=l),r.length?r.join(""):["","TK_EOF"];if(a=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(a,this.Utils.whitespace))i=!0;else{if("'"!==a&&'"'!==a||(a+=this.get_unformatted(a),i=!0),"="===a&&(i=!1),r.length&&"="!=r[r.length-1]&&">"!=a&&i){if(this.space_or_wrap(r),i=!1,!o&&"force"===v&&"/"!=a){this.print_newline(!0,r),this.print_indentation(r);for(var c=0;c<b;c++)r.push(g)}for(var d=0;d<r.length;d++)if(" "===r[d]){o=!1;break}}if(m&&"<"===n&&a+this.input.charAt(this.pos)==="{{"&&(a+=this.get_unformatted("}}"),r.length&&" "!=r[r.length-1]&&"<"!=r[r.length-1]&&(a=" ".concat(a)),i=!0),"<"!==a||n||(t=this.pos-1,n="<"),m&&!n&&2<=r.length&&"{"===r[r.length-1]&&"{"===r[r.length-2]&&(t="#"===a||"/"===a||"!"===a?this.pos-3:this.pos-2,n="{"),this.line_char_count++,r.push(a),r[1]&&("!"===r[1]||"?"===r[1]||"%"===r[1])){r=[this.get_comment(t)];break}if(m&&r[1]&&"{"===r[1]&&r[2]&&"!"===r[2]){r=[this.get_comment(t)];break}if(m&&"{"===n&&2<r.length&&"}"===r[r.length-2]&&"}"===r[r.length-1])break}}while(">"!=a);var f=r.join(""),p=-1!=f.indexOf(" ")?f.indexOf(" "):"{"===f[0]?f.indexOf("}"):f.indexOf(">"),u="<"!==f[0]&&m?"#"===f[2]?3:2:1,u=f.substring(u,p).toLowerCase();return"/"===f.charAt(f.length-2)||this.Utils.in_array(u,this.Utils.single_token)?e||(this.tag_type="SINGLE"):m&&"{"===f[0]&&"else"===u?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(u,h)?(p=this.get_unformatted("</".concat(u,">"),f),r.push(p),this.pos,this.tag_type="SINGLE"):"script"===u&&(-1===f.search("type")||-1<f.search("type")&&-1<f.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/))?e||(this.record_tag(u),this.tag_type="SCRIPT"):"style"===u&&(-1===f.search("type")||-1<f.search("type")&&-1<f.search("text/css"))?e||(this.record_tag(u),this.tag_type="STYLE"):"!"===u.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"===u.charAt(0)?(this.retrieve_tag(u.substring(1)),this.tag_type="END"):(this.record_tag(u),"html"!=u.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(r),this.Utils.in_array(u,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length)&&"\n"!=this.output[this.output.length-2]&&this.print_newline(!0,this.output)),e&&(this.pos=s,this.line_char_count=l),r.join("")},this.get_comment=function(e){var t="",n=">",a=!1,r=(this.pos=e,this.input.charAt(this.pos));for(this.pos++;this.pos<=this.input.length&&((t+=r)[t.length-1]!==n[n.length-1]||-1==t.indexOf(n));)!a&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",a=!0):0===t.indexOf("<![cdata[")?(n="]]>",a=!0):0===t.indexOf("<![")?(n="]>",a=!0):0===t.indexOf("\x3c!--")?(n="--\x3e",a=!0):0===t.indexOf("{{!")?(n="}}",a=!0):0===t.indexOf("<?")?(n="?>",a=!0):0===t.indexOf("<%")&&(n="%>",a=!0)),r=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!=t.toLowerCase().indexOf(e))return"";var n="",a="",r=!0,i="";do{if(this.pos>=this.input.length)return a;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!r){this.line_char_count--;continue}if("\n"===n||"\r"===n){a+="\n",this.line_char_count=0;continue}}a+=n,(i+=n.toLowerCase()).length>e.length&&(i=i.substring(1)),this.line_char_count++,r=!0,m&&"{"===n&&a.length&&"{"===a[a.length-2]&&(a+=this.get_unformatted("}}"))}while(i!==e);return a},this.get_token=function(){var e,t;return"TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token?(e=this.last_token.substr(7),"string"!=typeof(t=this.get_contents_to(e))?t:[t,"TK_".concat(e)]):"CONTENT"===this.current_mode?"string"!=typeof(t=this.get_content())?t:[t,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(t=this.get_tag())?t:[t,"TK_TAG_".concat(this.tag_type)]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":new Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){return!(!this.Utils.in_array(e,t)||"a"==e.toLowerCase()&&this.Utils.in_array("a",t)&&(e=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/))&&!this.Utils.in_array(e,t))},this.printer=function(e,t,n,a,r){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=n,this.brace_style=r,this.indent_level=0,this.wrap_line_length=a;for(var i=this.line_char_count=0;i<this.indent_size;i++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){this.line_char_count=0,t&&t.length&&(!e&&"\n"==t[t.length-1]||("\n"!=t[t.length-1]&&(t[t.length-1]=o(t[t.length-1])),t.push("\n")))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),e=e.replace(/^\s+/g,"")),this.print_token_raw(e))},this.print_token_raw=function(e){(e=0<this.newlines?o(e):e)&&""!==e&&(1<e.length&&"\n"===e[e.length-1]?(this.output.push(e.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(e));for(var t=0;t<this.newlines;t++)this.print_newline(0<t,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){0<this.indent_level&&this.indent_level--}},this}).printer(e,g,r,i,s);;){var p,u,E,y,w=n.get_token();if(n.token_text=w[0],n.token_type=w[1],"TK_EOF"===n.token_type)break;switch(n.token_type){case"TK_TAG_START":n.print_newline(!1,n.output),n.print_token(n.token_text),n.indent_content&&(n.indent(),n.indent_content=!1),n.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_END":"TK_CONTENT"===n.last_token&&""===n.last_text&&(_=n.token_text.match(/\w+/)[0],(y=null)!==(y=n.output.length?n.output[n.output.length-1].match(/(?:<|{{#)\/?\s*(\w+)/):y)&&(y[1]==_||n.Utils.in_array(y[1],h))||n.print_newline(!1,n.output)),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var _=n.token_text.match(/^\s*<([a-z-]+)/i);_&&n.Utils.in_array(_[1],h)||n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":n.print_token(n.token_text),n.indent_content&&(n.indent(),n.indent_content=!1),n.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":n.print_token(n.token_text),n.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":""!==n.token_text&&(n.print_newline(!1,n.output),y=n.token_text,u=void 0,E=1,"TK_SCRIPT"===n.token_type?u=A:"TK_STYLE"===n.token_type&&(u=C),"keep"===t.indent_scripts?E=0:"separate"===t.indent_scripts&&(E=-n.indent_level),p=n.get_full_indent(E),y=u?u(y.replace(/^\s*/,p),t):(u=y.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(n.indent_string).length-1,E=n.get_full_indent(E-u),y.replace(/^\s*/,p).replace(/\r\n|\r|\n/g,"\n"+E).replace(/\s+$/,"")))&&(n.print_token_raw(y),n.print_newline(!0,n.output)),n.current_mode="TAG";break;default:""!==n.token_text&&n.print_token(n.token_text)}n.last_token=n.token_type,n.last_text=n.token_text}return e=n.output.join("").replace(/[\r\n\t ]+$/,""),d&&(e+="\n"),e}}},Object.assign(ct.DEFAULTS,{codeMirror:window.CodeMirror,codeMirrorOptions:{lineNumbers:!0,tabMode:"indent",indentWithTabs:!0,lineWrapping:!0,mode:"text/html",tabSize:2},codeBeautifierOptions:{end_with_newline:!0,indent_inner_html:!0,extra_liners:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","ol","table","dl"],brace_style:"expand",indent_char:"\t",indent_size:1,wrap_line_length:0},codeViewKeepActiveButtons:["fullscreen"]}),ct.PLUGINS.codeView=function(l){var c,d,f,p=l.$;function u(){return d?d.getValue():c.val()}function g(){f()&&(d&&d.setSize(null,l.opts.height||"auto"),l.opts.heightMin||l.opts.height?(l.$box.find(".CodeMirror-scroll, .CodeMirror-gutters").css("min-height",l.opts.heightMin||l.opts.height),c.css("height",l.opts.height)):l.$box.find(".CodeMirror-scroll, .CodeMirror-gutters").css("min-height",""))}var h,m=!1;function v(){f()&&l.events.trigger("blur")}function b(){f()&&m&&l.events.trigger("focus")}function n(e){c||(c=p('<textarea class="fr-code" tabIndex="-1">'),l.$wp.append(c),c.attr("dir",l.opts.direction),l.$box.hasClass("fr-basic")||(h=p('<a data-cmd="html" title="Code View" class="fr-command fr-btn html-switch'.concat(l.helpers.isMobile()?"":" fr-desktop",'" role="button" tabIndex="-1"><i class="fa fa-code"></i></button>')),l.$box.append(h),l.events.bindClick(l.$box,"a.html-switch",function(){l.events.trigger("commands.before",["html"]),E(!1),l.events.trigger("commands.after",["html"])})),t=function t(){return!f()},l.events.on("buttons.refresh",t),l.events.on("copy",t,!0),l.events.on("cut",t,!0),l.events.on("paste",t,!0),l.events.on("destroy",y,!0),l.events.on("html.set",function(){f()&&E(!0)}),l.events.on("codeView.update",g),l.events.on("codeView.toggle",function(){l.$box.hasClass("fr-code-view")&&E()}),l.events.on("form.submit",function(){f()&&(l.html.set(u()),l.events.trigger("contentChanged",[],!0))},!0),!d&&l.opts.codeMirror?((d=l.opts.codeMirror.fromTextArea(c.get(0),l.opts.codeMirrorOptions)).on("blur",v),d.on("focus",b)):(l.events.$on(c,"keydown keyup change input",function(){l.opts.height?this.removeAttribute("rows"):(this.rows=1,0===this.value.length?this.style.height="auto":this.style.height="".concat(this.scrollHeight,"px"))}),l.events.$on(c,"blur",v),l.events.$on(c,"focus",b))),l.undo.saveStep(),l.html.cleanEmptyTags(),l.html.cleanWhiteTags(!0),l.core.hasFocus()&&!l.core.isEmpty()&&(l.selection.save(),l.$el.find('.fr-marker[data-type="true"]').first().replaceWith('<span class="fr-tmp fr-sm">F</span>'),l.$el.find('.fr-marker[data-type="false"]').last().replaceWith('<span class="fr-tmp fr-em">F</span>'));var t,n,a,r,i,o=l.html.get(!1,!0),s=(l.$el.find("span.fr-tmp").remove(),l.$box.toggleClass("fr-code-view",!0),!1);l.core.hasFocus()&&(s=!0,l.events.disableBlur(),l.$el.blur()),o=(o=o.replace(/<span class="fr-tmp fr-sm">F<\/span>/,"FROALA-SM")).replace(/<span class="fr-tmp fr-em">F<\/span>/,"FROALA-EM"),l.codeBeautifier&&!o.includes("fr-embedly")&&(o=l.codeBeautifier.run(o,l.opts.codeBeautifierOptions)),d?(a=o.indexOf("FROALA-SM"),(r=o.indexOf("FROALA-EM"))<a?a=r:r-=9,i=(o=o.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).substring(0,a).length-o.substring(0,a).replace(/\n/g,"").length,n=o.substring(0,r).length-o.substring(0,r).replace(/\n/g,"").length,a=o.substring(0,a).length-o.substring(0,o.substring(0,a).lastIndexOf("\n")+1).length,r=o.substring(0,r).length-o.substring(0,o.substring(0,r).lastIndexOf("\n")+1).length,d.setSize(null,l.opts.height||"auto"),l.opts.heightMin&&l.$box.find(".CodeMirror-scroll").css("min-height",l.opts.heightMin),d.setValue(o),m=!s,d.focus(),m=!0,d.setSelection({line:i,ch:a},{line:n,ch:r}),d.refresh(),d.clearHistory()):(a=o.indexOf("FROALA-SM"),r=o.indexOf("FROALA-EM")-9,l.opts.heightMin&&c.css("min-height",l.opts.heightMin),l.opts.height&&c.css("height",l.opts.height),l.opts.heightMax&&c.css("max-height",l.opts.height||l.opts.heightMax),c.val(o.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).trigger("change"),i=p(l.o_doc).scrollTop(),m=!s,c.focus(),m=!0,c.get(0).setSelectionRange(a,r),p(l.o_doc).scrollTop(i)),l.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").not(e).filter(function(){return l.opts.codeViewKeepActiveButtons.indexOf(p(this).data("cmd"))<0}).addClass("fr-disabled").attr("aria-disabled",!0),e.addClass("fr-active").attr("aria-pressed",!0),!l.helpers.isMobile()&&l.opts.toolbarInline&&l.toolbar.hide()}function E(e){void 0===e&&(e=!f());var t=l.$tb.find('.fr-command[data-cmd="html"]');e?(l.popups.hideAll(),n(t)):(l.$box.toggleClass("fr-code-view",!1),e=t,t=u(),l.html.set(t),l.$el.blur(),l.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").not(e).removeClass("fr-disabled").attr("aria-disabled",!1),e.removeClass("fr-active").attr("aria-pressed",!1),(t=p(l.el).children().first()).is("table")?(e=t.find("td").first()).length&&l.selection.setAtStart(e[0]):l.selection.setAtStart(l.el),l.selection.restore(),l.placeholder.refresh(),l.undo.saveStep(),l.events.trigger("codeView.update"))}function y(){f()&&E(!1),d&&d.toTextArea(),c.val("").removeData().remove(),c=null,h&&(h.remove(),h=null)}return{_init:function(){if(l.events.on("focus",function(){var e;l.opts.toolbarContainer&&(e=l.$tb.find('.fr-command[data-cmd="html"]'),(f()?(l.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command").not(e).filter(function(){return l.opts.codeViewKeepActiveButtons.indexOf(p(this).data("cmd"))<0}).addClass("fr-disabled").attr("aria-disabled",!1),e.addClass("fr-active")):(l.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command").not(e).removeClass("fr-disabled").attr("aria-disabled",!1),e.removeClass("fr-active"))).attr("aria-pressed",!1))}),!l.$wp)return!1},toggle:E,isActive:f=function f(){return l.$box.hasClass("fr-code-view")},get:u}},ct.RegisterCommand("html",{title:"Code View",undo:!1,focus:!1,forcedRefresh:!0,toggle:!0,callback:function(){this.codeView.toggle()},plugin:"codeView"}),ct.DefineIcon("html",{NAME:"code",SVG_KEY:"codeView"}),Object.assign(ct.POPUP_TEMPLATES,{"textColor.picker":"[_BUTTONS_][_TEXT_COLORS_][_CUSTOM_COLOR_]","backgroundColor.picker":"[_BUTTONS_][_BACKGROUND_COLORS_][_CUSTOM_COLOR_]"}),Object.assign(ct.DEFAULTS,{colorsText:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsBackground:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorsHEXInput:!0,colorsButtons:["colorsBack","|","-"]}),ct.PLUGINS.colors=function(f){var p=f.$,i='<div class="fr-color-hex-layer fr-active fr-layer" id="fr-color-hex-layer- \n  '.concat(f.id,'"><div class="fr-input-line"><input maxlength="9" id="[ID]"\n  type="text" placeholder="').concat(f.language.translate("HEX Color"),'" \n  tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button \n  type="button" class="fr-command fr-submit" data-cmd="[COMMAND]" tabIndex="2" role="button">\n  ').concat(f.language.translate("OK"),"</button></div></div>");function o(e){for(var t="text"===e?f.opts.colorsText:f.opts.colorsBackground,n='<div class="fr-color-set fr-'.concat(e,'-color fr-selected-set">'),a=0;a<t.length;a++)0!==a&&a%f.opts.colorsStep==0&&(n+="<br>"),"REMOVE"!==t[a]?n+='<span class="fr-command fr-select-color" style="background:'.concat(t[a].toUpperCase(),';" \n        tabIndex="-1" aria-selected="false" role="button" data-cmd="apply').concat(e,'Color" \n        data-param1="').concat(t[a].toUpperCase(),'"><span class="fr-sr-only"> ').concat(f.language.translate("Color")).concat(t[a]," \n        &nbsp;&nbsp;&nbsp;</span></span>"):n+='<span class="fr-command fr-select-color" data-cmd="apply'.concat(e,'Color"\n         tabIndex="-1" role="button" data-param1="REMOVE" \n         title="').concat(f.language.translate("Clear Formatting"),'">').concat(f.icon.create("remove"),' \n        <span class="fr-sr-only"> ').concat(f.language.translate("Clear Formatting")," </span></span>");return"".concat(n,"</div>")}function s(e){var t=f.popups.get("".concat(e,"Color.picker")),n=p(f.selection.element()),a="background"===e?"background-color":"color",r=t.find(".fr-".concat(e,"-color .fr-select-color"));for(r.find(".fr-selected-color").remove(),r.removeClass("fr-active-item"),r.not('[data-param1="REMOVE"]').attr("aria-selected",!1);n.get(0)!==f.el;){if("transparent"!==n.css(a)&&"rgba(0, 0, 0, 0)"!==n.css(a)){var i=t.find(".fr-".concat(e,'-color .fr-select-color[data-param1="').concat(f.helpers.RGBToHex(n.css(a)),'"]'));i.append('<span class="fr-selected-color" aria-hidden="true">\uf00c</span>'),i.addClass("fr-active-item").attr("aria-selected",!0);break}n=n.parent()}var r=e,r=(o=f.popups.get("".concat(r,"Color.picker"))).find(".fr-".concat(r,"-color .fr-active-item")).attr("data-param1"),o=o.find(".fr-color-hex-layer input");r=r||"",o.length&&p(o.val(r).input).trigger("change")}function n(e){"REMOVE"!==e?f.format.applyStyle("background-color",f.helpers.HEXtoRGB(e)):f.format.removeStyle("background-color"),f.selection.save(),f.popups.hide("backgroundColor.picker"),f.selection.restore()}function a(e){"REMOVE"!==e?f.format.applyStyle("color",f.helpers.HEXtoRGB(e)):f.format.removeStyle("color"),f.selection.save(),f.popups.hide("textColor.picker"),f.selection.restore()}return{showColorsPopup:function(e){var t,n,a=f.$tb.find('.fr-command[data-cmd="'.concat(e,'"]')),r=f.popups.get("".concat(e,".picker"));(r=r||function(e){var t="";f.opts.toolbarInline&&0<f.opts.colorsButtons.length&&(t+='<div class="fr-buttons fr-colors-buttons fr-tabs">\n        '.concat(f.button.buildList(f.opts.colorsButtons),"\n        </div>"));var n="";t="textColor"===e?(f.opts.colorsHEXInput&&(n=i.replace(/\[ID\]/g,"fr-color-hex-layer-text-".concat(f.id)).replace(/\[COMMAND\]/g,"customTextColor")),{buttons:t,text_colors:o("text"),custom_color:n}):(f.opts.colorsHEXInput&&(n=i.replace(/\[ID\]/g,"fr-color-hex-layer-background-".concat(f.id)).replace(/\[COMMAND\]/g,"customBackgroundColor")),{buttons:t,background_colors:o("background"),custom_color:n});n=f.popups.create("".concat(e,".picker"),t);return function(c,d){f.events.on("popup.tab",function(e){var t,n,a,r,i,o,s,l=p(e.currentTarget);return!f.popups.isVisible(d)||!l.is("span, input, button")||(t=e.which,n=!0,ct.KEYCODE.TAB===t?(a=c.find("span.fr-select-color"),(l.is(a.first())&&e.shiftKey||l.is(c.find("span.fr-submit"))&&!e.shiftKey)&&(a=c.find(".fr-buttons"),n=!f.accessibility.focusToolbar(a,!!e.shiftKey)),!1!==n&&((a=c.find("span.fr-select-color")).add(c.find("input")),a.add(c.find("button.fr-submit")),i=a.index(l),i=e.shiftKey?((i-1)%a.length+a.length)%a.length:(i+1)%a.length,i=a.get(i),f.events.disableBlur(),i.focus(),n=!1)):ct.KEYCODE.ARROW_UP===t||ct.KEYCODE.ARROW_DOWN===t||ct.KEYCODE.ARROW_LEFT===t||ct.KEYCODE.ARROW_RIGHT===t?l.is("span.fr-select-color")&&(i=(a=l.parent().find("span.fr-select-color")).index(l),r=f.opts.colorsStep,s=Math.floor(a.length/r),o=i%r,i=Math.floor(i/r)*r+o,o=s*r,ct.KEYCODE.ARROW_UP===t?i=((i-r)%o+o)%o:ct.KEYCODE.ARROW_DOWN===t?i=(i+r)%o:ct.KEYCODE.ARROW_LEFT===t?i=((i-1)%o+o)%o:ct.KEYCODE.ARROW_RIGHT===t&&(i=(i+1)%o),s=p(a.get(i)),f.events.disableBlur(),s.focus(),n=!1):ct.KEYCODE.ENTER===t&&(f.button.exec(l),n=!1),!1===n&&(e.preventDefault(),e.stopPropagation()),n)},!0)}(n,"".concat(e,".picker")),n}(e)).hasClass("fr-active")||(f.undo.saveStep(),f.popups.setContainer("".concat(e,".picker"),f.$tb),null!=(n=f.popups.get("".concat(t="textColor"===e?"backgroundColor":"textColor",".picker")))&&n.hasClass("fr-active")?f.popups.hide("".concat(t,".picker")):f.selection.save(),s("textColor"===e?"text":"background"),a.isVisible()?(t=(n=f.button.getPosition(a)).left,n=n.top,f.popups.show("".concat(e,".picker"),t,n,a.outerHeight())):(f.position.forSelection(r),f.popups.show("".concat(e,".picker"))))},background:n,customColor:function(e){var t=f.popups.get("".concat(e,"Color.picker")).find(".fr-color-hex-layer input");t.length&&("background"===e?n:a)(t.val())},text:a,back:function(){f.popups.hide("textColor.picker"),f.popups.hide("backgroundColor.picker"),f.toolbar.showInline()}}},ct.DefineIcon("textColor",{NAME:"tint",SVG_KEY:"textColor"}),ct.RegisterCommand("textColor",{title:"Text Color",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("textColor.picker")?(this.$el.find(".fr-marker").length&&this.events.disableBlur(),this.popups.hide("textColor.picker")):this.colors.showColorsPopup("textColor")}}),ct.RegisterCommand("applytextColor",{undo:!0,callback:function(e,t){this.colors.text(t)}}),ct.RegisterCommand("customTextColor",{title:"OK",undo:!0,callback:function(){this.colors.customColor("text")}}),ct.DefineIcon("backgroundColor",{NAME:"paint-brush",SVG_KEY:"backgroundColor"}),ct.RegisterCommand("backgroundColor",{title:"Background Color",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("backgroundColor.picker")?(this.$el.find(".fr-marker").length&&this.events.disableBlur(),this.popups.hide("backgroundColor.picker")):this.colors.showColorsPopup("backgroundColor")}}),ct.RegisterCommand("applybackgroundColor",{undo:!0,callback:function(e,t){this.colors.background(t)}}),ct.RegisterCommand("customBackgroundColor",{title:"OK",undo:!0,callback:function(){this.colors.customColor("background")}}),ct.DefineIcon("colorsBack",{NAME:"arrow-left",SVG_KEY:"back"}),ct.RegisterCommand("colorsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.colors.back()}}),ct.DefineIcon("remove",{NAME:"eraser",SVG_KEY:"remove"}),Object.assign(ct.DEFAULTS,{dragInline:!0}),ct.PLUGINS.draggable=function(c){var d=c.$;function e(e){return!(!e.originalEvent||!e.originalEvent.target||e.originalEvent.target.nodeType!==Node.TEXT_NODE)||(e.target&&"A"===e.target.tagName&&1===e.target.childNodes.length&&"IMG"===e.target.childNodes[0].tagName&&(e.target=e.target.childNodes[0]),d(e.target).hasClass("fr-draggable")?(c.undo.canDo()||c.undo.saveStep(),c.opts.dragInline?c.$el.attr("contenteditable",!0):c.$el.attr("contenteditable",!1),c.opts.toolbarInline&&c.toolbar.hide(),d(e.target).addClass("fr-dragging"),c.browser.msie||c.browser.edge||c.selection.clear(),void e.originalEvent.dataTransfer.setData("text","Froala")):(e.preventDefault(),!1))}var f,p=function p(e){return!(e&&("HTML"===e.tagName||"BODY"===e.tagName||c.node.isElement(e)))};function u(e,t,n){var a,r;c.opts.iframe&&(a=c.helpers.getPX(c.$wp.find(".fr-iframe").css("padding-top")),r=c.helpers.getPX(c.$wp.find(".fr-iframe").css("padding-left")),e+=c.$iframe.offset().top+a,t+=c.$iframe.offset().left+r),f.offset().top!==e&&f.css("top",e),f.offset().left!==t&&f.css("left",t),f.width()!==n&&f.css("width",n)}function t(e){if(e.originalEvent.dataTransfer.dropEffect="move",c.opts.dragInline)(!function(){for(var e=null,t=0;t<ct.INSTANCES.length;t++)if((e=ct.INSTANCES[t].$el.find(".fr-dragging")).length)return e.get(0)}()||c.browser.msie||c.browser.edge)&&e.preventDefault();else{e.preventDefault();var t,n,a=e,r=c.doc.elementFromPoint(a.originalEvent.pageX-c.win.pageXOffset,a.originalEvent.pageY-c.win.pageYOffset);if(!p(r)){for(var i=0,o=r;!p(o)&&o===r&&0<a.originalEvent.pageY-c.win.pageYOffset-i;)o=c.doc.elementFromPoint(a.originalEvent.pageX-c.win.pageXOffset,a.originalEvent.pageY-c.win.pageYOffset-++i);(!p(o)||f&&0===c.$el.find(o).length&&o!==f.get(0))&&(o=null);for(var s=0,l=r;!p(l)&&l===r&&a.originalEvent.pageY-c.win.pageYOffset+s<d(c.doc).height();)l=c.doc.elementFromPoint(a.originalEvent.pageX-c.win.pageXOffset,a.originalEvent.pageY-c.win.pageYOffset+ ++s);r=null===(l=!p(l)||f&&0===c.$el.find(l).length&&l!==f.get(0)?null:l)&&o?o:l&&null===o?l:l&&o?i<s?o:l:null}d(r).hasClass("fr-drag-helper")||((r=(r=(r=r&&!c.node.isBlock(r)?c.node.blockParent(r):r)&&0<=["TD","TH","TR","THEAD","TBODY"].indexOf(r.tagName)?d(r).parents("table").get(0):r)&&0<=["LI"].indexOf(r.tagName)?d(r).parents("UL, OL").get(0):r)&&!d(r).hasClass("fr-drag-helper")?(f||(ct.$draggable_helper||(ct.$draggable_helper=d(document.createElement("div")).attr("class","fr-drag-helper")),f=ct.$draggable_helper,c.events.on("shared.destroy",function(){f.html("").removeData().remove(),f=null},!0)),e=a.originalEvent.pageY<d(r).offset().top+d(r).outerHeight()/2,t=d(r),n=0,e||0!==t.next().length?(e||(t=t.next()),"before"===f.data("fr-position")&&t.is(f.data("fr-tag"))||(0<t.prev().length&&(n=parseFloat(t.prev().css("margin-bottom"))||0),n=Math.max(n,parseFloat(t.css("margin-top"))||0),u(t.offset().top-n/2-c.$box.offset().top,t.offset().left-c.win.pageXOffset-c.$box.offset().left,t.width()),f.data("fr-position","before"))):"after"===f.data("fr-position")&&t.is(f.data("fr-tag"))||(n=parseFloat(t.css("margin-bottom"))||0,u(t.offset().top+d(r).height()+n/2-c.$box.offset().top,t.offset().left-c.win.pageXOffset-c.$box.offset().left,t.width()),f.data("fr-position","after")),f.data("fr-tag",t),f.addClass("fr-visible"),c.$box.append(f)):f&&0<c.$box.find(f).length&&f.removeClass("fr-visible"))}}function n(e){e.originalEvent.dataTransfer.dropEffect="move",c.opts.dragInline||e.preventDefault()}function a(e){c.$el.attr("contenteditable",!0);var t=c.$el.find(".fr-dragging");f&&f.hasClass("fr-visible")&&c.$box.find(f).length?r(e):t.length&&(e.preventDefault(),e.stopPropagation()),f&&c.$box.find(f).length&&f.removeClass("fr-visible"),t.removeClass("fr-dragging")}function r(e){var t,n;c.$el.attr("contenteditable",!0);for(var a,r=0;r<ct.INSTANCES.length;r++)if((t=ct.INSTANCES[r].$el.find(".fr-dragging")).length){n=ct.INSTANCES[r];break}if(t.length){if(e.preventDefault(),e.stopPropagation(),f&&f.hasClass("fr-visible")&&c.$box.find(f).length)f.data("fr-tag")[f.data("fr-position")]('<span class="fr-marker"></span>'),f.removeClass("fr-visible");else if(!1===c.markers.insertAtPoint(e.originalEvent))return!1;return t.removeClass("fr-dragging"),!1!==(t=c.events.chainTrigger("element.beforeDrop",t))&&((e=t).parent().is("A")&&1===t.parent().get(0).childNodes.length&&(e=t.parent()),c.core.isEmpty()?c.events.focus():(c.$el.find(".fr-marker").replaceWith(ct.MARKERS),c.selection.restore()),n===c||c.undo.canDo()||c.undo.saveStep(),c.core.isEmpty()?c.$el.html(e):(a=c.markers.insert(),(c||"").selection&&e.contains(a)&&e.before(a),0===e.find(a).length?d(a).replaceWith(e):0===t.find(a).length&&d(a).replaceWith(t),t.after(ct.MARKERS),c.selection.restore()),c.popups.hideAll(),c.selection.save(),c.$el.find(c.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").not(c.opts.htmlAllowedEmptyTags.join(",")).remove(),c.html.wrap(),c.html.fillEmptyBlocks(),c.selection.restore(),c.undo.saveStep(),c.opts.iframe&&c.size.syncIframe(),n!==c&&(n.popups.hideAll(),n.$el.find(n.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").remove(),n.html.wrap(),n.html.fillEmptyBlocks(),n.undo.saveStep(),n.events.trigger("element.dropped"),n.opts.iframe)&&n.size.syncIframe(),c.events.trigger("element.dropped",[e])),!1}f&&f.removeClass("fr-visible"),c.undo.canDo()||c.undo.saveStep(),setTimeout(function(){c.undo.saveStep()},0)}function i(e){if(e&&"DIV"===e.tagName&&c.node.hasClass(e,"fr-drag-helper"))e.parentNode.removeChild(e);else if(e&&e.nodeType===Node.ELEMENT_NODE)for(var t=e.querySelectorAll("div.fr-drag-helper"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n])}return{_init:function(){c.opts.enter===ct.ENTER_BR&&(c.opts.dragInline=!0),c.events.on("dragstart",e,!0),c.events.on("dragover",t,!0),c.events.on("dragenter",n,!0),c.events.on("document.dragend",a,!0),c.events.on("document.drop",a,!0),c.events.on("drop",r,!0),c.events.on("html.processGet",i)}}},Object.assign(ct.DEFAULTS,{editInPopup:!1}),ct.MODULES.editInPopup=function(n){function t(){n.events.$on(n.$el,n._mouseup,function(){setTimeout(function(){var e,t;e=n.popups.get("text.edit"),t="INPUT"===n.el.tagName?n.$el.attr("placeholder"):n.$el.text(),e.find("input").val(t).trigger("change"),n.popups.setContainer("text.edit",n.$sc),n.popups.show("text.edit",n.$el.offset().left+n.$el.outerWidth()/2,n.$el.offset().top+n.$el.outerHeight(),n.$el.outerHeight())},10)})}return{_init:function(){var e;n.opts.editInPopup&&(e='<div id="fr-text-edit-'.concat(n.id,'" class="fr-layer fr-text-edit-layer"><div class="fr-input-line"><input type="text" placeholder="').concat(n.language.translate("Text"),'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="updateText" tabIndex="2">').concat(n.language.translate("Update"),"</button></div></div>"),n.popups.create("text.edit",{edit:e}),t())},update:function(){var e=n.popups.get("text.edit").find("input").val();0===e.length&&(e=n.opts.placeholderText),"INPUT"===n.el.tagName?n.$el.attr("placeholder",e):n.$el.text(e),n.events.trigger("contentChanged"),n.popups.hide("text.edit")}}},ct.RegisterCommand("updateText",{focus:!1,undo:!1,callback:function(){this.editInPopup.update()}}),Object.assign(ct.POPUP_TEMPLATES,{emoticons:"[_BUTTONS_][_CUSTOM_LAYER_]"}),Object.assign(ct.DEFAULTS,{emoticonsSet:[{id:"people",name:"Smileys & People",code:"1f600",emoticons:[{code:"1f600",desc:"Grinning face"},{code:"1f601",desc:"Grinning Face with Smiling Eyes"},{code:"1f602",desc:"Face with Tears of Joy"},{code:"1f603",desc:"Smiling Face with Open Mouth"},{code:"1f604",desc:"Smiling Face with Open Mouth and Smiling Eyes"},{code:"1f605",desc:"Smiling Face with Open Mouth and Cold Sweat"},{code:"1f606",desc:"Smiling Face with Open Mouth and Tightly-Closed Eyes"},{code:"1f609",desc:"Winking Face"},{code:"1f60a",desc:"Smiling Face with Smiling Eyes"},{code:"1f608",desc:"Face Savouring Delicious Food"},{code:"1f60e",desc:"Smiling Face with Sunglasses"},{code:"1f60d",desc:"Smiling Face with Heart-Shaped Eyes"},{code:"1f618",desc:"Face Throwing a Kiss"},{code:"1f617",desc:"Kissing Face"},{code:"1f619",desc:"Kissing Face with Smiling Eyes"},{code:"1f61a",desc:"Kissing Face with Closed Eyes"},{code:"263a",desc:"White Smiling Face"},{code:"1f642",desc:"Slightly Smiling Face"},{code:"1f610",desc:"Neutral Face"},{code:"1f611",desc:"Expressionless Face"},{code:"1f636",desc:"Face Without Mouth"},{code:"1f60f",desc:"Smirking Face"},{code:"1f623",desc:"Persevering Face"},{code:"1f625",desc:"Disappointed but Relieved Face"},{code:"1f62e",desc:"Face with Open Mouth"},{code:"1f62f",desc:"Hushed Face"},{code:"1f62a",desc:"Sleepy Face"},{code:"1f62b",desc:"Tired Face"},{code:"1f634",desc:"Sleeping Face"},{code:"1f60c",desc:"Relieved Face"},{code:"1f61b",desc:"Face with Stuck-out Tongue"},{code:"1f61c",desc:"Face with Stuck-out Tongue and Winking Eye"},{code:"1f61d",desc:"Face with Stuck-out Tongue and Tightly-Closed Eyes"},{code:"1f612",desc:"Unamused Face"},{code:"1f613",desc:"Face with Cold Sweat"},{code:"1f613",desc:"Face with Cold Sweat"},{code:"1f614",desc:"Pensive Face"},{code:"1f615",desc:"Confused Face"},{code:"1f632",desc:"Astonished  Face"},{code:"1f616",desc:"Confounded Face"},{code:"1f61e",desc:"Disappointed Face"},{code:"1f61f",desc:"Worried Face"},{code:"1f624",desc:"Face with Look of Triumph"},{code:"1f622",desc:"Crying Face"},{code:"1f62d",desc:"Loudly Crying Face"},{code:"1f626",desc:"Frowning Face with Open Mouth"},{code:"1f627",desc:"Anguished Face"},{code:"1f628",desc:"Fearful Face"},{code:"1f629",desc:"Weary Face"},{code:"1f62c",desc:"Grimacing Face"},{code:"1f630",desc:"Face with Open Mouth and Cold Sweat"},{code:"1f631",desc:"Face Screaming in Fear"},{code:"1f633",desc:"Flushed Face"},{code:"1f635",desc:"Dizzy Face"},{code:"1f621",desc:"Pouting Face"},{code:"1f620",desc:"Angry Face"},{code:"1f637",desc:"Face with Medical Mask"},{code:"1f607",desc:"Smiling Face with Halo"},{code:"1f608",desc:"Smiling Face with Horns"},{code:"1f47f",desc:"Imp"},{code:"1f479",desc:"Japanese Ogre"},{code:"1f47a",desc:"Japanese Goblin"},{code:"1f480",desc:"Skull"},{code:"1f47b",desc:"Ghost"},{code:"1f47d",desc:"Extraterrestrial Alien"},{code:"1f47e",desc:"Alien Monster"},{code:"1f4a9",desc:"Pile of Poo"},{code:"1f63a",desc:"Smiling Cat Face with Open Mouth"},{code:"1f638",desc:"Grinning Cat Face with Smiling Eyes"},{code:"1f639",desc:"Cat Face with Tears of Joy"},{code:"1f63b",desc:"Smiling Cat Face with Heart-Shaped Eyes"},{code:"1f63c",desc:"Cat Face with Wry Smile"},{code:"1f63d",desc:"Kissing Cat Face with Closed Eyes"},{code:"1f640",desc:"Weary Cat Face"},{code:"1f63f",desc:"Crying Cat Face"},{code:"1f63e",desc:"Pouting Cat Face"},{code:"1f648",desc:"See-No-Evil Monkey"},{code:"1f649",desc:"Hear-No-Evil Monkey"},{code:"1f64a",desc:"Speak-No-Evil Monkey"},{code:"1f476",desc:"Baby"},{code:"1f466",desc:"Boy"},{code:"1f467",desc:"Girl"},{code:"1f468",desc:"Man"},{code:"1f469",desc:"Woman"},{code:"1f474",desc:"Older Man"},{code:"1f475",desc:"Older Woman"},{code:"1f46e",desc:"Police Officer"},{code:"1f482",desc:" Guardsman"},{code:"1f477",desc:" Construction Worker"},{code:"1f478",desc:"Princess"},{code:"1f473",desc:"Man with Turban"},{code:"1f472",desc:"Man with Gua Pi Mao"},{code:"1f471",desc:"Person with Blond Hair"},{code:"1f470",desc:"Bride with Veil"},{code:"1f47c",desc:"Baby Angel"},{code:"1f385",desc:"Father Christmas"},{code:"1f64e",desc:"Person with Pouting Face"},{code:"1f645",desc:"Face with No Good Gesture"},{code:"1f646",desc:"Face with Ok Gesture"},{code:"1f481",desc:"Information Desk Person"},{code:"1f64b",desc:"Happy Person Raising One Hand"},{code:"1f647",desc:"Person Bowing Deeply"},{code:"1f486",desc:"Face Massage"},{code:"1f487",desc:"Haircut"},{code:"1f6b6",desc:"Pedestrian"},{code:"1f3c3",desc:"Runner"},{code:"1f483",desc:"Dancer"},{code:"1f46f",desc:"Woman with Bunny Ears"},{code:"1f6c0",desc:"Bath"},{code:"1f464",desc:"Bust in Silhouette"},{code:"1f465",desc:"Busts in Silhouette"},{code:"1f3c7",desc:"Horse Racing"},{code:"1f3c2",desc:" Snowboarder"},{code:"1f3c4",desc:" Surfer"},{code:"1f6a3",desc:" Rowboat"},{code:"1f3ca",desc:" Swimmer"},{code:"1f6b4",desc:" Bicyclist"},{code:"1f6b5",desc:"Mountain Bicyclist"},{code:"1f46b",desc:" Man and Woman Holding Hands"},{code:"1f46c",desc:"Two Men Holding Hands"},{code:"1f46d",desc:"Two Women Holding Hands"},{code:"1f48f",desc:"Kiss"},{code:"1f468-2764-1f48b-1f468",uCode:"\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68",desc:"Man Kiss Man"},{code:"1f469-2764-1f48b-1f469",uCode:"\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc69",desc:"Woman Kiss Woman"},{code:"1f491",desc:"Couple with Heart"},{code:"1f468-2764-1f468",uCode:"\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68",desc:"Man Heart Man"},{code:"1f469-2764-1f469",uCode:"\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc69",desc:"Woman Heart Woman"},{code:"1f46a",desc:"Family"},{code:"1f468",desc:"Man Woman Boy"},{code:"1f468-1f469-1f467",desc:"Man Woman Girl"},{code:"1f468-1f469-1f467-1f466",desc:"Man Woman Girl Boy"},{code:"1f468-1f469-1f466-1f466",desc:"Man Woman Boy Boy"},{code:"1f468-1f469-1f467-1f467",desc:"Man Woman Girl Girl"},{code:"1f468-1f468-1f466",desc:"Man Man Boy"},{code:"1f468-1f468-1f467",desc:"Man Man Girl"},{code:"1f468-1f468-1f467-1f466",desc:"Man Man Girl Boy"},{code:"1f468-1f468-1f466-1f466",desc:"Man Man Boy Boy"},{code:"1f469-1f469-1f466",desc:"Woman Woman Boy"},{code:"1f469-1f469-1f467",desc:"Woman Woman Girl"},{code:"1f469-1f469-1f467-1f466",desc:"Woman Woman Girl Boy"},{code:"1f469-1f469-1f467-1f467",desc:"Woman Woman Girl Girl"},{code:"1f4aa",desc:"Flexed Biceps"},{code:"1f448",desc:"White Left Pointing Backhand Index"},{code:"1f449",desc:"White Right Pointing Backhand Index"},{code:"1f446",desc:"White Up Pointing Backhand Index"},{code:"1f447",desc:"White Down Pointing Backhand Index"},{code:"270c",desc:"Victory Hand"},{code:"270b",desc:"Raised Hand"},{code:"1f44c",desc:"Ok Hand Sign"},{code:"1f44d",desc:"Thumbs Up Sign"},{code:"1f44e",desc:"Thumbs Down Sign"},{code:"270a",desc:"Raised Fist"},{code:"1f44a",desc:"Fisted Hand Sign"},{code:"1f44b",desc:"Waving Hand Sign"},{code:"1f44f",desc:"Clapping Hands Sign"},{code:"1f450",desc:"Open  Hands Sign"},{code:"1f64c",desc:"Person Raising Both Hands in Celebration"},{code:"1f64f",desc:"Person with Folded Hands"},{code:"1f485",desc:"Nail Polish"},{code:"1f442",desc:"Ear"},{code:"1f443",desc:"Nose"},{code:"1f463",desc:"Footprints"},{code:"1f440",desc:"Eyes"},{code:"1f445",desc:"Tongue"},{code:"1f444",desc:"Mouth"},{code:"1f48b",desc:"Kiss Mark"},{code:"1f498",desc:"Heart with Arrow"},{code:"2764",desc:"Heavy Black Heart"},{code:"1f493",desc:"Heavy Black Heart"},{code:"1f494",desc:"Broken Heart"},{code:"1f495",desc:"Two Hearts"},{code:"1f496",desc:"Sparkling Hearts"},{code:"1f497",desc:"Growing Hearts"},{code:"1f499",desc:"Blue Heart"},{code:"1f49a",desc:"Green Heart"},{code:"1f49b",desc:"Yellow Heart"},{code:"1f49c",desc:"Purple Heart"},{code:"1f49d",desc:"Heart with Ribbon"},{code:"1f49e",desc:"Revolving Hearts"},{code:"1f49f",desc:"Heart Decoration"},{code:"1f48c",desc:"Love Letter"},{code:"1f4a4",desc:"Sleeping Symbol"},{code:"1f4a2",desc:"Anger Symbol"},{code:"1f4a3",desc:"Bomb"},{code:"1f4a5",desc:"Collision Symbol"},{code:"1f4a6",desc:"Splashing Sweat Symbol"},{code:"1f4a8",desc:"Dash Symbol"},{code:"1f4ab",desc:"Dizzy Symbol"},{code:"1f4ab",desc:"Dizzy Symbol"},{code:"1f4ac",desc:"Speech Balloon"},{code:"1f4ad",desc:"Thought Balloon"},{code:"1f453",desc:"Eyeglasses"},{code:"1f454",desc:"Necktie"},{code:"1f455",desc:"T-Shirt"},{code:"1f456",desc:"Jeans"},{code:"1f457",desc:"Dress"},{code:"1f458",desc:"Kimono"},{code:"1f459",desc:"Bikini"},{code:"1f45a",desc:"Womans Clothes"},{code:"1f45b",desc:"Purse"},{code:"1f45c",desc:"Handbag"},{code:"1f45d",desc:"Pouch"},{code:"1f392",desc:"School Satchel"},{code:"1f45e",desc:"Mans Shoe"},{code:"1f45f",desc:"Athletic Shoe"},{code:"1f460",desc:"High-Heeled Shoe"},{code:"1f461",desc:"Womans Sandal"},{code:"1f462",desc:"Womans Boots"},{code:"1f451",desc:"Crown"},{code:"1f452",desc:"Womans Hat"},{code:"1f462",desc:"Top Hat"},{code:"1f393",desc:"Graduation Cap"},{code:"1f484",desc:"Lipstick"},{code:"1f48d",desc:"Ring"},{code:"1f48e",desc:"Gem Stone"}]},{id:"nature",name:"Animals & Nature",code:"1F435",emoticons:[{code:"1F435",desc:"Monkey Face"},{code:"1F412",desc:"Monkey"},{code:"1F436",desc:"Dog Face"},{code:"1F415",desc:"Dog"},{code:"1F429",desc:"Poodle"},{code:"1F43A",desc:"Wolf Face"},{code:"1F431",desc:"Cat Face"},{code:"1F408",desc:"Cat"},{code:"1F42F",desc:"Tiger Face"},{code:"1F405",desc:"Tiger"},{code:"1F406",desc:"Leopard"},{code:"1F434",desc:"Horse Face"},{code:"1F40E",desc:"Horse"},{code:"1F42E",desc:"Cow Face"},{code:"1F402",desc:"Ox"},{code:"1F403",desc:"Water Buffalo"},{code:"1F404",desc:"Cow"},{code:"1F437",desc:"Pig Face"},{code:"1F416",desc:"Pig"},{code:"1F417",desc:"Boar"},{code:"1F43D",desc:"Pig Nose"},{code:"1F40F",desc:"Ram"},{code:"1F411",desc:"Sheep"},{code:"1F410",desc:"Goat"},{code:"1F42A",desc:"Dromedary Camel"},{code:"1F42B",desc:"Bactrian Camel"},{code:"1F418",desc:"Elephant"},{code:"1F42D",desc:"Mouse Face"},{code:"1F401",desc:"Mouse"},{code:"1F400",desc:"Rat"},{code:"1F439",desc:"Hamster Face"},{code:"1F430",desc:"Rabbit Face"},{code:"1F407",desc:"Rabbit"},{code:"1F43B",desc:"Bear Face"},{code:"1F428",desc:"Koala"},{code:"1F43C",desc:"Panda Face"},{code:"1F43E",desc:"Paw Prints"},{code:"1F414",desc:"Chicken"},{code:"1F413",desc:"Rooster"},{code:"1F423",desc:"Hatching Chick"},{code:"1F424",desc:"Baby Chick"},{code:"1F425",desc:"Front-Facing Baby Chick"},{code:"1F426",desc:"Bird"},{code:"1F427",desc:"Penguin"},{code:"1F438",desc:"Frog Face"},{code:"1F40A",desc:"Crocodile"},{code:"1F422",desc:"Turtle"},{code:"1F40D",desc:"Snake"},{code:"1F432",desc:"Dragon Face"},{code:"1F409",desc:"Dragon"},{code:"1F433",desc:"Spouting Whale"},{code:"1F40B",desc:"Whale"},{code:"1F42C",desc:"Dolphin"},{code:"1F41F",desc:"Fish"},{code:"1F420",desc:"Tropical Fish"},{code:"1F421",desc:"Blowfish"},{code:"1F419",desc:"Octopus"},{code:"1F41A",desc:"Spiral Shell"},{code:"1F40C",desc:"Snail"},{code:"1F41B",desc:"Bug"},{code:"1F41C",desc:"Ant"},{code:"1F41D",desc:"Honeybee"},{code:"1F41E",desc:"Lady Beetle"},{code:"1F490",desc:"Bouquet"},{code:"1F338",desc:"Cherry Blossom"},{code:"1F4AE",desc:"White Flower"},{code:"1F339",desc:"Rose"},{code:"1F33A",desc:"Hibiscus"},{code:"1F33B",desc:"Sunflower"},{code:"1F33C",desc:"Blossom"},{code:"1F337",desc:"Tulip"},{code:"1F331",desc:"Seedling"},{code:"1F332",desc:"Evergreen Tree"},{code:"1F333",desc:"Deciduous Tree"},{code:"1F334",desc:"Palm Tree"},{code:"1F335",desc:"Cactus"},{code:"1F33E",desc:"Ear of Rice"},{code:"1F33F",desc:"Herb"},{code:"2618",desc:"Four Leaf Clover"},{code:"1F341",desc:"Maple Leaf"},{code:"1F342",desc:"Fallen Leaf"},{code:"1F343",desc:"Leaf Fluttering in Wind"}]},{id:"foods",name:"Food & Drink",code:"1F347",emoticons:[{code:"1F347",desc:"Grapes"},{code:"1F348",desc:"Melon"},{code:"1F349",desc:"Watermelon"},{code:"1F34A",desc:"Tangerine"},{code:"1F34B",desc:"Lemon"},{code:"1F34C",desc:"Banana"},{code:"1F34D",desc:"Pineapple"},{code:"1F34E",desc:"Red Apple"},{code:"1F34F",desc:"Green Apple"},{code:"1F350",desc:"Pear"},{code:"1F351",desc:"Peach"},{code:"1F352",desc:"Cherries"},{code:"1F353",desc:"Strawberry"},{code:"1F345",desc:"Tomato"},{code:"1F346",desc:"Aubergine"},{code:"1F33D",desc:"Ear of Maize"},{code:"1F344",desc:"Mushroom"},{code:"1F330",desc:"Chestnut"},{code:"1F35E",desc:"Bread"},{code:"1F356",desc:"Meat on Bone"},{code:"1F357",desc:"Poultry Leg"},{code:"1F354",desc:"Hamburger"},{code:"1F35F",desc:"French Fries"},{code:"1F355",desc:"Slice of Pizza"},{code:"1F373",desc:"Cooking"},{code:"1F372",desc:"Pot of Food"},{code:"1F371",desc:"Bento Box"},{code:"1F358",desc:"Rice Cracker"},{code:"1F359",desc:"Rice Ball"},{code:"1F35A",desc:"Cooked Rice"},{code:"1F35B",desc:"Curry and Rice"},{code:"1F35C",desc:"Steaming Bowl"},{code:"1F35D",desc:"Spaghetti"},{code:"1F360",desc:"Roasted Sweet Potato"},{code:"1F362",desc:"Oden"},{code:"1F363",desc:"Sushi"},{code:"1F364",desc:"Fried Shrimp"},{code:"1F365",desc:"Fish Cake with Swirl Design"},{code:"1F361",desc:"Dango"},{code:"1F366",desc:"Soft Ice Cream"},{code:"1F367",desc:"Shaved Ice"},{code:"1F368",desc:"Ice Cream"},{code:"1F369",desc:"Doughnut"},{code:"1F36A",desc:"Cookie"},{code:"1F382",desc:"Birthday Cake"},{code:"1F370",desc:"Shortcake"},{code:"1F36B",desc:"Chocolate Bar"},{code:"1F36C",desc:"Candy"},{code:"1F36D",desc:"Lollipop"},{code:"1F36E",desc:"Custard"},{code:"1F36F",desc:"Honey Pot"},{code:"1F37C",desc:"Baby Bottle"},{code:"2615",desc:"Hot Beverage"},{code:"1F375",desc:"Teacup Without Handle"},{code:"1F376",desc:"Sake Bottle and Cup"},{code:"1F377",desc:"Wine Glass"},{code:"1F378",desc:"Cocktail Glass"},{code:"1F379",desc:"Tropical Drink"},{code:"1F37A",desc:"Beer Mug"},{code:"1F37B",desc:"Clinking Beer Mugs"},{code:"1F374",desc:"Fork and Knife"},{code:"1F52A",desc:"Hocho"}]},{id:"activity",name:"Activities",code:"1f383",emoticons:[{code:"1f383",desc:" Jack-O-Lantern"},{code:"1f384",desc:"Christmas Tree"},{code:"1f386",desc:" Fireworks"},{code:"1f387",desc:"Firework Sparkler"},{code:"2728",desc:" Sparkles"},{code:"1f388",desc:"Balloon"},{code:"1f389",desc:"Party Popper"},{code:"1f38a",desc:"Confetti Ball"},{code:"1f38b",desc:"Tanabata Tree"},{code:"1f38d",desc:"Pine Decoration"},{code:"1f38e",desc:"Japanese Dolls"},{code:"1f38f",desc:"Carp Streamer"},{code:"1f390",desc:"Wind Chime"},{code:"1f391",desc:"Moon Viewing Ceremony"},{code:"1f380",desc:"Ribbon"},{code:"1f381",desc:"Wrapped Present"},{code:"1f3ab",desc:"Ticket"},{code:"1f3c6",desc:"Trophy"},{code:"1f388",desc:"Balloon"},{code:"26bd",desc:"Soccer Ball"},{code:"26be",desc:"Baseball"},{code:"1f3c0",desc:"Basketball and Hoop"},{code:"1f3c8",desc:"American Football"},{code:"1f3c9",desc:"Rugby Football"},{code:"1f3be",desc:"Tennis Racquet and Ball"},{code:"1f3b1",desc:"Billiards"},{code:"1f3b3",desc:"Bowling"},{code:"1f3af",desc:"Direct Hit"},{code:"26f3",desc:"Flag in Hole"},{code:"1f3a3",desc:"Fishing Pole and Fish"},{code:"1f3bd",desc:"Running Shirt with Sash"},{code:"1f3bf",desc:"Ski and Ski Boot"},{code:"1f3ae",desc:"Video Game"},{code:"1f3b2",desc:"Game Die"},{code:"2660",desc:"Black Spade Suit"},{code:"2665",desc:"Black Heart SuiT"},{code:"2666",desc:"Black Diamond Suit"},{code:"2663",desc:"Black Club Suit"},{code:"1f0cf",desc:"Playing Card Black Joker"},{code:"1f004",desc:"Mahjong Tile Red Dragon"},{code:"1f3b4",desc:"Flower Playing Cards"}]},{id:"places",name:"Travel & Places",code:"1f30d",emoticons:[{code:"1f30d",desc:"Earth Globe Europe-Africa"},{code:"1f30e",desc:"Earth Globe Americas"},{code:"1f30f",desc:"Earth Globe Asia-Australia"},{code:"1f310",desc:"Globe with Meridians"},{code:"1f5fe",desc:"Silhouette of Japan"},{code:"1f30b",desc:"Volcano"},{code:"1f5fb",desc:"Mount Fuji"},{code:"1f3e0",desc:"House Building"},{code:"1f3e1",desc:"House with Garden"},{code:"1f3e2",desc:"Office Building"},{code:"1f3e3",desc:"Japanese Post Office"},{code:"1f3e4",desc:"European Post Office"},{code:"1f3e5",desc:"Hospital"},{code:"1f3e6",desc:"Bank"},{code:"1f3e8",desc:"Hotel"},{code:"1f3e9",desc:"Love Hotel"},{code:"1f3ea",desc:"Convenience Store"},{code:"1f3eb",desc:"School"},{code:"1f3ec",desc:"Department Store"},{code:"1f3ed",desc:"Factory"},{code:"1f3ef",desc:"Japanese Castle"},{code:"1f3f0",desc:"European Castle"},{code:"1f492",desc:"Wedding"},{code:"1f5fc",desc:"Tokyo Tower"},{code:"1f5fd",desc:"Statue of Liberty"},{code:"26ea",desc:"Church"},{code:"26f2",desc:"Fountain"},{code:"26fa",desc:"Tent"},{code:"1f301",desc:"Foggy"},{code:"1f303",desc:"Night with Stars"},{code:"1f304",desc:"Sunrise over Mountains"},{code:"1f305",desc:"Sunrise"},{code:"1f306",desc:"Cityscape at Dusk"},{code:"1f307",desc:"Sunset over Buildings"},{code:"1f309",desc:"Bridge at Night"},{code:"2668",desc:"Hot Springs"},{code:"1f30c",desc:"Milky Way"},{code:"1f3a0",desc:"Carousel Horse"},{code:"1f3a1",desc:"Ferris Wheel"},{code:"1f3a2",desc:"Roller Coaster"},{code:"1f488",desc:"Barber Pole"},{code:"1f3aa",desc:"Circus Tent"},{code:"1f3ad",desc:"Performing Arts"},{code:"1f3a8",desc:"Artist Palette"},{code:"1f3b0",desc:"Slot Machine"},{code:"1f682",desc:"Steam Locomotive"},{code:"1f683",desc:"Railway Car"},{code:"1f684",desc:"High-Speed Train"},{code:"1f685",desc:"High-Speed Train with Bullet Nose"},{code:"1f686",desc:"Train"},{code:"1f687",desc:"Metro"},{code:"1f688",desc:"Light Rail"},{code:"1f689",desc:"Station"},{code:"1f68a",desc:"Tram"},{code:"1f69d",desc:"Monorail"},{code:"1f69e",desc:"Mountain Railway"},{code:"1f68b",desc:"Tram Car"},{code:"1f68c",desc:"Bus"},{code:"1f68d",desc:"Oncoming Bus"},{code:"1f68e",desc:"Trolleybus"},{code:"1f690",desc:"Minibus"},{code:"1f691",desc:"Ambulance"},{code:"1f692",desc:"Fire Engine"},{code:"1f693",desc:"Police Car"},{code:"1f694",desc:"Oncoming Police Car"},{code:"1f695",desc:"Taxi"},{code:"1f695",desc:"Oncoming Taxi"},{code:"1f697",desc:"Automobile"},{code:"1f698",desc:"Oncoming Automobile"},{code:"1f699",desc:"Recreational Vehicle"},{code:"1f69a",desc:"Delivery Truck"},{code:"1f69b",desc:"Articulated Lorry"},{code:"1f69c",desc:"Tractor"},{code:"1f6b2",desc:"Bicycle"},{code:"1f68f",desc:"Bus Stop"},{code:"26fd",desc:"Fuel Pump"},{code:"1f6a8",desc:"Police Cars Revolving Light"},{code:"1f6a5",desc:"Horizontal Traffic Light"},{code:"1f6a6",desc:"Vertical Traffic Light"},{code:"1f6a7",desc:"Construction Sign"},{code:"2693",desc:"Anchor"},{code:"26f5",desc:"Sailboat"},{code:"1f6a4",desc:"Speedboat"},{code:"1f6a2",desc:"Ship"},{code:"2708",desc:"Airplane"},{code:"1f4ba",desc:"Seat"},{code:"1f681",desc:"Helicopter"},{code:"1f69f",desc:"Suspension Railway"},{code:"1f6a0",desc:"Mountain Cableway"},{code:"1f6a1",desc:"Aerial Tramway"},{code:"1f680",desc:"Rocket"},{code:"1f6aa",desc:"Door"},{code:"1f6bd",desc:"Toilet"},{code:"1f6bf",desc:"Shower"},{code:"1f6c1",desc:"Bathtub"},{code:"231b",desc:"Hourglass"},{code:"23f3",desc:"Hourglass with Flowing Sand"},{code:"231a",desc:"Watch"},{code:"23f0",desc:"Alarm Clock"},{code:"1f55b",desc:"Clock Face Twelve Oclock"},{code:"1f567",desc:"Clock Face Twelve-Thirty"},{code:"1f550",desc:"Clock Face One Oclock"},{code:"1f55c",desc:"Clock Face One-thirty"},{code:"1f551",desc:"Clock Face Two Oclock"},{code:"1f55d",desc:"Clock Face Two-thirty"},{code:"1f552",desc:"Clock Face Three Oclock"},{code:"1f55e",desc:"Clock Face Three-thirty"},{code:"1f553",desc:"Clock Face Four Oclock"},{code:"1f55f",desc:"Clock Face Four-thirty"},{code:"1f554",desc:"Clock Face Five Oclock"},{code:"1f560",desc:"Clock Face Five-thirty"},{code:"1f555",desc:"Clock Face Six Oclock"},{code:"1f561",desc:"Clock Face Six-thirty"},{code:"1f556",desc:"Clock Face Seven Oclock"},{code:"1f562",desc:"Clock Face Seven-thirty"},{code:"1f557",desc:"Clock Face Eight Oclock"},{code:"1f563",desc:"Clock Face Eight-thirty"},{code:"1f558",desc:"Clock Face Nine Oclock"},{code:"1f564",desc:"Clock Face Nine-thirty"},{code:"1f559",desc:"Clock Face Ten Oclock"},{code:"1f565",desc:"Clock Face Ten-thirty"},{code:"1f55a",desc:"Clock Face Eleven Oclock"},{code:"1f566",desc:"Clock Face Eleven-thirty"},{code:"1f311",desc:"New Moon Symbol"},{code:"1f312",desc:"Waxing Crescent Moon Symbol"},{code:"1f313",desc:"First Quarter Moon Symbol"},{code:"1f314",desc:"Waxing Gibbous Moon Symbol"},{code:"1f315",desc:"Full Moon Symbol"},{code:"1f316",desc:"Waning Gibbous Moon Symbol"},{code:"1f317",desc:"Last Quarter Moon Symbol"},{code:"1f318",desc:"Waning Crescent Moon Symbol"},{code:"1f319",desc:"Crescent Moon"},{code:"1f31a",desc:"New Moon with Face"},{code:"1f31b",desc:"First Quarter Moon with Face"},{code:"1f31c",desc:"Last Quarter Moon with Face"},{code:"2600",desc:"Black Sun with Rays"},{code:"1f31d",desc:"Full Moon with Face"},{code:"1f31e",desc:"Sun with Face"},{code:"2b50",desc:"White Medium Star"},{code:"1f31f",desc:"Glowing Star"},{code:"1f320",desc:"Shooting Star"},{code:"2601",desc:"Cloud"},{code:"26c5",desc:"Sun Behind Cloud"},{code:"1f300",desc:"Cyclone"},{code:"1f308",desc:"Rainbow"},{code:"1f302",desc:"Closed Umbrella"},{code:"2614",desc:"Umbrella with Rain Drops"},{code:"26a1",desc:"High Voltage Sign"},{code:"2744",desc:"Snowflake"},{code:"2603",desc:"Snowman Without Snow"},{code:"1f525",desc:"Fire"},{code:"1f4a7",desc:"Droplet"},{code:"1F30A",desc:"Water Wave"}]},{id:"objects",name:"Objects",code:"1F507",emoticons:[{code:"1F507",desc:"Speaker with Cancellation Stroke"},{code:"1F508",desc:"Speaker"},{code:"1F509",desc:"Speaker with One Sound Wave"},{code:"1F50A",desc:"Speaker with Three Sound Wave"},{code:"1F4E2",desc:"Public Address Loudspeaker"},{code:"1F4E3",desc:"Cheering Megaphone"},{code:"1F4EF",desc:"Postal Horn"},{code:"1F514",desc:"Bell"},{code:"1F515",desc:"Bell with Cancellation Stroke"},{code:"1F3BC",desc:"Musical Score"},{code:"1F3B5",desc:"Musical Note"},{code:"1F3B6",desc:"Multiple Musical Notes"},{code:"1F3A4",desc:"Microphone"},{code:"1F3A7",desc:"Headphone"},{code:"1F4FB",desc:"Radio"},{code:"1F3B7",desc:"Saxophone"},{code:"1F3B8",desc:"Guitar"},{code:"1F3B9",desc:"Musical Keyboard"},{code:"1F3BA",desc:"Trumpet"},{code:"1F3BB",desc:"Violin"},{code:"1F4F1",desc:"Mobile Phone"},{code:"1F4F2",desc:"Mobile Phone with Rightwards Arrow at Left"},{code:"260E",desc:"Black Telephone"},{code:"1F4DE",desc:"Telephone Receiver"},{code:"1F4DF",desc:"Pager"},{code:"1F4E0",desc:"Fax Machine"},{code:"1F50B",desc:"Battery"},{code:"1F50C",desc:"Electric Plug"},{code:"1F4BB",desc:"Personal Computer"},{code:"1F4BD",desc:"Minidisc"},{code:"1F4BE",desc:"Floppy Disk"},{code:"1F4BF",desc:"Optical Disk"},{code:"1F4C0",desc:"Dvd"},{code:"1F3A5",desc:"Movie Camera"},{code:"1F3AC",desc:"Clapper Board"},{code:"1F4FA",desc:"Television"},{code:"1F4F7",desc:"Camera"},{code:"1F4F9",desc:"Video Camera"},{code:"1F4FC",desc:"Videocassette"},{code:"1F50D",desc:"Left-Pointing Magnifying Glass"},{code:"1F50E",desc:"Right-Pointing Magnifying Glass"},{code:"1F52C",desc:"Microscope"},{code:"1F52D",desc:"Telelscope"},{code:"1F4E1",desc:"Satellite Antenna"},{code:"1F4A1",desc:"Electric Light Bulb"},{code:"1F526",desc:"Electric Torch"},{code:"1F3EE",desc:"Izakaya Lantern"},{code:"1F4D4",desc:"Notebook with Decorative Cover"},{code:"1F4D5",desc:"Closed Book"},{code:"1F4D6",desc:"Open Book"},{code:"1F4D7",desc:"Green Book"},{code:"1F4D8",desc:"Blue Book"},{code:"1F4D9",desc:"Orange Book"},{code:"1F4DA",desc:"Books"},{code:"1F4D3",desc:"Notebook"},{code:"1F4D2",desc:"Ledger"},{code:"1F4C3",desc:"Curl"},{code:"1F4DC",desc:"Scroll"},{code:"1F4C4",desc:"Page Facing Up"},{code:"1F4F0",desc:"Newspaper"},{code:"1F4D1",desc:"Bookmark Tabs"},{code:"1F516",desc:"Bookmark"},{code:"1F4B0",desc:"Money Bag"},{code:"1F4B4",desc:"Banknote with Yen Sign"},{code:"1F4B5",desc:"Banknote with Dollar Sign"},{code:"1F4B6",desc:"Banknote with Euro Sign"},{code:"1F4B7",desc:"Banknote with Pound Sign"},{code:"1F4B8",desc:"Money with Wings"},{code:"1F4B3",desc:"Credit Card"},{code:"1F4B9",desc:"Chart with Upwards Trend and Yen Sign"},{code:"1F4B1",desc:"Currency Exchange"},{code:"1F4B2",desc:"Heavy Dollar Sign"},{code:"2709",desc:"Envelope"},{code:"1F4E7",desc:"E-Mail Symbol"},{code:"1F4E8",desc:"Incoming Envelope"},{code:"1F4E9",desc:"Envelope with Downwards Arrow Above"},{code:"1F4E4",desc:"Outbox Tray"},{code:"1F4E5",desc:"Inbox Tray"},{code:"1F4E6",desc:"Package"},{code:"1F4BE",desc:"Closed Mailbox with Raised Flag"},{code:"1F4EA",desc:"Closed Mailbox with Lowered Flag"},{code:"1F4EC",desc:"Open Mailbox with Raised Flag"},{code:"1F4ED",desc:"Open Mailbox with Lowered Flag"},{code:"1F5F3",desc:"Postbox"},{code:"270F",desc:"Pencil"},{code:"2712",desc:"Black Nib"},{code:"1F4DD",desc:"Memo"},{code:"1F4BC",desc:"Briefcase"},{code:"1F4C1",desc:"File Folder"},{code:"1F4C2",desc:"Open File Folder"},{code:"1F4C5",desc:"Calender"},{code:"1F4C6",desc:"Tear-off Calender"},{code:"1F4C7",desc:"Card Index"},{code:"1F4C8",desc:"Chart with Upwards Trend"},{code:"1F4C9",desc:"Chart with Downwards Trend"},{code:"1F4CA",desc:"Bar Chart"},{code:"1F4CB",desc:"Clipboard"},{code:"1F4CC",desc:"Pushpin"},{code:"1F4CD",desc:"Round Pushpin"},{code:"1F4CE",desc:"Paperclip"},{code:"1F4CF",desc:"Straight Ruler"},{code:"1F4D0",desc:"Triangular Ruler"},{code:"2702",desc:"Black Scissors"},{code:"1F512",desc:"Lock"},{code:"1F513",desc:"Open Lock"},{code:"1F50F",desc:"Lock with Ink Pen"},{code:"1F510",desc:"Closed Lock with Key"},{code:"1F511",desc:"Key"},{code:"1F528",desc:"Hammer"},{code:"1F52B",desc:"Pistol"},{code:"1F527",desc:"Wrench"},{code:"1F529",desc:"Nut and Bolt"},{code:"1F517",desc:"Link Symbol"},{code:"1F489",desc:"Syringe"},{code:"1F48A",desc:"Pill"},{code:"1F6AC",desc:"Smoking Symbol"},{code:"1F5FF",desc:"Moyai"},{code:"1F52E",desc:"Crystal Ball"}]},{id:"symbols",name:"Symbols",code:"1F3E7",emoticons:[{code:"1F3E7",desc:"Automated Teller Machine"},{code:"1F6AE",desc:"Put Litter in Its Place Symbol"},{code:"1F6B0",desc:"Potable Water Symbol"},{code:"267F",desc:"Wheelchair Symbol"},{code:"1F6B9",desc:"Mens Symbol"},{code:"1F6BA",desc:"Womens Symbol"},{code:"1F6BB",desc:"Restroom"},{code:"1F6BC",desc:"Baby Symbol"},{code:"1F6BE",desc:"Water Closet"},{code:"1F6C2",desc:"Passport Control"},{code:"1F6C3",desc:"Customs"},{code:"1F6C4",desc:"Baggage Claim"},{code:"1F6C5",desc:"Left Luggage"},{code:"26A0",desc:"Warning Sign"},{code:"1F6B8",desc:"Children Crossing"},{code:"26D4",desc:"No Entry"},{code:"1F6AB",desc:"No Entry Sign"},{code:"1F6B3",desc:"No Bicycles"},{code:"1F6AD",desc:"No Smoking Symbol"},{code:"1F6AF",desc:"Do Not Litter Symbol"},{code:"1F6B1",desc:"Non-Potable Water Symbol"},{code:"1F6B7",desc:"No Pedestrians"},{code:"1F4F5",desc:"No Mobile Phones"},{code:"1F51E",desc:"No One Under Eighteen Symbol"},{code:"2B06",desc:"Upwards Black Arrow"},{code:"2197",desc:"North East Arrow"},{code:"27A1",desc:"Black Rightwards Arrow"},{code:"2198",desc:"South East Arrow"},{code:"2B07",desc:"Downwards Black Arrow"},{code:"2199",desc:"South West Arrow"},{code:"2B05",desc:"Leftwards Black Arrow"},{code:"2196",desc:"North West Arrow"},{code:"2195",desc:"Up Down Arrow"},{code:"2194",desc:"Left Right Arrow"},{code:"21A9",desc:"Leftwards Arrow with Hook"},{code:"21AA",desc:"Rightwards Arrow with Hook"},{code:"2934",desc:"Arrow Pointing Rightwards Then Curving Upwards"},{code:"2935",desc:"Arrow Pointing Rightwards Then Curving Downwards"},{code:"1F503",desc:"Clockwise Downwards and Upwards Open Circle Arrows"},{code:"1F504",desc:"Anticlockwise Downwards and Upwards Open Circle Arrows"},{code:"1F519",desc:"Back with Leftwards Arrow Above"},{code:"1F51A",desc:"End with Leftwards Arrow Above"},{code:"1F51B",desc:"On with Exclamation Mark with Left Right Arrow Above"},{code:"1F51C",desc:"Soon with Rightwards Arrow Above"},{code:"1F51D",desc:"Top with Upwards Arrow Above"},{code:"1F52F",desc:"Six Pointed Star with Middle Dot"},{code:"2648",desc:"Aries"},{code:"2649",desc:"Taurus"},{code:"264A",desc:"Gemini"},{code:"264B",desc:"Cancer"},{code:"264C",desc:"Leo"},{code:"264D",desc:"Virgo"},{code:"264E",desc:"Libra"},{code:"264F",desc:"Scorpius"},{code:"2650",desc:"Sagittarius"},{code:"2651",desc:"Capricorn"},{code:"2652",desc:"Aquarius"},{code:"2653",desc:"Pisces"},{code:"26CE",desc:"Ophiuchus"},{code:"1F500",desc:"Twisted Rightwards Arrows"},{code:"1F501",desc:"Clockwise Rightwards and Leftwards Open Circle Arrows"},{code:"1F502",desc:"Clockwise Rightwards and Leftwards Open Circle Arrows with Circled One Overlay"},{code:"25B6",desc:"Black Right-Pointing Triangle"},{code:"23E9",desc:"Black Right-Pointing Double Triangle"},{code:"25C0",desc:"Black Left-Pointing Triangle"},{code:"23EA",desc:"Black Left-Pointing Double Triangle"},{code:"1F53C",desc:"Up-Pointing Small Red Triangle"},{code:"23EB",desc:"Black Up-Pointing Double Triangle"},{code:"1F53D",desc:"Down-Pointing Small Red Triangle"},{code:"23EC",desc:"Black Down-Pointing Double Triangle"},{code:"1F3A6",desc:"Cinema"},{code:"1F505",desc:"Low Brightness Symbol"},{code:"1F506",desc:"High Brightness Symbol"},{code:"1F4F6",desc:"Antenna with Bars"},{code:"1F4F3",desc:"Vibration Mode"},{code:"1F4F4",desc:"Mobile Phone off"},{code:"267B",desc:"Black Universal Recycling Symbol"},{code:"1F531",desc:"Trident Emblem"},{code:"1F4DB",desc:"Name Badge"},{code:"1F530",desc:"Japanese Symbol for Beginner"},{code:"2B55",desc:"Heavy Large Circle"},{code:"2705",desc:"White Heavy Check Mark"},{code:"2611",desc:"Ballot Box with Check"},{code:"2714",desc:"Heavy Check Mark"},{code:"2716",desc:"Heavy Multiplication X"},{code:"274C",desc:"Cross Mark"},{code:"274E",desc:"Negative Squared Cross Mark"},{code:"2795",desc:"Heavy Plus Sign"},{code:"2796",desc:"Heavy Minus Sign"},{code:"2797",desc:"Heavy Division Sign"},{code:"27B0",desc:"Curly Loop"},{code:"27BF",desc:"Double Curly Loop"},{code:"303D",desc:"Part Alternation Mark"},{code:"2733",desc:"Eight Spoked Asterisk"},{code:"2734",desc:"Eight Pointed Black Star"},{code:"2747",desc:"Sparkle"},{code:"203C",desc:"Double Exclamation Mark"},{code:"2049",desc:"Exclamation Question Mark"},{code:"2753",desc:"Black Question Mark Ornament"},{code:"2754",desc:"White Question Mark Ornament"},{code:"2755",desc:"White Exclamation Mark Ornament"},{code:"2757",desc:"Heavy Exclamation Mark Symbol"},{code:"3030",desc:"Wavy Dash"},{code:"2122",desc:"Trade Mark Sign"},{code:"1F51F",desc:"Keycap Ten"},{code:"1F4AF",desc:"Hundred Points Symbol"},{code:"1F520",desc:"Input Symbol for Latin Capital Letters"},{code:"1F521",desc:"Input Symbol for Latin Small Letters"},{code:"1F522",desc:"Input Symbol for Numbers"},{code:"1F523",desc:"Input Symbol for Symbols"},{code:"1F524",desc:"Input Symbol for Latin Letters"},{code:"1F170",desc:"Negative Squared Latin Capital Letter a"},{code:"1F18E",desc:"Negative Squared Ab"},{code:"1F171",desc:"Negative Squared Latin Capital Letter B"},{code:"1F191",desc:"Squared Cl"},{code:"1F192",desc:"Squared Cool"},{code:"1F193",desc:"Squared Free"},{code:"2139",desc:"Information Source"},{code:"1F194",desc:"Squared Id"},{code:"24C2",desc:"Circled Latin Capital Letter M"},{code:"1F195",desc:"Squared New"},{code:"1F196",desc:"Squared Ng"},{code:"1F17E",desc:"Negative Squared Latin Capital Letter O"},{code:"1F197",desc:"Squared Ok"},{code:"1F17F",desc:"Negative Squared Latin Capital Letter P"},{code:"1F198",desc:"Squared Sos"},{code:"1F199",desc:"Squared Up with Exclamation Mark"},{code:"1F19A",desc:"Squared Vs"},{code:"1F201",desc:"Squared Katakana Koko"},{code:"1F202",desc:"Squared Katakana Sa"},{code:"1F237",desc:"Squared Cjk Unified Ideograph-6708"},{code:"1F236",desc:"Squared Cjk Unified Ideograph-6709"},{code:"1F22F",desc:"Squared Cjk Unified Ideograph-6307"},{code:"1F250",desc:"Circled Ideograph Advantage"},{code:"1F239",desc:"Squared Cjk Unified Ideograph-5272"},{code:"1F21A",desc:"Squared Cjk Unified Ideograph-7121"},{code:"1F232",desc:"Squared Cjk Unified Ideograph-7981"},{code:"1F251",desc:"Circled Ideograph Accept"},{code:"1F238",desc:"Squared Cjk Unified Ideograph-7533"},{code:"1F234",desc:"Squared Cjk Unified Ideograph-5408"},{code:"1F233",desc:"Squared Cjk Unified Ideograph-7a7a"},{code:"3297",desc:"Circled Ideograph Congratulation"},{code:"3299",desc:"Circled Ideograph Secret"},{code:"1F23A",desc:"Squared Cjk Unified Ideograph-55b6"},{code:"1F235",desc:"Squared Cjk Unified Ideograph-6e80"},{code:"25AA",desc:"Black Small Square"},{code:"25AB",desc:"White Small Square"},{code:"25FB",desc:"White Medium Square"},{code:"25FC",desc:"Black Medium Square"},{code:"25FD",desc:"White Medium Small Square"},{code:"25FE",desc:"Black Medium Small Square"},{code:"2B1B",desc:"Black Large Square"},{code:"2B1C",desc:"White Large Square"},{code:"1F536",desc:"Large Orange Diamond"},{code:"1F537",desc:"Large Blue Diamond"},{code:"1F538",desc:"Small Orange Diamond"},{code:"1F539",desc:"Small Blue Diamond"},{code:"1F53A",desc:"Up-Pointing Red Triangle"},{code:"1F53B",desc:"Down-Pointing Red Triangle"},{code:"1F4A0",desc:"Diamond Shape with a Dot Inside"},{code:"1F518",desc:"Radio Button"},{code:"1F532",desc:"Black Square Button"},{code:"1F533",desc:"White Square Button"},{code:"26AA",desc:"Medium White Circle"},{code:"26AB",desc:"Medium Black Circle"},{code:"1F534",desc:"Large Red Circle"},{code:"1F535",desc:"Large Blue Circle"}]},{id:"flags",name:"Flags",code:"1F3C1",emoticons:[{code:"1f3c1",desc:"Chequered Flag"},{code:"1f1e8-1f1f3",desc:"China Flag"},{code:"1f38c",desc:"Crossed Flags"},{code:"1f1e9-1f1ea",desc:"Germany Flag"},{code:"1f1ea-1f1f8",desc:"Spain Flag"},{code:"1f1e6-1f1e8",desc:"Ascension Island Flag"},{code:"1f1e6-1f1e9",desc:"Andorra Flag"},{code:"1f1e6-1f1ea",desc:"United Arab Emirates Flag"},{code:"1f1e6-1f1eb",desc:"Afghanistan Flag"},{code:"1f1e6-1f1ec",desc:"Antigua & Barbuda Flag"},{code:"1f1e6-1f1ee",desc:"Anguilla Flag"},{code:"1f1e6-1f1f1",desc:"Albania Flag"},{code:"1f1e6-1f1f2",desc:"Armenia Flag"},{code:"1f1e6-1f1f4",desc:"Angola Flag"},{code:"1f1e6-1f1f6",desc:"Antarctica Flag"},{code:"1f1e6-1f1f7",desc:"Argentina Flag"},{code:"1f1e6-1f1f8",desc:"American Samoa Flag"},{code:"1f1e6-1f1f9",desc:"Austria Flag"},{code:"1f1e6-1f1fa",desc:"Australia Flag"},{code:"1f1e6-1f1fc",desc:"Aruba Flag"},{code:"1f1e6-1f1fd",desc:"\xc5land Islands Flag"},{code:"1f1e6-1f1ff",desc:"Azerbaijan Flag"},{code:"1f1e7-1f1e7",desc:"Barbados Flag"},{code:"1f1e7-1f1e9",desc:"Bangladesh Flag"},{code:"1f1e7-1f1ea",desc:"Belgium Flag"},{code:"1f1e7-1f1eb",desc:"Burkina Faso Flag"},{code:"1f1e7-1f1ec",desc:"Bulgaria Flag"},{code:"1f1e7-1f1ed",desc:"Bahrain Flag"},{code:"1f1e7-1f1ee",desc:"Burundi Flag"},{code:"1f1e7-1f1ef",desc:"Benin Flag"},{code:"1f1e7-1f1f1",desc:"St. Barth\xe9lemy Flag"},{code:"1f1e7-1f1f2",desc:"Bermuda Flag"},{code:"1f1e7-1f1f4",desc:"Bolivia Flag"},{code:"1f1e7-1f1f6",desc:"Caribbean Netherlands Flag"},{code:"1f1e7-1f1f7",desc:"Brazil Flag"},{code:"1f1e7-1f1f8",desc:"Bahamas Flag"},{code:"1f1e7-1f1f9",desc:"Bhutan Flag"},{code:"1f1e7-1f1fb",desc:"Bouvet Island Flag"},{code:"1f1e7-1f1fc",desc:"Botswana Flag"},{code:"1f1e7-1f1fe",desc:"Belarus Flag"},{code:"1f1e7-1f1ff",desc:"Belize Flag"},{code:"1f1e8-1f1e6",desc:"Canada Flag"},{code:"1f1e8-1f1e8",desc:"Cocos (keeling) Islands Flag"},{code:"1f1e8-1f1e9",desc:"Congo - Kinshasa Flag"},{code:"1f1e8-1f1eb",desc:"Central African Republic Flag"},{code:"1f1e8-1f1ec",desc:"Congo - Brazzaville Flag"},{code:"1f1e8-1f1ed",desc:"Switzerland Flag"},{code:"1f1e8-1f1ee",desc:"C\xf4te D\u2019ivoire Flag"},{code:"1f1e8-1f1f0",desc:"Cook Islands Flag"},{code:"1f1e8-1f1f1",desc:"Chile Flag"},{code:"1f1e8-1f1f2",desc:"Cameroon Flag"},{code:"1f1e8-1f1f4",desc:"Colombia Flag"},{code:"1f1e8-1f1f7",desc:"Costa Rica Flag"},{code:"1f1e8-1f1fa",desc:"Cuba Flag"},{code:"1f1e8-1f1fb",desc:"Cape Verde Flag"},{code:"1f1e8-1f1fc",desc:"Cura\xe7ao Flag"},{code:"1f1e8-1f1fd",desc:"Christmas Island Flag"},{code:"1f1e8-1f1fe",desc:"Cyprus Flag"},{code:"1f1e8-1f1ff",desc:'Czechia Flag"'},{code:"1f1e9-1f1ec",desc:"Diego Garcia Flag"},{code:"1f1e9-1f1ef",desc:"Djibouti Flag"},{code:"1f1e9-1f1f0",desc:"Denmark Flag"},{code:"1f1e9-1f1f2",desc:"Dominica Flag"},{code:"1f1e9-1f1f4",desc:"Dominican Republic Flag"},{code:"1f1e9-1f1ff",desc:"Algeria Flag"},{code:"1f1ea-1f1e6",desc:"Ceuta & Melilla Flag"},{code:"1f1ea-1f1e8",desc:"Ecuador Flag"},{code:"1f1ea-1f1ea",desc:"Estonia Flag"},{code:"1f1ea-1f1ec",desc:"Egypt Flag"},{code:"1f1ea-1f1ed",desc:"Western Sahara Flag"},{code:"1f1ea-1f1f7",desc:"Eritrea Flag"},{code:"1f1ea-1f1f9",desc:"Ethiopia Flag"},{code:"1f1ea-1f1fa",desc:"European Union Flag"},{code:"1f1eb-1f1ee",desc:"Finland Flag"},{code:"1f1eb-1f1ef",desc:"Fiji Flag"},{code:"1f1eb-1f1f0",desc:"Falkland Islands Flag"},{code:"1f1eb-1f1f2",desc:"Micronesia Flag"},{code:"1f1eb-1f1f4",desc:"Faroe Islands Flag"},{code:"1f1ec-1f1e6",desc:"Gabon Flag"},{code:"1f1ec-1f1e9",desc:"Grenada Flag"},{code:"1f1ec-1f1ea",desc:"Georgia Flag"},{code:"1f1ec-1f1eb",desc:"French Guiana Flag"},{code:"1f1ec-1f1ec",desc:"Guernsey Flag"},{code:"1f1ec-1f1ed",desc:"Ghana Flag"},{code:"1f1ec-1f1ee",desc:"Gibraltar Flag"},{code:"1f1ec-1f1f1",desc:"Greenland Flag"},{code:"1f1ec-1f1f2",desc:"Gambia Flag"},{code:"1f1ec-1f1f3",desc:"Guinea Flag"},{code:"1f1ec-1f1f5",desc:"Guadeloupe Flag"},{code:"1f1ec-1f1f6",desc:"Equatorial Guinea Flag"},{code:"1f1ec-1f1f7",desc:"Greece Flag"},{code:"1f1ec-1f1f8",desc:"South Georgia & South Sandwich Islands Flag"},{code:"1f1ec-1f1f9",desc:"Guatemala Flag"},{code:"1f1ec-1f1fa",desc:"Guam Flag"},{code:"1f1ec-1f1fc",desc:"Guinea-Bissau Flag"},{code:"1f1ec-1f1fe",desc:"Guyana Flag"},{code:"1f1ed-1f1f0",desc:"Hong Kong Sar China Flag"},{code:"1f1ed-1f1f2",desc:"Heard & Mcdonald Islands Flag"},{code:"1f1ed-1f1f3",desc:"Honduras Flag"},{code:"1f1ed-1f1f7",desc:"Croatia Flag"},{code:"1f1ed-1f1f9",desc:"Haiti Flag"},{code:"1f1ed-1f1fa",desc:"Hungary Flag"},{code:"1f1ee-1f1e8",desc:"Canary Islands Flag"},{code:"1f1ee-1f1e9",desc:"Indonesia Flag"},{code:"1f1ee-1f1ea",desc:"Ireland Flag"},{code:"1f1ee-1f1f1",desc:"Israel Flag"},{code:"1f1ee-1f1f2",desc:"Isle of Man Flag"},{code:"1f1ee-1f1f3",desc:"India Flag"},{code:"1f1ee-1f1f4",desc:"British Indian Ocean Territory Flag"},{code:"1f1ee-1f1f6",desc:"Iraq Flag"},{code:"1f1ee-1f1f7",desc:"Iran Flag"},{code:"1f1ee-1f1f8",desc:"Iceland Flag"},{code:"1f1ef-1f1ea",desc:"Jersey Flag"},{code:"1f1ef-1f1f2",desc:"Jamaica Flag"},{code:"1f1ef-1f1f4",desc:"Jordan Flag"},{code:"1f1f0-1f1ea",desc:"Kenya Flag"},{code:"1f1f0-1f1ec",desc:"Kyrgyzstan Flag"},{code:"1f1f0-1f1ed",desc:"Cambodia Flag"},{code:"1f1f0-1f1ee",desc:"Kiribati Flag"},{code:"1f1f0-1f1f2",desc:"Comoros Flag"},{code:"1f1f0-1f1f3",desc:"St. Kitts & Nevis Flag"},{code:"1f1f0-1f1f5",desc:"North Korea Flag"},{code:"1f1f0-1f1fc",desc:"Kuwait Flag"},{code:"1f1f0-1f1fe",desc:"Cayman Islands Flag"},{code:"1f1f0-1f1ff",desc:"Kazakhstan Flag"},{code:"1f1f1-1f1e6",desc:"Laos Flag"},{code:"1f1f1-1f1e7",desc:"Lebanon Flag"},{code:"1f1f1-1f1e8",desc:"St. Lucia Flag"},{code:"1f1f1-1f1ee",desc:"Liechtenstein Flag"},{code:"1f1f1-1f1f0",desc:"Sri Lanka Flag"},{code:"1f1f1-1f1f7",desc:"Liberia Flag"},{code:"1f1f1-1f1f8",desc:"Lesotho Flag"},{code:"1f1f1-1f1f9",desc:"Lithuania Flag"},{code:"1f1f1-1f1fa",desc:"Luxembourg Flag"},{code:"1f1f1-1f1fb",desc:"Latvia Flag"},{code:"1f1f1-1f1fe",desc:"Libya Flag"},{code:"1f1f2-1f1e6",desc:"Morocco Flag"},{code:"1f1f2-1f1e8",desc:"Monaco Flag"},{code:"1f1f2-1f1e9",desc:"Moldova Flag"},{code:"1f1f2-1f1ea",desc:"Montenegro Flag"},{code:"1f1f2-1f1eb",desc:"St. Martin Flag"},{code:"1f1f2-1f1ec",desc:"Madagascar Flag"},{code:"1f1f2-1f1ed",desc:"Marshall Islands Flag"},{code:"1f1f2-1f1f0",desc:"Macedonia Flag"},{code:"1f1f2-1f1f1",desc:"Mali Flag"},{code:"1f1f2-1f1f2",desc:"Myanmar (burma) Flag"},{code:"1f1f2-1f1f3",desc:"Mongolia Flag"},{code:"1f1f2-1f1f4",desc:"Macau Sar China Flag"},{code:"1f1f2-1f1f5",desc:"Northern Mariana Islands Flag"},{code:"1f1f2-1f1f6",desc:"Martinique Flag"},{code:"1f1f2-1f1f7",desc:"Mauritania Flag"},{code:"1f1f2-1f1f8",desc:"Montserrat Flag"},{code:"1f1f2-1f1f9",desc:"Malta Flag"},{code:"1f1f2-1f1fa",desc:"Mauritius Flag"},{code:"1f1f2-1f1fb",desc:"Maldives Flag"},{code:"1f1f2-1f1fc",desc:"Malawi Flag"},{code:"1f1f2-1f1fd",desc:"Mexico Flag"},{code:"1f1f2-1f1fe",desc:"Malaysia Flag"},{code:"1f1f2-1f1ff",desc:"Mozambique Flag"},{code:"1f1f3-1f1e6",desc:"Namibia Flag"},{code:"1f1f3-1f1e8",desc:"New Caledonia Flag"},{code:"1f1f3-1f1ea",desc:"Niger Flag"},{code:"1f1f3-1f1eb",desc:"Norfolk Island Flag"},{code:"1f1f3-1f1ec",desc:"Nigeria Flag"},{code:"1f1f3-1f1ee",desc:"Nicaragua Flag"},{code:"1f1f3-1f1f1",desc:"Netherlands Flag"},{code:"1f1f3-1f1f4",desc:"Norway Flag"},{code:"1f1f3-1f1f5",desc:"Nepal Flag"},{code:"1f1f3-1f1f7",desc:"Nauru Flag"},{code:"1f1f3-1f1fa",desc:"Niue Flag"},{code:"1f1f3-1f1ff",desc:"New Zealand Flag"},{code:"1f1f4-1f1f2",desc:"Oman Flag"},{code:"1f1f8-1f1ff",desc:"Swaziland Flag"},{code:"1f1f5-1f1e6",desc:"Panama Flag"},{code:"1f1f5-1f1ea",desc:"Peru Flag"},{code:"1f1f5-1f1eb",desc:"French Polynesia Flag"},{code:"1f1f5-1f1ec",desc:"Papua New Guinea Flag"},{code:"1f1f5-1f1ed",desc:"Philippines Flag"},{code:"1f1f5-1f1f0",desc:"Pakistan Flag"},{code:"1f1f5-1f1f1",desc:"Poland Flag"},{code:"1f1f5-1f1f2",desc:"St. Pierre & Miquelon  Flag"},{code:"1f1f5-1f1f3",desc:"Pitcairn Islands Flag"},{code:"1f1f5-1f1f7",desc:"Puerto Rico Flag"},{code:"1f1f5-1f1f8",desc:"Palestinian Territories Flag"},{code:"1f1f5-1f1f9",desc:"Portugal Flag"},{code:"1f1f5-1f1fc",desc:"Palau Flag"},{code:"1f1f5-1f1fe",desc:"Paraguay Flag"},{code:"1f1f6-1f1e6",desc:"Qatar Flag"},{code:"1f1f7-1f1ea",desc:"R\xe9union Flag"},{code:"1f1f7-1f1f4",desc:"Romania Flag"},{code:"1f1f7-1f1f8",desc:"Serbia Flag"},{code:"1f1f7-1f1fc",desc:"Rwanda Flag"},{code:"1f1f8-1f1e6",desc:"Saudi Arabia Flag"},{code:"1f1f8-1f1e7",desc:"Solomon Islands Flag"},{code:"1f1f8-1f1e8",desc:"Seychelles Flag"},{code:"1f1f8-1f1e9",desc:"Sudan Flag"},{code:"1f1f8-1f1ea",desc:"Sweden Flag"},{code:"1f1f8-1f1ec",desc:"Singapore Flag"},{code:"1f1f8-1f1ee",desc:"Slovenia Flag"},{code:"1f1f8-1f1ed",desc:"St. Helena  Flag"},{code:"1f1f8-1f1ef",desc:"Svalbard & Jan Mayen  Flag"},{code:"1f1f8-1f1f1",desc:"Sierra Leone Flag"},{code:"1f1f8-1f1f2",desc:"San Marino Flag"},{code:"1f1f8-1f1f3",desc:"Senegal Flag"},{code:"1f1f8-1f1f4",desc:"Somalia Flag"},{code:"1f1f8-1f1f7",desc:"Suriname Flag"},{code:"1f1f8-1f1f8",desc:"South Sudan  Flag"},{code:"1f1f8-1f1f9",desc:"S\xe3o Tom\xe9 & Pr\xedncipe Flag"},{code:"1f1f8-1f1fb",desc:"El Salvador Flag"},{code:"1f1f8-1f1fd",desc:"Sint Maarten Flag"},{code:"1f1f8-1f1fe",desc:"Syria Flag"},{code:"1f1f9-1f1e6",desc:"Tristan Da Cunha Flag"},{code:"1f1f9-1f1e8",desc:"Turks & Caicos Islands  Flag"},{code:"1f1f9-1f1eb",desc:"French Southern Territories Flag"},{code:"1f1f9-1f1ec",desc:"Togo Flag"},{code:"1f1f9-1f1ed",desc:"Thailand Flag"},{code:"1f1f9-1f1ef",desc:"Tajikistan Flag"},{code:"1f1f9-1f1f0",desc:"Tokelau Flag"},{code:"1f1f9-1f1f1",desc:"Timor-Leste Flag"},{code:"1f1f9-1f1f2",desc:"Turkmenistan Flag"},{code:"1f1f9-1f1f3",desc:"Tunisia Flag"},{code:"1f1f9-1f1f4",desc:"Tonga Flag"},{code:"1f1f9-1f1f7",desc:"Turkey Flag"},{code:"1f1f9-1f1f9",desc:"Trinidad & Tobago Flag"},{code:"1f1f9-1f1fb",desc:"Tuvalu Flag"},{code:"1f1f9-1f1fc",desc:"Taiwan Flag"},{code:"1f1f9-1f1ff",desc:"Tanzania Flag"},{code:"1f1fa-1f1e6",desc:"Ukraine City  Flag"},{code:"1f1fa-1f1ec",desc:"Uganda Flag"},{code:"1f1fa-1f1f2",desc:"U.s. Outlying Islands  Flag"},{code:"1f1fa-1f1fe",desc:"Uruguay  Flag"},{code:"1f1fa-1f1ff",desc:"Uzbekistan Flag"},{code:"1f1fb-1f1e6",desc:"Vatican City  Flag"},{code:"1f1fb-1f1e8",desc:"St. Vincent & Grenadines Flag"},{code:"1f1fb-1f1ea",desc:"Venezuela Flag"},{code:"1f1fb-1f1ec",desc:"British Virgin Islands Flag"},{code:"1f1fb-1f1ee",desc:"U.s. Virgin Islands Flag"},{code:"1f1fb-1f1f3",desc:"Vietnam Flag"},{code:"1f1fc-1f1f8",desc:"Samoa Flag"},{code:"1f1fb-1f1fa",desc:"Vanuatu Flag"},{code:"1f1fc-1f1eb",desc:'"Wallis & Futuna Flag'},{code:"1f1fd-1f1f0",desc:"Kosovo Flag"},{code:"1f1fe-1f1ea",desc:"Yemen Flag"},{code:"1f1fe-1f1f9",desc:"Mayotte Flag"},{code:"1f1ff-1f1e6",desc:"South Africa Flag"},{code:"1f1ff-1f1f2",desc:"Zambia Flag"},{code:"1f1ff-1f1fc",desc:"Zimbabwe Flag"},{code:"1f1eb-1f1f7",desc:"France Flag"},{code:"1f1ec-1f1e7",desc:"United Kingdom  Flag"},{code:"1f1ee-1f1f9",desc:"Italy Flag"},{code:"1f1ef-1f1f5",desc:"Japan Flag"},{code:"1f1f0-1f1f7",desc:"South Korea Flag"},{code:"1f1f7-1f1fa",desc:"Russia Flag"},{code:"1F6A9",desc:"Triangular Flag on Post"},{code:"1f1fa-1f1f8",desc:"United States Flag"}]}],emoticonsButtons:["emoticonsBack","|"],emoticonsUseImage:!0}),ct.PLUGINS.emoticons=function(f){var p=f.$,n=f.opts.emoticonsSet,a=n&&n[0],r="";function i(){if(f.selection.isCollapsed()){var e=f.selection.element(),t=f.selection.endElement();if(e&&f.node.hasClass(e,"fr-emoticon"))return e;if(t&&f.node.hasClass(t,"fr-emoticon"))return t;e=f.selection.ranges(0),t=e.startContainer;if(t.nodeType==Node.ELEMENT_NODE&&0<t.childNodes.length&&0<e.startOffset){e=t.childNodes[e.startOffset-1];if(f.node.hasClass(e,"fr-emoticon"))return e}}return!1}function o(){var e;return"".concat((e=a,'<div class="fr-buttons fr-tabs fr-tabs-scroll">\n                        '.concat(function(e,a){var r="";return e.forEach(function(e){var t={image:e.code.toLowerCase()},n=e.id===a.id,e={elementClass:n?"fr-active fr-active-tab":"",emoticonsUnicodeClass:f.opts.emoticonsUseImage?"":"fr-tabs-unicode",title:f.language.translate(e.name),dataCmd:"setEmoticonCategory",dataParam1:e.id,image:f.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'.concat(t.image,'.svg"/>'):"&#x".concat(t.image,";")};r+='<button class="fr-command fr-btn '.concat(e.elementClass," ").concat(e.emoticonsUnicodeClass,'" \n      title="').concat(e.title,'" data-cmd="').concat(e.dataCmd,'" data-param1="').concat(e.dataParam1,'" aria-pressed="').concat(n,'">\n       ').concat(e.image," </button>")}),r}(n,e),"\n                        </div>")),"\n                      ").concat((e=a,'\n        <div class="fr-icon-container fr-emoticon-container">\n            '.concat(function(e){var n="";return e.emoticons.forEach(function(e){var t=e.code.split("-").reduce(function(e,t){return(e?"".concat(e,"&zwj;&#x"):"&#x").concat(t.toLowerCase(),";")},""),t={image:e.code.toLowerCase(),compiledCode:e.uCode||t},t={dataParam1:e.code.toLowerCase(),dataParam2:t.compiledCode,title:f.language.translate(e.desc),image:f.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'.concat(t.image,'.svg"/>'):"".concat(t.compiledCode),desc:f.language.translate(e.desc)};n+='<span class="fr-command fr-emoticon fr-icon" role="button" \n      data-cmd="insertEmoticon" data-param1="'.concat(t.dataParam1,'" tabindex="0"\n      data-param2="').concat(t.dataParam2,'"  title="').concat(t.title,'" >\n      ').concat(t.image,'<span class="fr-sr-only">').concat(t.desc,"&nbsp;&nbsp;&nbsp;</span></span>")}),n}(e),"\n        </div>\n        ")),"\n                      ").concat(f.opts.emoticonsUseImage?'<p style="font-size: 12px; text-align: center; padding: 0 5px;">Emoji free by <a class="fr-link" tabIndex="-1" href="http://emojione.com/" target="_blank" rel="nofollow noopener noreferrer" role="link" aria-label="Open Emoji One website.">Emoji One</a></p>':"")}return{_init:function(){var n;(n=function n(){for(var e=f.el.querySelectorAll(".fr-emoticon:not(.fr-deletable)"),t=0;t<e.length;t++)e[t].className+=" fr-deletable"})(),f.events.on("html.set",n),f.events.on("keydown",function(e){var t;f.keys.isCharacter(e.which)&&f.selection.inEditor()&&(e=f.selection.ranges(0),t=i(),f.node.hasClass(t,"fr-emoticon-img")||f.node.hasClass(t,"fr-emoticon"))&&t&&(0===e.startOffset&&f.selection.element()===t?p(t).before(ct.MARKERS+ct.INVISIBLE_SPACE):p(t).after(ct.INVISIBLE_SPACE+ct.MARKERS),f.selection.restore())}),f.events.on("keyup",function(e){for(var t=f.el.querySelectorAll(".fr-emoticon"),n=0;n<t.length;n++)"undefined"!=typeof t[n].textContent&&0===t[n].textContent.replace(/\u200B/gi,"").length&&p(t[n]).remove();e.which>=ct.KEYCODE.ARROW_LEFT&&e.which<=ct.KEYCODE.ARROW_DOWN||(e=i(),f.node.hasClass(e,"fr-emoticon-img")&&(p(e).append(ct.MARKERS),f.selection.restore()))})},insert:function(e,t){var n=i(),a=f.selection.ranges(0);n?(0===a.startOffset&&f.selection.element()===n?p(n).before(ct.MARKERS+ct.INVISIBLE_SPACE):0<a.startOffset&&f.selection.element()===n&&a.commonAncestorContainer.parentNode.classList.contains("fr-emoticon")&&p(n).after(ct.INVISIBLE_SPACE+ct.MARKERS),f.selection.restore(),f.html.insert('<span class="fr-emoticon fr-deletable'.concat(t?" fr-emoticon-img":"",'"').concat(t?' style="background: url('.concat(t,');"'):"",">").concat(t?"&nbsp;":e,"</span>&nbsp;").concat(ct.MARKERS),!0)):f.html.insert('<span class="fr-emoticon fr-deletable'.concat(t?" fr-emoticon-img":"",'"').concat(t?' style="background: url('.concat(t,');"'):"",">").concat(t?"&nbsp;":e,"</span>").concat(ct.INVISIBLE_SPACE),!0)},setEmoticonCategory:function(t){var e;a=n.filter(function(e){return e.id===t})[0],f.popups.get("emoticons").html(r+o()),e=f.popups.get("emoticons").children().not(".fr-buttons"),f.accessibility.registerPopup("emoticons"),f.accessibility.focusContent(e)},showEmoticonsPopup:function(){var e,t,n=f.popups.get("emoticons");if(!n){f.opts.toolbarInline&&0<f.opts.emoticonsButtons.length&&(r='<div class="fr-buttons fr-emoticons-buttons fr-tabs">'.concat(f.button.buildList(f.opts.emoticonsButtons),"</div>")),e={buttons:r,custom_layer:o()};var d=e=f.popups.create("emoticons",e);f.events.on("popup.tab",function(e){var t,n,a,r,i,o,s,l,c=p(e.currentTarget);return!f.popups.isVisible("emoticons")||!c.is("span, a")||(t=e.which,i=window.getComputedStyle(d.find(".fr-icon-container")[0]).getPropertyValue("grid-template-columns").split(" ").length,ct.KEYCODE.TAB==t?(r=d.find("span.fr-emoticon"),(c.is(r.first())&&e.shiftKey||c.is("a")&&!e.shiftKey)&&(r=d.find(".fr-buttons"),a=!f.accessibility.focusToolbar(r,!!e.shiftKey)),!1!==a&&((r=d.find("span.fr-emoticon")).add(d.find("a.fr-link")),r.add(d.find("button.fr-btn")),s=r.index(c),s=e.shiftKey?((s-1)%r.length+r.length)%r.length:(s+1)%r.length,n=r.get(s),f.events.disableBlur(),n.focus(),a=!1)):ct.KEYCODE.ARROW_UP==t||ct.KEYCODE.ARROW_DOWN==t||ct.KEYCODE.ARROW_LEFT==t||ct.KEYCODE.ARROW_RIGHT==t?c.is("span.fr-emoticon")&&(s=(r=c.parent().find("span.fr-emoticon")).index(c),i=i,o=Math.ceil(r.length/i),l=s%i,s=Math.floor(s/i)*i+l,l=o*i,ct.KEYCODE.ARROW_UP==t?s=((s-i)%l+l)%l:ct.KEYCODE.ARROW_DOWN==t?s=(s+i)%l:ct.KEYCODE.ARROW_LEFT==t?s=((s-1)%l+l)%l:ct.KEYCODE.ARROW_RIGHT==t&&(s=(s+1)%l),n=p(r.get(s)),f.events.disableBlur(),n.focus(),a=!1):ct.KEYCODE.ENTER==t&&(c.is("a")?c[0].click():f.button.exec(c),a=!1),!1===a&&(e.preventDefault(),e.stopPropagation()),a)},!0),n=e}n.hasClass("fr-active")||(f.popups.refresh("emoticons"),f.popups.setContainer("emoticons",f.$tb),e=f.$tb.find('.fr-command[data-cmd="emoticons"]'),t=(n=f.button.getPosition(e)).left,f.popups.show("emoticons",t,n.top,e.outerHeight()),f.popups.get("emoticons").css("overflow","hidden"))},back:function(){f.popups.hide("emoticons"),f.toolbar.showInline()}}},ct.DefineIcon("emoticons",{NAME:"smile-o",FA5NAME:"smile",SVG_KEY:"smile"}),ct.RegisterCommand("emoticons",{title:"Emoticons",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("emoticons")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("emoticons")):this.emoticons.showEmoticonsPopup()},plugin:"emoticons"}),ct.RegisterCommand("insertEmoticon",{callback:function(e,t,n){this.emoticons.insert(n,this.opts.emoticonsUseImage?"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/".concat(t,".svg"):null),this.popups.hide("emoticons")}}),ct.RegisterCommand("setEmoticonCategory",{undo:!1,focus:!1,callback:function(e,t){this.emoticons.setEmoticonCategory(t)}}),ct.DefineIcon("emoticonsBack",{NAME:"arrow-left",SVG_KEY:"back"}),ct.RegisterCommand("emoticonsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.emoticons.back()}}),Object.assign(ct.DEFAULTS,{entities:"&quot;&#39;&iexcl;&cent;&pound;&curren;&yen;&brvbar;&sect;&uml;&copy;&ordf;&laquo;&not;&shy;&reg;&macr;&deg;&plusmn;&sup2;&sup3;&acute;&micro;&para;&middot;&cedil;&sup1;&ordm;&raquo;&frac14;&frac12;&frac34;&iquest;&Agrave;&Aacute;&Acirc;&Atilde;&Auml;&Aring;&AElig;&Ccedil;&Egrave;&Eacute;&Ecirc;&Euml;&Igrave;&Iacute;&Icirc;&Iuml;&ETH;&Ntilde;&Ograve;&Oacute;&Ocirc;&Otilde;&Ouml;&times;&Oslash;&Ugrave;&Uacute;&Ucirc;&Uuml;&Yacute;&THORN;&szlig;&agrave;&aacute;&acirc;&atilde;&auml;&aring;&aelig;&ccedil;&egrave;&eacute;&ecirc;&euml;&igrave;&iacute;&icirc;&iuml;&eth;&ntilde;&ograve;&oacute;&ocirc;&otilde;&ouml;&divide;&oslash;&ugrave;&uacute;&ucirc;&uuml;&yacute;&thorn;&yuml;&OElig;&oelig;&Scaron;&scaron;&Yuml;&fnof;&circ;&tilde;&Alpha;&Beta;&Gamma;&Delta;&Epsilon;&Zeta;&Eta;&Theta;&Iota;&Kappa;&Lambda;&Mu;&Nu;&Xi;&Omicron;&Pi;&Rho;&Sigma;&Tau;&Upsilon;&Phi;&Chi;&Psi;&Omega;&alpha;&beta;&gamma;&delta;&epsilon;&zeta;&eta;&theta;&iota;&kappa;&lambda;&mu;&nu;&xi;&omicron;&pi;&rho;&sigmaf;&sigma;&tau;&upsilon;&phi;&chi;&psi;&omega;&thetasym;&upsih;&piv;&ensp;&emsp;&thinsp;&zwnj;&zwj;&lrm;&rlm;&ndash;&mdash;&lsquo;&rsquo;&sbquo;&ldquo;&rdquo;&bdquo;&dagger;&Dagger;&bull;&hellip;&permil;&prime;&Prime;&lsaquo;&rsaquo;&oline;&frasl;&euro;&image;&weierp;&real;&trade;&alefsym;&larr;&uarr;&rarr;&darr;&harr;&crarr;&lArr;&uArr;&rArr;&dArr;&hArr;&forall;&part;&exist;&empty;&nabla;&isin;&notin;&ni;&prod;&sum;&minus;&lowast;&radic;&prop;&infin;&ang;&and;&or;&cap;&cup;&int;&there4;&sim;&cong;&asymp;&ne;&equiv;&le;&ge;&sub;&sup;&nsub;&sube;&supe;&oplus;&otimes;&perp;&sdot;&lceil;&rceil;&lfloor;&rfloor;&lang;&rang;&loz;&spades;&clubs;&hearts;&diams;"}),ct.PLUGINS.entities=function(r){var i,o,s=r.$;function a(e){var t=e.textContent;if(t.match(i)){for(var n="",a=0;a<t.length;a++)o[t[a]]?n+=o[t[a]]:n+=t[a];e.textContent=n}}function l(e){if(e&&0<=["STYLE","SCRIPT","svg","IFRAME"].indexOf(e.tagName))return!0;for(var t=r.node.contents(e),n=0;n<t.length;n++)(t[n].nodeType===Node.TEXT_NODE?a:l)(t[n]);return e.nodeType===Node.TEXT_NODE&&a(e),!1}var c=function c(e){return 0===e.length?"":r.clean.exec(e,l).replace(/\&amp;/g,"&")};return{_init:function(){r.opts.htmlSimpleAmpersand||(r.opts.entities="".concat(r.opts.entities,"&amp;"));var e=s(document.createElement("div")).html(r.opts.entities).text(),t=r.opts.entities.split(";");o={},i="";for(var n=0;n<e.length;n++){var a=e.charAt(n);o[a]="".concat(t[n],";"),i+="\\".concat(a+(n<e.length-1?"|":""))}i=new RegExp("(".concat(i,")"),"g"),r.events.on("html.get",c,!0)}}},Object.assign(ct.POPUP_TEMPLATES,{"file.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_PROGRESS_BAR_]"}),Object.assign(ct.DEFAULTS,{fileUpload:!0,fileUploadURL:null,fileUploadParam:"file",fileUploadParams:{},fileUploadToS3:!1,fileUploadToAzure:!1,fileUploadMethod:"POST",fileMaxSize:10485760,fileAllowedTypes:["*"],fileInsertButtons:["fileBack","|"],fileUseSelectedText:!1}),ct.PLUGINS.file=function(g){var a,d=g.$,h="https://i.froala.com/upload",f=2,p=3,u=4,m=5,v=6,r={};function b(){var e=g.popups.get("file.insert");(e=e||l()).find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),e.find(".fr-file-progress-bar-layer").addClass("fr-active"),e.find(".fr-buttons").hide(),t(g.language.translate("Uploading"),0)}function i(e){var t=g.popups.get("file.insert");t&&(t.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),t.find(".fr-file-progress-bar-layer").removeClass("fr-active"),t.find(".fr-buttons").show(),e)&&(g.events.focus(),g.popups.hide("file.insert"))}function t(e,t){var n=g.popups.get("file.insert");n&&((n=n.find(".fr-file-progress-bar-layer")).find("h3").text(e+(t?" ".concat(t,"%"):"")),n.removeClass("fr-error"),t?(n.find("div").removeClass("fr-indeterminate"),n.find("div > span").css("width","".concat(t,"%"))):n.find("div").addClass("fr-indeterminate"))}function E(e,t,n,a){g.edit.on(),g.events.focus(!0),g.selection.restore(),g.opts.fileUseSelectedText&&g.selection.text().length&&(t=g.selection.text());var r,i='<a href="'.concat(e,'" id="fr-inserted-file" ');if(void 0!==a)for(r in a)a.hasOwnProperty(r)&&"link"!=r&&(i+="".concat(r,'="').concat(a[r],'" '));-1==i.indexOf(' class="')&&(i+='class="fr-file" '),i+=">".concat(t,"</a>"),g.html.insert(i);e=g.$el.find("#fr-inserted-file");e.removeAttr("id"),g.popups.hide("file.insert"),g.undo.saveStep(),c(),g.events.trigger("file.inserted",[e,n])}function y(e,t,n){var a,r,i=this.status,o=this.response,s=this.responseXML,l=this.responseText;try{if(g.opts.fileUploadToS3||g.opts.fileUploadToAzure)if(201===i){if(g.opts.fileUploadToAzure){if(!1===g.events.trigger("file.uploadedToAzure",[this.responseURL,n,o],!0))return g.edit.on(),!1;r=t}else r=function(e){try{var t=d(e).find("Location").text(),n=d(e).find("Key").text();return!1===g.events.trigger("file.uploadedToS3",[t,n,e],!0)?(g.edit.on(),!1):t}catch(a){return C(u,e),!1}}(s);r&&E(r,e,o||s)}else C(u,o||s);else 200<=i&&i<300?(a=function(e){try{var t;return!1===g.events.trigger("file.uploaded",[e],!0)?(g.edit.on(),!1):(t=JSON.parse(e)).link?t:(C(f,e),!1)}catch(n){return C(u,e),!1}}(l))&&E(a.link,e,o||l,a):C(p,o||l)}catch(c){C(u,o||l)}}function w(){C(u,this.response||this.responseText||this.responseXML)}function _(e){e.lengthComputable&&(e=e.loaded/e.total*100|0,t(g.language.translate("Uploading"),e))}function C(e,t){var n,a;g.edit.on(),n=g.language.translate("Something went wrong. Please try again."),b(),(a=g.popups.get("file.insert").find(".fr-file-progress-bar-layer")).addClass("fr-error"),(a=a.find("h3")).text(n),g.events.disableBlur(),a.focus(),g.events.trigger("file.error",[{code:e,message:r[e]},t])}function A(){g.edit.on(),i(!0)}function o(e){if(void 0!==e&&0<e.length){var t=e[0].type;if(e[0].name&&e[0].name.endsWith(".msg")&&(t="application/vnd.ms-outlook"),!1===g.events.trigger("file.beforeUpload",[e]))return!1;var n,a,r=e[0];if(!(null!==g.opts.fileUploadURL&&g.opts.fileUploadURL!==h||g.opts.fileUploadToS3||g.opts.fileUploadToAzure))return p=r,(u=new FileReader).onload=function(){u.result;for(var e=atob(u.result.split(",")[1]),t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));var a=p.type;p.name&&p.name.endsWith(".msg")&&(a="application/vnd.ms-outlook"),a=window.URL.createObjectURL(new Blob([new Uint8Array(t)],{type:a})),g.file.insert(a,p.name,null)},b(),u.readAsDataURL(p),!1;if(r.size>g.opts.fileMaxSize)return C(m),!1;if(g.opts.fileAllowedTypes.indexOf("*")<0&&g.opts.fileAllowedTypes.indexOf(t.replace(/file\//g,""))<0)return C(v),!1;if(n=g.drag_support.formdata?g.drag_support.formdata?new FormData:null:n){if(!1!==g.opts.fileUploadToS3)for(a in n.append("key",g.opts.fileUploadToS3.keyStart+(new Date).getTime()+"-"+(r.name||"untitled")),n.append("success_action_status","201"),n.append("X-Requested-With","xhr"),n.append("Content-Type",t),g.opts.fileUploadToS3.params)g.opts.fileUploadToS3.params.hasOwnProperty(a)&&n.append(a,g.opts.fileUploadToS3.params[a]);for(a in g.opts.fileUploadParams)g.opts.fileUploadParams.hasOwnProperty(a)&&n.append(a,g.opts.fileUploadParams[a]);n.append(g.opts.fileUploadParam,r);var i,e=g.opts.fileUploadURL,o=(g.opts.fileUploadToS3&&(e=g.opts.fileUploadToS3.uploadURL||"https://".concat(g.opts.fileUploadToS3.region,".amazonaws.com/").concat(g.opts.fileUploadToS3.bucket)),g.opts.fileUploadMethod),s=(g.opts.fileUploadToAzure&&(e=g.opts.fileUploadToAzure.uploadURL?"".concat(g.opts.fileUploadToAzure.uploadURL,"/").concat(r.name):encodeURI("https://".concat(g.opts.fileUploadToAzure.account,".blob.core.windows.net/").concat(g.opts.fileUploadToAzure.container,"/").concat(r.name)),i=e,g.opts.fileUploadToAzure.SASToken&&(e+=g.opts.fileUploadToAzure.SASToken),o="PUT"),g.core.getXHR(e,o));if(g.opts.fileUploadToAzure){var l,c,d,e=(new Date).toUTCString();for(a in!g.opts.fileUploadToAzure.SASToken&&g.opts.fileUploadToAzure.accessKey&&(l=g.opts.fileUploadToAzure.account,f=g.opts.fileUploadToAzure.container,g.opts.fileUploadToAzure.uploadURL&&(f=(c=g.opts.fileUploadToAzure.uploadURL.split("/")).pop(),l=c.pop().split(".")[0]),c="x-ms-blob-type:BlockBlob\nx-ms-date:".concat(e,"\nx-ms-version:2019-07-07"),f=encodeURI("/"+l+"/"+f+"/"+r.name),o=o+"\n\n\n"+r.size+"\n\n"+t+"\n\n\n\n\n\n\n"+c+"\n"+f,c=g.cryptoJSPlugin.cryptoJS.HmacSHA256(o,g.cryptoJSPlugin.cryptoJS.enc.Base64.parse(g.opts.fileUploadToAzure.accessKey)).toString(g.cryptoJSPlugin.cryptoJS.enc.Base64),d=c,s.setRequestHeader("Authorization","SharedKey "+l+":"+c)),s.setRequestHeader("x-ms-version","2019-07-07"),s.setRequestHeader("x-ms-date",e),s.setRequestHeader("Content-Type",t),s.setRequestHeader("x-ms-blob-type","BlockBlob"),g.opts.fileUploadParams)g.opts.fileUploadParams.hasOwnProperty(a)&&s.setRequestHeader(a,g.opts.fileUploadParams[a]);for(a in g.opts.fileUploadToAzure.params)g.opts.fileUploadToAzure.params.hasOwnProperty(a)&&s.setRequestHeader(a,g.opts.fileUploadToAzure.params[a])}s.onload=function(){y.call(s,r.name,i,d)},s.onerror=w,s.upload.onprogress=_,s.onabort=A,b();var f=g.popups.get("file.insert");f&&(f.off("abortUpload"),f.on("abortUpload",function(){4!==s.readyState&&s.abort()})),s.send(g.opts.fileUploadToAzure?r:n)}}var p,u}function s(){i()}function l(e){var t,n;return e?(g.popups.onHide("file.insert",s),!0):(e="",g.opts.fileUpload||g.opts.fileInsertButtons.splice(g.opts.fileInsertButtons.indexOf("fileUpload"),1),e='<div class="fr-buttons fr-tabs">'.concat(g.button.buildList(g.opts.fileInsertButtons),"</div>"),t="",g.opts.fileUpload&&(t='<div class="fr-file-upload-layer fr-layer fr-active" id="fr-file-upload-layer-'.concat(g.id,'"><strong>').concat(g.language.translate("Drop file"),"</strong><br>(").concat(g.language.translate("or click"),')<div class="fr-form"><input type="file" name="').concat(g.opts.fileUploadParam,'" accept="').concat(0<=g.opts.fileAllowedTypes.indexOf("*")?"/":"").concat(g.opts.fileAllowedTypes.join(", ").toLowerCase(),'" tabIndex="-1" aria-labelledby="fr-file-upload-layer-').concat(g.id,'" role="button"></div></div>')),e=g.popups.create("file.insert",{buttons:e,upload_layer:t,progress_bar:'<div class="fr-file-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="fileDismissError" tabIndex="2" role="button">OK</button></div></div>'}),n=e,g.events.$on(n,"dragover dragenter",".fr-file-upload-layer",function(){return d(this).addClass("fr-drop"),!1},!0),g.events.$on(n,"dragleave dragend",".fr-file-upload-layer",function(){return d(this).removeClass("fr-drop"),!1},!0),g.events.$on(n,"drop",".fr-file-upload-layer",function(e){e.preventDefault(),e.stopPropagation(),d(this).removeClass("fr-drop");e=e.originalEvent.dataTransfer;e&&e.files&&(n.data("instance")||g).file.upload(e.files)},!0),g.helpers.isIOS()&&g.events.$on(n,"touchstart",'.fr-file-upload-layer input[type="file"]',function(){d(this).trigger("click")}),g.events.$on(n,"change",'.fr-file-upload-layer input[type="file"]',function(){var e;this.files&&((e=n.data("instance")||g).events.disableBlur(),n.find("input:focus").blur(),e.events.enableBlur(),e.file.upload(this.files)),d(this).val("")},!0),e)}function e(e){g.node.hasClass(e,"fr-file")}function n(e){var t=e.originalEvent.dataTransfer;if(t&&t.files&&t.files.length){var n=t.files[0];if(n&&"undefined"!=typeof n.type){if(n.type.indexOf("image")<0)return g.opts.fileUpload?(g.markers.remove(),g.markers.insertAtPoint(e.originalEvent),g.$el.find(".fr-marker").replaceWith(ct.MARKERS),g.popups.hideAll(),g.popups.get("file.insert")||l(),g.popups.setContainer("file.insert",g.$sc),g.popups.show("file.insert",e.originalEvent.pageX,e.originalEvent.pageY),b(),o(t.files),e.preventDefault(),e.stopPropagation()):(e.preventDefault(),e.stopPropagation()),!1}else n.type.indexOf("image")<0&&(e.preventDefault(),e.stopPropagation())}}function c(){for(var e=Array.prototype.slice.call(g.el.querySelectorAll("a.fr-file")),t=[],n=0;n<e.length;n++)t.push(e[n].getAttribute("href"));if(a)for(n=0;n<a.length;n++)t.indexOf(a[n].getAttribute("href"))<0&&g.events.trigger("file.unlink",[a[n]]);a=e}return r[1]="File cannot be loaded from the passed link.",r[f]="No link in upload response.",r[p]="Error during file upload.",r[u]="Parsing response failed.",r[m]="File is too large.",r[v]="File file type is invalid.",r[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",{_init:function(){g.events.on("drop",n),g.events.$on(g.$win,"keydown",function(e){var e=e.which,t=g.popups.get("file.insert");t&&e===ct.KEYCODE.ESC&&t.trigger("abortUpload")}),g.events.on("destroy",function(){var e=g.popups.get("file.insert");e&&e.trigger("abortUpload")}),g.events.on("link.beforeRemove",e),g.$wp&&(c(),g.events.on("contentChanged",c)),l(!0)},showInsertPopup:function(){var e,t,n=g.$tb.find('.fr-command[data-cmd="insertFile"]'),a=(a=g.popups.get("file.insert"))||l();i(),a.hasClass("fr-active")||(g.popups.refresh("file.insert"),g.popups.setContainer("file.insert",g.$tb),n.isVisible?(t=(e=g.button.getPosition(n)).left,g.popups.show("file.insert",t,e.top,n.outerHeight())):(g.position.forSelection(a),g.popups.show("file.insert")))},upload:o,insert:E,back:function(){g.events.disableBlur(),g.selection.restore(),g.events.enableBlur(),g.popups.hide("file.insert"),g.toolbar.showInline()},hideProgressBar:i}},ct.DefineIcon("insertFile",{NAME:"file-o",FA5NAME:"file",SVG_KEY:"insertFile"}),ct.RegisterCommand("insertFile",{title:"Upload File",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("file.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("file.insert")):this.file.showInsertPopup()},plugin:"file"}),ct.DefineIcon("fileBack",{NAME:"arrow-left",SVG_KEY:"back"}),ct.RegisterCommand("fileBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.file.back()},refresh:function(e){this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),ct.RegisterCommand("fileDismissError",{title:"OK",callback:function(){this.file.hideProgressBar(!0)}}),Object.assign(ct.POPUP_TEMPLATES,{"filesManager.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_EMBED_LAYER_][_UPLOAD_PROGRESS_LAYER_][_PROGRESS_BAR_]","image.edit":"[_BUTTONS_]","image.alt":"[_BUTTONS_][_ALT_LAYER_]","image.size":"[_BUTTONS_][_SIZE_LAYER_]"}),Object.assign(ct.DEFAULTS,{filesInsertButtons:["imageBack","|","filesUpload","filesByURL","filesEmbed"],filesInsertButtons2:["deleteAll","insertAll","cancel","minimize"],imageEditButtons:["imageReplace","imageAlign","imageCaption","imageRemove","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],imageAltButtons:["imageBack","|"],imageSizeButtons:["imageBack","|"],imageUpload:!0,filesManagerUploadURL:null,imageCORSProxy:"https://cors-anywhere.froala.com",imageUploadRemoteUrls:!0,filesManagerUploadParam:"file",filesManagerUploadParams:{},googleOptions:{},filesManagerUploadToS3:!1,filesManagerUploadToAzure:!1,filesManagerUploadMethod:"POST",filesManagerMaxSize:10485760,filesManagerAllowedTypes:["*"],imageResize:!0,imageResizeWithPercent:!1,imageRoundPercent:!1,imageDefaultWidth:300,imageDefaultAlign:"center",imageDefaultDisplay:"block",imageSplitHTML:!1,imageStyles:{"fr-rounded":"Rounded","fr-bordered":"Bordered","fr-shadow":"Shadow"},imageMove:!0,imageMultipleStyles:!0,imageTextNear:!0,imagePaste:!0,imagePasteProcess:!1,imageMinWidth:16,imageOutputSize:!1,imageDefaultMargin:5,imageAddNewLine:!1}),ct.VIDEO_PROVIDERS=[{test_regex:/^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\??v?=?([^#\&\?]*).*/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/)?([0-9a-zA-Z_\-]+)(.+)?/g,url_text:"https://www.youtube.com/embed/$1?$2",html:'<iframe width="640" height="360" src="{url}&wmode=opaque" frameborder="0" allowfullscreen></iframe>',provider:"youtube"},{test_regex:/^.*(?:vimeo.com)\/(?:channels(\/\w+\/)?|groups\/*\/videos\/\u200b\d+\/|video\/|)(\d+)(?:$|\/|\?)/,url_regex:/(?:https?:\/\/)?(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?(\/[a-zA-Z0-9_\-]+)?/i,url_text:"https://player.vimeo.com/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vimeo"},{test_regex:/^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g,url_text:"https://www.dailymotion.com/embed/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"dailymotion"},{test_regex:/^.+(screen.yahoo.com)\/[^_&]+/,url_regex:"",url_text:"",html:'<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"yahoo"},{test_regex:/^.+(rutube.ru)\/[^_&]+/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g,url_text:"https://rutube.ru/play/embed/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"rutube"},{test_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/,url_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/g,url_text:"https://play.vidyard.com/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vidyard"}],ct.VIDEO_EMBED_REGEX=/^\W*((<iframe(.|\n)*>(\s|\n)*<\/iframe>)|(<embed(.|\n)*>))\W*$/i,ct.IMAGE_EMBED_REGEX=/^\W*((<img(.|\n)*>(\s|\n)*))\W*$/i,ct.IMAGE_TYPE="image/png",ct.IMAGE_ALLOW_REGEX=/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i,ct.PLUGINS.filesManager=function(y){var m,l,w,c,r,d,i,t,_=y.$,H="https://i.froala.com/upload",U=!1,n=!1,C=new Map,A=new Map,v=new Map,b=new Map,T=new Map,E=new Map,$=0,a=[],K=-1,k=[],f=0,z=["file","image","imageTUI","video"],W=1,V=2,G=3,S=4,Y=5,j=6,q=10,X=["video/avi","video/mpeg","video/x-ms-wmv"],o={};function Z(){var e=y.popups.get("filesManager.insert"),t=e.find(".fr-files-by-url-layer input");t.val(""),e.find(".fr-files-embed-layer textarea").val("").trigger("change"),t.trigger("change")}function Q(e){y.hasOwnProperty("imageTUI")||(i="fr-disabled"),E.forEach(function(e,t){s(t)}),J()?t=(t=y.popups.get("filesManager.insert"))||ze():(t=y.popups.get("filesManager.insert"))||(a={buttons:'<div class="fr-buttons fr-tabs"></div>',upload_layer:a="<div style= 'padding:10px'>\n    <div class = 'fr-message'><h3 style ='font-size: 16px; margin: 10px 10px;font-weight: normal;'>".concat(y.language.translate(function(){var e="",t=function(){var t=[];return z.forEach(function(e){y.opts.pluginsEnabled.indexOf(e)<0&&t.push(e.charAt(0).toUpperCase()+e.slice(1))}),t}();e=t.join(", "),1<t.length?e+=" plugin are":e+=" plugin is";return e}()+" not enabled. Do you want to enable?"),"</h3></div>\n    <div style='text-align:right;'>\n      <button class='fr-trim-button fr-plugins-enable'>").concat(y.language.translate("Enable"),"</button>               \n      <button class='fr-trim-button fr-plugins-cancel'>").concat(y.language.translate("Cancel"),"</button>\n    </div>"),by_url_layer:"",embed_layer:"",upload_progress_layer:"",progress_bar:""},Be(a=y.popups.create("filesManager.insert",a)),t=a);var t,n,a=y.$tb.find('.fr-command[data-cmd="insertFiles"]');u(),!e&&t.hasClass("fr-active")||(e||le(),y.popups.refresh("filesManager.insert"),y.popups.setContainer("filesManager.insert",y.$tb),a.isVisible()?(n=(e=y.button.getPosition(a,C.size)).left,y.popups.show("filesManager.insert",n,e.top,a.outerHeight())):(y.position.forSelection(t),y.popups.show("filesManager.insert"))),y.popups.setPopupDimensions(t),J()&&y.popups.setFileListHeight(t),t.find(".fr-upload-progress")&&0==C.size&&t.find(".fr-upload-progress").addClass("fr-none")}function J(){var t=!0;return z.forEach(function(e){y.opts.pluginsEnabled.indexOf(e)<0&&(t=!1)}),t}function ee(){u()}function te(){var a,r,i,e,t,n,o,s,l;c||(y.shared.$image_resizer?(c=y.shared.$image_resizer,d=y.shared.$img_overlay,y.events.on("destroy",function(){_("body").first().append(c.removeClass("fr-active"))},!0)):(y.shared.$image_resizer=_(document.createElement("div")).attr("class","fr-image-resizer"),c=y.shared.$image_resizer,y.events.$on(c,"mousedown",function(e){e.stopPropagation()},!0),y.opts.imageResize&&(c.append(ne("nw")+ne("ne")+ne("sw")+ne("se")),y.shared.$img_overlay=_(document.createElement("div")).attr("class","fr-image-overlay"),d=y.shared.$img_overlay,e=c.get(0).ownerDocument,_(e).find("body").first().append(d))),y.events.on("shared.destroy",function(){c.html("").removeData().remove(),c=null,y.opts.imageResize&&(d.remove(),d=null)},!0),y.helpers.isMobile()||y.events.$on(_(y.o_win),"resize",function(){m&&!m.hasClass("fr-uploading")?N(!0):m&&(te(),replace(),p(!1))}),y.opts.imageResize&&(e=c.get(0).ownerDocument,y.events.$on(c,y._mousedown,".fr-handler",re),y.events.$on(_(e),y._mousemove,ie),y.events.$on(_(e.defaultView||e.parentWindow),y._mouseup,oe),y.events.$on(d,"mouseleave",oe),a=1,r=null,i=0,y.events.on("keydown",function(e){var t,n;m&&(t=-1!=navigator.userAgent.indexOf("Mac OS X")?e.metaKey:e.ctrlKey,((n=e.which)!==r||200<e.timeStamp-i)&&(a=1),(n==ct.KEYCODE.EQUALS||y.browser.mozilla&&n==ct.KEYCODE.FF_EQUALS)&&t&&!e.altKey?a=Ze.call(this,e,1,1,a):(n==ct.KEYCODE.HYPHEN||y.browser.mozilla&&n==ct.KEYCODE.FF_HYPHEN)&&t&&!e.altKey?a=Ze.call(this,e,2,-1,a):y.keys.ctrlKey(e)||n!=ct.KEYCODE.ENTER||(m.before("<br>"),O(m)),r=n,i=e.timeStamp)},!0),y.events.on("keyup",function(){a=1})));m&&((e=y.$wp||y.$sc).append(c),c.data("instance",y),t=e.scrollTop()-("static"!=e.css("position")?e.offset().top:0),n=e.scrollLeft()-("static"!=e.css("position")?e.offset().left:0),n-=y.helpers.getPX(e.css("border-left-width")),t-=y.helpers.getPX(e.css("border-top-width")),y.$el.is("img")&&y.$sc.is("body")&&(n=t=0),o=D(),B()&&(o=o.find(".fr-img-wrap")),l=s=0,y.opts.iframe&&(s=y.helpers.getPX(y.$wp.find(".fr-iframe").css("padding-top")),l=y.helpers.getPX(y.$wp.find(".fr-iframe").css("padding-left"))),c.css("top",(y.opts.iframe?o.offset().top+s:o.offset().top+t)-1).css("left",(y.opts.iframe?o.offset().left+l:o.offset().left+n)-1).css("width",o.get(0).getBoundingClientRect().width).css("height",o.get(0).getBoundingClientRect().height).addClass("fr-active"))}function ne(e){return'<div class="fr-handler fr-h'.concat(e,'"></div>')}function ae(e){(B()?m.parents(".fr-img-caption"):m).css("width",e)}function re(e){if(!y.core.sameInstance(c))return!0;if(e.preventDefault(),e.stopPropagation(),y.$el.find("img.fr-error").left)return!1;y.undo.canDo()||y.undo.saveStep();var t=e.pageX||e.originalEvent.touches[0].pageX;if("mousedown"==e.type){var e=y.$oel.get(0).ownerDocument,e=e.defaultView||e.parentWindow,n=!1;try{n=e.location!=e.parent.location&&!(e.$&&e.$.FE)}catch(a){}n&&e.frameElement&&(t+=y.helpers.getPX(_(e.frameElement).offset().left)+e.frameElement.clientLeft)}(r=_(this)).data("start-x",t),r.data("start-width",m.width()),r.data("start-height",m.height());n=m.width();y.opts.imageResizeWithPercent&&(e=m.parentsUntil(y.$el,y.html.blockTagsQuery()).get(0)||y.el,n=(n/_(e).outerWidth()*100).toFixed(2)+"%"),ae(n),d.show(),y.popups.hideAll(),ot()}function ie(e){var t,n;return!y.core.sameInstance(c)||(r&&m?(e.preventDefault(),!y.$el.find("img.fr-error").left&&!!(e=e.pageX||(e.originalEvent.touches?e.originalEvent.touches[0].pageX:null))&&(e=e-r.data("start-x"),n=r.data("start-width"),(r.hasClass("fr-hnw")||r.hasClass("fr-hsw"))&&(e=0-e),y.opts.imageResizeWithPercent?(t=m.parentsUntil(y.$el,y.html.blockTagsQuery()).get(0)||y.el,n=((n+e)/_(t).outerWidth()*100).toFixed(2),y.opts.imageRoundPercent&&(n=Math.round(n)),ae("".concat(n,"%")),(t=(B()?y.helpers.getPX(m.parents(".fr-img-caption").css("width"))/_(t).outerWidth()*100:y.helpers.getPX(m.css("width"))/_(t).outerWidth()*100).toFixed(2))===n||y.opts.imageRoundPercent||ae("".concat(t,"%")),m.css("height","").removeAttr("height")):(n+e>=y.opts.imageMinWidth&&(ae(n+e),t=B()?y.helpers.getPX(m.parents(".fr-img-caption").css("width")):y.helpers.getPX(m.css("width"))),t!==n+e&&ae(t),((m.attr("style")||"").match(/(^height:)|(; *height:)/)||m.attr("height"))&&(m.css("height",r.data("start-height")*m.width()/r.data("start-width")),m.removeAttr("height"))),te(),void y.events.trigger("image.resize",[m]))):void 0)}function oe(e){if(!y.core.sameInstance(c))return!0;if(r&&m){if(e&&e.stopPropagation(),y.$el.find("img.fr-error").left)return!1;r=null,d.hide(),te(),y.undo.saveStep(),y.events.trigger("image.resizeEnd",[m])}else c.removeClass("fr-active")}function se(){E.forEach(function(e,t){var n=y.popups.get("filesManager.insert");n.find(".fr-checkbox-file-"+t).get(0).disabled=!0,document.getElementById("fr-file-autoplay-button-"+t)&&(document.getElementById("fr-file-autoplay-button-"+t).disabled=!0,document.getElementById("fr-file-autoplay-button-"+t).parentElement.classList.add("fr-checkbox-disabled"),document.getElementById("fr-file-autoplay-button-"+t).parentElement.classList.remove("fr-files-checkbox")),n.find(".fr-checkbox-"+t).get(0).classList.remove("fr-files-checkbox"),n.find(".fr-checkbox-"+t).get(0).classList.add("fr-checkbox-disabled")})}function R(e,t,n,a){y.edit.on(),m&&m.addClass("fr-error"),o[e]?(e!=G&&e!=V&&e!=S||Se(100,a,!0),E.set(a,o[e]),se(),E.forEach(function(e,t){y.popups.get("filesManager.insert"),document.getElementById("fr-file-edit-button-".concat(t))&&(document.getElementById("fr-file-edit-button-".concat(t)).classList.add("fr-disabled"),document.getElementById("fr-file-view-button-".concat(t)).classList.add("fr-disabled"),document.getElementById("fr-file-insert-button-".concat(t)).classList.add("fr-disabled"))}),de(y.language.translate(o[e]),a)):de(y.language.translate("Something went wrong. Please try again."),a),!m&&n&&Qe(n),y.events.trigger("filesManager.error",[{code:e,message:o[e]},t,n])}function x(){var e=y.popups.get("filesManager.insert"),t=e.find('.fr-command[data-cmd="insertAll"]'),e=e.find('.fr-command[data-cmd="deleteAll"]'),a=!0;T.forEach(function(e,t,n){T.get(t)&&(a=!1)}),a?t.addClass("fr-disabled"):t.removeClass("fr-disabled"),a?e.addClass("fr-disabled"):e.removeClass("fr-disabled")}function s(e){A.get(e)&&A.get(e).link&&y.events.trigger("filesManager.removed",[A.get(e).link]);var t=y.popups.get("filesManager.insert");t.find(".fr-file-"+e).get(0)!==undefined&&(t.find(".fr-file-"+e).get(0).outerHTML=""),A["delete"](e),C["delete"](e),T["delete"](e),x(),0==C.size&&(f=0),E["delete"](e),y.popups.setPopupDimensions(t,!0),y.opts.toolbarBottom?Q(!0):y.popups.setPopupDimensions(t),t.find(".fr-upload-progress")&&0==C.size&&t.find(".fr-upload-progress").addClass("fr-none")}function le(){for(var e=y.popups.get("filesManager.insert"),t=e.find(".fr-insert-checkbox"),n=0;n<t.length;n++)t.get(n).children.target.checked=!1,e.find(".fr-file-"+t.get(n).id.split("-").pop()).get(0).classList.add("fr-unchecked");if(w)document.getElementById("fr-file-autoplay-button-".concat(w))&&(document.getElementById("fr-file-autoplay-button-".concat(w)).checked=!1),k=k.filter(function(e){return e!=w});else{for(var a=e.find(".fr-file-autoplay-button"),r=0;r<a.length;r++)a.get(r).checked=!1;k=[]}T=new Map,x()}function p(e){var t,n,a=y.popups.get("filesManager.insert");(a=a||ze()).find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),a.find(".fr-files-progress-bar-layer").addClass("fr-active"),a.find(".fr-buttons").hide(),m&&(a=D(),y.popups.setContainer("filesManager.insert",y.$sc),t=a.offset().left,n=a.offset().top+a.height(),y.popups.show("filesManager.insert",t,n,a.outerHeight())),void 0===e&&L(y.language.translate("Uploading"),0)}function u(e){var t=y.popups.get("filesManager.insert");t&&(t.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),t.find(".fr-files-progress-bar-layer").removeClass("fr-active"),t.find(".fr-buttons").show(),e||y.$el.find("img.fr-error").length)&&(y.events.focus(),y.$el.find("img.fr-error").length&&(y.$el.find("img.fr-error").remove(),y.undo.saveStep(),y.undo.run(),y.undo.dropRedo()),!y.$wp&&m&&(t=m,N(!0),y.selection.setAfter(t.get(0)),y.selection.restore()),y.popups.hide("filesManager.insert"))}function L(e,t){var n=y.popups.get("filesManager.insert");n&&((n=n.find(".fr-files-progress-bar-layer")).find("h3").text(e+(t?" ".concat(t,"%"):"")),n.removeClass("fr-error"),t?(n.find("div").removeClass("fr-indeterminate"),n.find("div > span").css("width","".concat(t,"%"))):n.find("div").addClass("fr-indeterminate"))}function ce(e){p();var t=y.popups.get("filesManager.insert").find(".fr-files-progress-bar-layer"),t=(t.addClass("fr-error"),t.find("h3"));t.text(e),y.events.disableBlur(),t.focus()}function de(e,t){var n=y.popups.get("filesManager.insert"),a=n.find(".fr-upload-progress-layer"),t=n.find(".fr-file-".concat(t));a.addClass("fr-error"),t.find("h5").text(e)}o[W]="File cannot be loaded from the passed link.",o[V]="No link in upload response.",o[G]="Error during file upload.",o[S]="Parsing response failed.",o[Y]="File is too large.",o[j]="File type is invalid.",o[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",o[8]="File is corrupted.",o[9]="Error during file loading.";var fe,pe,ue,g,ge,he,me,ve,be,Ee,h="";function ye(e){h=e,fe=document.getElementsByClassName(e),Array.prototype.map.call(fe,function(e){e.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation(),pe=e.pageX,ue=e.pageY;e=document.getElementById("filesList");ue+20>e.getBoundingClientRect().bottom&&we(e,0,10),ue-20<e.getBoundingClientRect().top&&we(e,0,-10)},!1),y.helpers.isMobile()&&e.getElementsByClassName("dot")[0].addEventListener("touchmove",function(e){e.preventDefault(),e.stopPropagation();for(var t=e.target;t&&!t.classList.contains(h);)t=t.parentElement;for(var n=document.elementFromPoint(e.targetTouches[0].clientX,e.targetTouches[0].clientY);n&&!n.classList.contains(h);)n=n.parentElement;var a=document.getElementsByClassName("fr-hovered-over-file"),a=(Array.prototype.forEach.call(a,function(e){e.classList.remove("fr-hovered-over-file")}),n&&!t.classList.contains("fr-unchecked")&&n.classList.add("fr-hovered-over-file"),document.getElementById("filesList"));e.targetTouches[0].clientY+5>a.getBoundingClientRect().bottom&&we(a,0,5),e.targetTouches[0].clientY-5<a.getBoundingClientRect().top&&we(a,0,-5)},!1),e.ondrag=_e,e.ondragend=Ce,y.helpers.isMobile()&&((e=e.getElementsByClassName("dot"))[0].addEventListener("touchmove",_e,!1),e[0].addEventListener("touchend",Ce,!1))})}function we(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function _e(e){for(y.helpers.isMobile()&&(ge=event.touches[0].clientX,he=event.touches[0].clientY),g=e.target;!g.classList.contains(h);)g=g.parentElement;!g.classList.contains(h)||g.classList.contains("fr-unchecked")?g=undefined:y.helpers.isMobile()&&g.classList.add("drag-sort-active")}function Ce(e){var t,n,a;if(g!==undefined){if(y.helpers.isMobile())for(n=ge,a=he,t=event.target;!t.classList.contains(h);)t=t.parentElement;else n=event.clientX,a=event.clientY;y.helpers.isMobile()||!y.browser.safari&&!y.browser.mozilla||(n=pe,a=ue);for(var r=document.elementFromPoint(n,a);r&&!r.classList.contains(h);)r=r.parentElement;if(r&&!r.classList.contains(h))r=undefined;else if(r&&g!==r){var i,o,s=g,l=r,c=s.parentNode,d=l.parentNode;if(c&&d&&!c.isEqualNode(l)&&!d.isEqualNode(s)){for(var f=0;f<c.children.length;f++)c.children[f].isEqualNode(s)&&(i=f);for(f=0;f<d.children.length;f++)d.children[f].isEqualNode(l)&&(o=f);c.isEqualNode(d)&&i<o&&o++,c.insertBefore(l,c.children[i]),d.insertBefore(s,d.children[o])}}y.helpers.isMobile()&&(t.classList.remove("fr-hovered-over-file"),r.classList.remove("fr-hovered-over-file"))}}function I(e){var a=y.popups.get("filesManager.insert"),t=(a.find(".fr-upload-progress-layer").hasClass("fr-active")||a.find(".fr-upload-progress-layer").addClass("fr-active"),a.find(".fr-upload-progress").removeClass("fr-none"),C.get(e)),n=function(e){var t,n={weekday:"long",year:"numeric",month:"long",day:"numeric"};try{t=e.toLocaleDateString(y.opts.language||undefined,n)}catch(a){t=e.toLocaleDateString(undefined,n)}return t+""}(new Date),r=T.get(e)?"":"fr-unchecked ",r="\n        <div id='fr-file-".concat(e,"' class='fr-file-list-item fr-file-").concat(e," ").concat(r,"' draggable = \"").concat(!r,'" >\n        <div class=\'fr-file-item-left\' >\n\n    \n            <div class="fr-file-item-insert-checkbox fr-files-checkbox-line">\n            ').concat(y.helpers.isMobile()?"<div id='fr-pick-".concat(e,"}' class='dot'>\n            </div>"):"",'\n            <div id="checkbox-key-').concat(e,'" class="fr-files-checkbox fr-insert-checkbox  fr-checkbox-').concat(e,'">\n            <input name="target" class="fr-insert-attr fr-checkbox-file-').concat(e,' fr-file-insert-check" data-cmd="fileInsertCheckbox"\n             data-checked="_blank" type="checkbox" id="fr-link-target-').concat(y.id,'" tabIndex="0" />\n            <span>').concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>','\n            </span>\n        </div>\n                <label id="fr-label-target-').concat(y.id,"\"></label>\n            </div>\n    \n            <div class='fr-file-item-icon fr-file-item-icon-").concat(e,"' >\n                <img src='https://secure.webtoolhub.com/static/resources/icons/set112/f2afb6f7.png' alt='Image preview' class='fr-thumbnail-padding' height='36px' width='36px' />\n            </div>\n\n            <div class='fr-file-item-description' >\n                <div class='fr-file-name fr-files-manager-tooltip'>\n                   ").concat(function(e,t,n){null==n&&(n="...");return e.length>t?e.substring(0,t-n.length)+n:e}(t.name,20),'\n                      <span class="').concat(20<t.name.length?"tooltiptext":"fr-none",'">').concat(t.name,"\n                      </span>\n                 </div>\n                 <div class='fr-file-details'>\n                 <div class='fr-file-date'>").concat(n,"\n                 </div>\n \n                 <div class='fr-file-size'>\n                     ").concat(0==(r=t.size)?"0 Bytes":(n=Math.floor(Math.log(r)/Math.log(1024))," | "+ +(r/Math.pow(1024,n)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][n]),"\n                 </div>\n                 </div>\n\n                  <div class='fr-file-error'>\n                    <h5 class='fr-file-error-h5'></h5>\n                 </div>\n             </div>\n    \n        </div>\n\n        <div class='fr-file-item-right fr-file-item-right-").concat(e,"'>")+ke(e)+"</div>\n    </div>";a.find(".fr-upload-progress-layer")[0].innerHTML=r+a.find(".fr-upload-progress-layer")[0].innerHTML,C.forEach(function(e,t,n){T.get(t)&&a.find("input.fr-insert-attr.fr-checkbox-file-".concat(t))[0].setAttribute("checked",null)}),k.forEach(function(e){document.getElementById("fr-file-autoplay-button-"+e).checked=!0}),Te(e,t),u(),y.opts.toolbarBottom?Q(!0):y.popups.setPopupDimensions(a),ye("fr-file-list-item")}function Ae(e){switch(e){case"application/msword":return y.icon.getFileIcon("docIcon");case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return y.icon.getFileIcon("docxIcon");case"image/gif":return y.icon.getFileIcon("gifIcon");case"image/jpeg":return y.icon.getFileIcon("jpegIcon");case"image/jpeg":return y.icon.getFileIcon("jpgIcon");case"type/text":return y.icon.getFileIcon("logIcon");case"video/quicktime":return y.icon.getFileIcon("movIcon");case"audio/mp3":case"audio/mpeg":return y.icon.getFileIcon("mp3Icon");case"video/mp4":return y.icon.getFileIcon("mp4Icon");case"audio/ogg":return y.icon.getFileIcon("oggIcon");case"video/ogg":return y.icon.getFileIcon("ogvIcon");case"application/pdf":return y.icon.getFileIcon("pdfIcon");case"image/png":return y.icon.getFileIcon("pngIcon");case"text/plain":return y.icon.getFileIcon("txtIcon");case"video/webm":return y.icon.getFileIcon("webmIcon");case"image/webp":return y.icon.getFileIcon("webpIcon");case"video/x-ms-wmv":return y.icon.getFileIcon("wmvIcon");case"application/vnd.ms-excel":return y.icon.getFileIcon("xlsIcon");case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return y.icon.getFileIcon("xlsxIcon");case"application/x-zip-compressed":case"application/zip":return y.icon.getFileIcon("zipIcon");default:return y.icon.getFileIcon("defaultIcon")}}function Te(a,r,e){var i,o=y.popups.get("filesManager.insert"),t=o.find(".fr-file-item-icon-"+a).get(0);F(M(r))&&"image/gif"!=M(r)&&"image/webp"!=M(r)?("a"!=t.children[0].localName&&(t.innerHTML="<a target='_blank' href=''>"+t.innerHTML+"</a>"),o.find(".fr-file-item-icon-"+a).get(0).children[0].children[0],i=new FileReader,null!=e&&e&&(e=C.get(a),r.name=e.name,C.set(a,r)),i.onloadend=function(){o.find(".fr-file-item-icon-"+a).get(0).children[0].children[0].src=i.result;for(var e=atob(i.result.split(",")[1]),t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));o.find(".fr-file-item-icon-"+a).get(0).children[0].href=window.URL.createObjectURL(new Blob([new Uint8Array(t)],{type:M(r)})),o.find(".fr-file-item-icon-"+a).get(0).classList.add("fr-file-item-thumbnail-hover")},r?i.readAsDataURL(r):(e=Ae(M(r)),t.innerHTML='<svg height="40px" width="40px" viewBox="0 0 55 5" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        '.concat(e.path,"\n        </svg>"))):(e=Ae(M(r)),t.innerHTML='<svg height="40px" width="40px" viewBox="0 0 55 55" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      '.concat(e.path,"\n      </svg>"))}function ke(e){var t="",n=(Ue(M(C.get(e)))&&(n="fr-files-checkbox",a="",Ke(M(C.get(e)))||(n="fr-checkbox-disabled",a="disabled"),t='\n      <div class="fr-files-checkbox-line align-autoplay">\n      <div id="checkbox-key-'.concat(e,'" class="').concat(n," fr-autoplay-checkbox  fr-checkbox-").concat(e,'">  \n                   \n      <input type="checkbox" id="fr-file-autoplay-button-').concat(e,'" class="fr-file-button-').concat(e,' fr-file-autoplay-button" data-title="Edit" data-param1="').concat(e,'" role="button" ').concat(a,"/>\n\n      <span>").concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>'," </span>\n      </div>      \n      <label  class='fr-autoplay-checkbox-label'>Autoplay </label>\n      </div>")),"application/msword"),a="application/vnd.openxmlformats-officedocument.wordprocessingml.document",r="";return!$e(M(C.get(e)))&&Ke(M(C.get(e)))||(i="fr-disabled"),Ue(M(C.get(e)))&&(i="fr-disabled"),P(M(C.get(e)))&&(i="fr-disabled",M(C.get(e))!=n&&M(C.get(e))!=a||y.opts.googleOptions&&!y.helpers.isMobile()&&y.opts.googleOptions.API_KEY&&y.opts.googleOptions.CLIENT_ID&&(i=""),"text/plain"!=M(C.get(e))&&M(C.get(e))!=n&&"application/pdf"!=M(C.get(e))&&M(C.get(e))!=a&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!=M(C.get(e))&&"application/vnd.ms-excel"!=M(C.get(e))&&"type/text"!=M(C.get(e))||(r="")),"video/url"===M(C.get(e))&&(i="fr-disabled"),t+='<div class=\'fr-file-item-action-buttons\' >\n                <button type="button" id="fr-file-insert-button-'.concat(e,'" class=" fr-doc-edit-').concat(e," fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons \n                fr-file-button-").concat(e," fr-file-insert-button-").concat(e,' fr-file-insert-button" data-cmd="imageInsertByUpload" data-title="Insert" data-param1="').concat(e,'" tabIndex="2" role="button">\n                <svg style=\'margin:0px !important; opacity:0.9\' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-5 0 28 28" xlmns = "http://w3.org/200/svg"><path d = \'M 9.25 12 L 6.75 12 C 6.335938 12 6 11.664062 6 11.25 L 6 6 L 3.257812 6 C 2.703125 6 2.425781 5.328125 2.820312 4.933594 L 7.570312 0.179688 C 7.804688 -0.0546875 8.191406 -0.0546875 8.425781 0.179688 L 13.179688 4.933594 C 13.574219 5.328125 13.296875 6 12.742188 6 L 10 6 L 10 11.25 C 10 11.664062 9.664062 12 9.25 12 Z M 16 11.75 L 16 15.25 C 16 15.664062 15.664062 16 15.25 16 L 0.75 16 C 0.335938 16 0 15.664062 0 15.25 L 0 11.75 C 0 11.335938 0.335938 11 0.75 11 L 5 11 L 5 11.25 C 5 12.214844 5.785156 13 6.75 13 L 9.25 13 C 10.214844 13 11 12.214844 11 11.25 L 11 11 L 15.25 11 C 15.664062 11 16 11.335938 16 11.75 Z M 12.125 14.5 C 12.125 14.15625 11.84375 13.875 11.5 13.875 C 11.15625 13.875 10.875 14.15625 10.875 14.5 C 10.875 14.84375 11.15625 15.125 11.5 15.125 C 11.84375 15.125 12.125 14.84375 12.125 14.5 Z M 14.125 14.5 C 14.125 14.15625 13.84375 13.875 13.5 13.875 C 13.15625 13.875 12.875 14.15625 12.875 14.5 C 12.875 14.84375 13.15625 15.125 13.5 15.125 C 13.84375 15.125 14.125 14.84375 14.125 14.5 Z M 14.125 14.5 \'></path></svg>\n                </button>\n\n                <button type="button" id="fr-file-edit-button-').concat(e,'" class=" fr-doc-edit-').concat(e," ").concat(i," fr-img-icon fr-btn fr-command fr-submit \n                fr-file-action-icons fr-file-edit-button-").concat(e," fr-file-button-").concat(e,' fr-file-edit-button" data-cmd="editImage" data-title="Edit" data-param1="').concat(e,'" role="button">\n                <svg style=\'margin:0px !important; opacity:0.9\' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "0 4 25 25" xlmns = "http://w3.org/200/svg"><path d = \'M17,11.2L12.8,7L5,14.8V19h4.2L17,11.2z M7,16.8v-1.5l5.6-5.6l1.4,1.5l-5.6,5.6H7z M13.5,6.3l0.7-0.7c0.8-0.8,2.1-0.8,2.8,0  c0,0,0,0,0,0L18.4,7c0.8,0.8,0.8,2,0,2.8l-0.7,0.7L13.5,6.3z\'></path></svg>\n                </button>\n                \n                <span class="fr-file-view-').concat(e,'"><button type="button" id="fr-file-view-button-').concat(e,'" class=" fr-doc-edit-').concat(e," ").concat(r," fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons \n                fr-file-view-button-").concat(e,' fr-file-view-button" data-cmd="viewImage" data-title="View" data-param1="').concat(e,'" tabIndex="2" role="button">\n                <svg style=\'margin:0px !important; opacity:0.9\' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "15 19 21 21" xlmns = "http://w3.org/200/svg"> <path style="fill:none;stroke-width:0.9077;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 19.086094 16.541466 C 16.185625 16.541466 14.318281 19.447115 14.318281 19.447115 L 14.318281 19.555288 C 14.318281 19.555288 16.176719 22.475962 19.077187 22.475962 C 21.977656 22.475962 23.847969 19.576322 23.847969 19.576322 L 23.847969 19.465144 C 23.847969 19.465144 21.989531 16.541466 19.086094 16.541466 Z M 19.07125 21.024639 C 18.248906 21.024639 17.583906 20.357572 17.583906 19.53726 C 17.583906 18.716947 18.248906 18.04988 19.07125 18.04988 C 19.890625 18.04988 20.555625 18.716947 20.555625 19.53726 C 20.555625 20.357572 19.890625 21.024639 19.07125 21.024639 Z M 19.07125 21.024639 " transform="matrix(1.315789,0,0,1.3,0,0)"/></svg></button></span>\n\n                <button type="button" id="fr-file-delete-button-').concat(e,'" class=" fr-doc-edit-').concat(e," fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons\n                fr-file-button-").concat(e,' fr-file-delete-button" data-cmd="deleteImage" data-title="Delete" data-param1="').concat(e,'" role="button">\n                <svg style=\'margin:0px !important; opacity:0.9\' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-2 3 30 30" xlmns = "http://w3.org/200/svg"><path d = \'M15,10v8H9v-8H15 M14,4H9.9l-1,1H6v2h12V5h-3L14,4z M17,8H7v10c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2V8z\'></path></svg>\n                </button>\n                 \n            </div>\n            <div id="user_area-').concat(e,"\" style=\"display: none;\">\n            \n              <div id=\"file_container\"></div>\n\n              <div style='display:block;text-align: center; margin-left:50%; id='edit-file-loader' class='fr-file-loader'></div>\n\n          </div> \n            ")}function Se(e,t,n){var a,r,i=y.popups.get("filesManager.insert");!n&&e<=100?(i.find(".fr-checkbox-file-"+t).get(0).disabled=!0,i.find(".fr-checkbox-"+t).get(0).classList.remove("fr-files-checkbox"),i.find(".fr-checkbox-"+t).get(0).classList.add("fr-checkbox-disabled"),a=i.find(".fr-file-progress-circle-"+t),r=i.find(".fr-file-upload-percent-"+t),50<e?a.get(0).setAttribute("class","fr-file-progress-circle-"+t+" progress-circle p"+Math.floor(e)+" over50"):a.get(0).setAttribute("class","fr-file-progress-circle-"+t+" progress-circle p"+Math.floor(e)),r.get(0).innerHTML=Math.floor(e)+"%",Re(t,e,n)):n&&(i.find(".fr-checkbox-file-"+t).get(0).disabled=!1,i.find(".fr-checkbox-"+t).get(0).classList.remove("fr-checkbox-disabled"),i.find(".fr-checkbox-"+t).get(0).classList.add("fr-files-checkbox"),i.find(".fr-file-item-right-"+t).get(0).innerHTML=ke(t),Re(t,100,n))}function Re(e,t,n){var a=y.popups.get("filesManager.insert"),r=(a.find(".fr-progress-bar").removeClass("fr-none").addClass("fr-display-block"),a.find(".fr-upload-progress").hasClass("fr-height-set")&&y.popups.setFileListHeight(a),0);b.set(e,t),b.forEach(function(e,t){r+=e}),r/=b.size,100==t&&n&&$++,a.find('.fr-command[data-cmd="filesUpload"]').addClass("fr-disabled"),a.find('.fr-command[data-cmd="filesByURL"]').addClass("fr-disabled"),a.find('.fr-command[data-cmd="filesEmbed"]').addClass("fr-disabled"),a.find(".fr-progress-bar").get(0).style.width=r+"%",$==b.size&&(a.find(".fr-progress-bar").removeClass("fr-display-block").addClass("fr-none"),b=new Map,$=0,a.find('.fr-command[data-cmd="filesUpload"]').removeClass("fr-disabled"),a.find('.fr-command[data-cmd="filesByURL"]').removeClass("fr-disabled"),a.find('.fr-command[data-cmd="filesEmbed"]').removeClass("fr-disabled"))}function xe(n,a){u(),y.popups.get("filesManager.insert").find(".fr-upload-progress-layer").addClass("fr-active"),n.forEach(function(e,t){F(M(e))&&y.opts.imageUploadRemoteUrls&&y.opts.imageCORSProxy&&y.opts.imageUpload?De(e,n,0,a[t]):A.set(a[t],e)})}function O(e){e&&e.get&&!function(e){if("false"==_(this).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable"))return!0;if(e&&"touchend"==e.type&&Ee)return!0;if(e&&y.edit.isDisabled())return e.stopPropagation(),e.preventDefault(),!1;for(var t=0;t<ct.INSTANCES.length;t++)ct.INSTANCES[t]!=y&&ct.INSTANCES[t].events.trigger("image.hideResizer");y.toolbar.disable(),e&&(e.stopPropagation(),e.preventDefault());y.helpers.isMobile()&&(y.events.disableBlur(),y.$el.blur(),y.events.enableBlur());y.opts.iframe&&y.size.syncIframe();m=_(this),te(),y.browser.msie?(y.popups.areVisible()&&y.events.disableBlur(),y.win.getSelection&&(y.win.getSelection().removeAllRanges(),y.win.getSelection().addRange(y.doc.createRange()))):y.selection.clear();y.helpers.isIOS()&&(y.events.disableBlur(),y.$el.blur());y.button.bulkRefresh(),y.events.trigger("video.hideResizer")}.call(e.get(0))}function Le(){var e=_(this);e.removeClass("fr-uploading"),e.next().is("br")&&e.next().remove(),(0==a.length||0<a.length&&a.length==K)&&(t=e),"VIDEO"==e.get(0).tagName||"AUDIO"==e.get(0).tagName?y.selection.setAfter(e.parent()):y.selection.setAfter(e),y.undo.saveStep(),y.events.trigger("filesManager.loaded",[e]),Oe(a)}function Ie(){for(var e=Array.prototype.slice.call(y.el.querySelectorAll("video, .fr-video > *")),t=[],n=0;n<e.length;n++)t.push(e[n].getAttribute("src")),_(e[n]).toggleClass("fr-draggable",y.opts.videoMove),""===e[n].getAttribute("class")&&e[n].removeAttribute("class"),""===e[n].getAttribute("style")&&e[n].removeAttribute("style");if(me)for(n=0;n<me.length;n++)t.indexOf(me[n].getAttribute("src"))<0&&y.events.trigger("video.removed",[_(me[n])]);me=e}function Oe(e){null!=e&&(0==e.length?null!=t&&("VIDEO"==t.get(0).tagName?y.video._editVideo(t.parent()):"IMG"==t.get(0).tagName?y.image.edit(t):t.trigger("click"),y.toolbar.disable()):Fe(e.shift(),e))}function Me(e){var t,n,a,r=!1;Ue(M(A.get(e)))?(y.trimVideoPlugin.trimVideo(C.get(e),e,C),r=!0):F(M(A.get(e)))?(t=A.get(e).link,(n=y.o_doc.createElement("img")).src=t,m=n,l=e,y.imageTUI.launch(y,!1,e),r=!0):P(M(A.get(e)))&&(t={apiKey:y.opts.googleOptions.API_KEY,clientId:y.opts.googleOptions.CLIENT_ID,authorizeButton:"authorize_button-".concat(e),signoutButton:"signout_button",userArea:"user_area-".concat(e),fileInput:"file_input",fileIndex:e,file:C.get(e),fileContainer:"file_container",loadingText:"File is being uploaded...",events:{onInvalidFile:function(e){},onError:function(e){}}},be=function(d){var a,e=["https://www.googleapis.com/discovery/v1/apis/drive/v2/rest"],f="id,title,mimeType,userPermission,editable,copyable,shared,fileSize",p="-------314159265358979323846",u="\r\n--"+p+"\r\n",g="\r\n--"+p+"--",t=(document.getElementById(d.authorizeButton),document.getElementById(d.userArea));d.events||(d.events={});function n(){gapi.client.init({apiKey:d.apiKey,clientId:d.clientId,discoveryDocs:e,scope:"https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.appdata"}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(r),r(gapi.auth2.getAuthInstance().isSignedIn.get()),!gapi.auth2.getAuthInstance().isSignedIn.get()||gapi.auth.getToken()!==undefined&&gapi.auth.getToken().access_token===undefined?Promise.resolve(gapi.auth2.getAuthInstance().signIn()).then(function(){o()}):o()},function(e){d.events.onError(e)})}function r(e){e&&(t.style.display="block")}function i(e){var t=gapi.auth.getToken().access_token,t="https://docs.google.com/feeds/download/documents/export/Export?id="+a+"&format=docx&access_token="+t,n=new XMLHttpRequest;n.open("get",t),n.responseType="arraybuffer",n.onload=function(){var e=new Blob([new Uint8Array(this.response)],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),t=C.get(d.fileIndex);e.name=t.name,e.lastModified=t.lastModified,e.lastModifiedDate=t.lastModifiedDate,C.set(d.fileIndex,e),y.filesManager.upload(e,A,m,d.fileIndex),s()},n.send()}function o(){for(var e=d.fileIndex,t=document.getElementsByClassName("fr-doc-edit-".concat(e)),n=0;n<t.length;n++)t[n].setAttribute("disabled",!0),t[n].classList.add("fr-disabled");var s,l,c,e=d.file;e?(s=e,l=h,(c=new FileReader).readAsArrayBuffer(s),c.onload=function(e){for(var t={title:s.name,mimeType:"application/vnd.google-apps.document"},n="",a=new Uint8Array(c.result),r=a.byteLength,i=0;i<r;i++)n+=String.fromCharCode(a[i]);var o=btoa(n),t=u+"Content-Type: application/json; charset=UTF-8\r\n\r\n"+JSON.stringify(t)+u+"Content-Type: application/octet-stream\r\nContent-Transfer-Encoding: base64\r\n\r\n"+o+g,o=gapi.client.request({path:"/upload/drive/v2/files",method:"POST",params:{uploadType:"multipart",fields:f},headers:{"Content-Type":'multipart/related; boundary="'+p+'"',"Content-Length":t.Length},body:t});l=l||function l(e){},o.execute(function(e,t){e.error?d.events.onError(e.error):l(e)})}):d.events.onInvalidFile("File is not selected")}function h(e){a=e.id;var e="https://docs.google.com/document/d/"+e.id+"/edit",t=y.o_doc.body,n=y.o_doc.createElement("div");n.setAttribute("id","editDocContainer"),n.style.cssText="position: fixed; top: 0;left: 0;padding: 0;width: 100%;height: 100%;background: rgba(255,255,255,1);z-index: 9998;display:block",n.innerHTML='<div style="margin-top:25px; text-align:center"><label>Sign Out : </label><input type="checkbox" id ="markSignOut" role="button"/>  <button id="signout_button"  class="fr-trim-button" >Save </button> <button id="cancel_file_edit" class="fr-trim-button">Cancel</button></div>  <iframe title="Edit your file" frameBorder="0" width="100%" height="700px" src="'+e+'"></iframe>',t.appendChild(n),document.getElementById("signout_button").onclick=i,document.getElementById("cancel_file_edit").onclick=s}function s(){document.getElementById("markSignOut").checked&&gapi.auth2.getAuthInstance().signOut().then(function(){gapi.auth.getToken()&&(gapi.auth.getToken().access_token=undefined)});for(var e=document.getElementById("editDocContainer"),e=(e.parentNode.removeChild(e),document.getElementById("user_area-".concat(d.fileIndex))&&(document.getElementById("user_area-".concat(d.fileIndex)).style.display="none"),d.fileIndex),t=document.getElementsByClassName("fr-doc-edit-".concat(e)),n=0;n<t.length;n++)t[n].removeAttribute("disabled"),t[n].classList.remove("fr-disabled")}d.events.onInvalidFile=d.events.onInvalidFile||function(e){},d.events.onError=d.events.onError||function(e){};var l={handleClientLoad:function(){gapi.load("client:auth2",n)}};return l}(t),n=function(){},a=function a(e,t){var n=document.createElement("script");n.src=e,n.onload=function(){this.onload=function(){},be.handleClientLoad()},n.onreadystatechange=function(){"complete"===this.readyState&&this.onload()},(document.getElementsByTagName("head")[0]||document.body).appendChild(n)},0!=(e=["https://apis.google.com/js/api.js"]).length?a(e.shift()):n&&n()),r&&(U=!0)}function M(e){var n,a;return""==e.type?e.name&&e.name.endsWith(".msg")?n="application/vnd.ms-outlook":(a=/(?:\.([^.]+))?$/.exec(e.name)[1],[[".doc","application/msword"],[".docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[".gif","image/gif"],[".jpeg","image/jpeg"],[".jpg","image/jpeg"],[".txt","text/plain"],[".log","type/text"],[".mov","video/quicktime"],[".mp3","audio/mpeg"],[".mp4","video/mp4"],[".ogg","audio/ogg"],[".ogv","video/ogg"],[".pdf","application/pdf"],[".png","image/png"],[".webm","video/webm"],[".webp","image/webp"],[".wmv","video/x-ms-wmv"],[".xls","application/vnd.ms-excel"],[".xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],[".zip","application/x-zip-compressed"],[".hex","application/octet-stream"]].forEach(function(e,t){e[0]==".".concat(a)&&(n=e[1])}),n):e.type}function Fe(s,e){if(P(M(A.get(s)))||!Ke(M(A.get(s)))){var t,n=A.get(s).link,a=A.get(s).text,r=A.get(s).data,i=(!a&&C.get(s)&&C.get(s).name&&(a=C.get(s).name),A.get(s).response),o=(y.edit.on(),y.events.focus(!0),y.selection.restore(),y.opts.fileUseSelectedText&&y.selection.text().length&&(a=y.selection.text()),'<a href="'.concat(n,'" target="_blank" id="fr-inserted-file" '));if(void 0!==r)for(t in r)r.hasOwnProperty(t)&&"link"!=t&&(o+="".concat(t,'="').concat(r[t],'" '));-1==o.indexOf(' class="')&&(o+='class="fr-file" '),o+=">".concat(a,"</a>"),y.html.insert(o);n=y.$el.find("#fr-inserted-file");n.removeAttr("id"),y.undo.saveStep();for(var l=Array.prototype.slice.call(y.el.querySelectorAll("a.fr-file")),c=[],d=0;d<l.length;d++)c.push(l[d].getAttribute("href"));if(ve)for(d=0;d<ve.length;d++)c.indexOf(ve[d].getAttribute("href"))<0&&y.events.trigger("file.unlink",[ve[d]]);ve=l,y.selection.clear(),y.selection.setAfter(n),y.events.trigger("file.inserted",[n,i]),Oe(e)}F(M(A.get(s)))&&Ke(M(A.get(s)))&&(f=A.get(s).link,a=A.get(s).sanitize,p=A.get(s).data,u=A.get(s).$existing_img,g=A.get(s).response,u&&"string"==typeof u&&(u=y.$(u)),y.edit.off(),L(y.language.translate("Loading image")),a&&(f=y.helpers.sanitizeURL(f)),(n=new Image).onload=function(){var e,t;if(u){y.undo.canDo()||u.hasClass("fr-uploading")||y.undo.saveStep();for(var n=u.data("fr-old-src"),a=(u.data("fr-image-pasted")&&(n=null),y.$wp?((e=u.clone().removeData("fr-old-src").removeClass("fr-uploading").removeAttr("data-fr-image-pasted")).off("load"),n&&u.attr("src",n),u.replaceWith(e)):e=u,e.get(0).attributes),r=0;r<a.length;r++){var i=a[r];0===i.nodeName.indexOf("data-")&&e.removeAttr(i.nodeName)}if(void 0!==p)for(t in p)p.hasOwnProperty(t)&&"link"!=t&&e.attr("data-".concat(t),p[t]);e.on("load",Le),e.attr("src",f),y.edit.on(),y.undo.saveStep(),y.events.disableBlur(),y.$el.blur(),y.events.trigger(n?"image.replaced":"image.inserted",[e,g])}else e=function(e,t,n){var a,r=_(document.createElement("img")).attr("src",e);if(t&&void 0!==t)for(a in t)t.hasOwnProperty(a)&&"link"!=a&&(" data-".concat(a,'="').concat(t[a],'"'),r.attr("data-".concat(a),t[a]));e=y.opts.imageDefaultWidth;e&&"auto"!=e&&(e=y.opts.imageResizeWithPercent?"100%":"".concat(e,"px"));r.attr("style",e?"width: ".concat(e,";"):""),st(r,y.opts.imageDefaultDisplay,y.opts.imageDefaultAlign),r.on("load",n),r.on("error",n),y.edit.on(),y.events.focus(!0),y.selection.restore(),y.undo.saveStep(),y.opts.imageSplitHTML?y.markers.split():y.markers.insert();y.html.wrap();e=y.$el.find(".fr-marker");e.length?(e.parent().is("hr")&&e.parent().after(e),y.node.isLastSibling(e)&&e.parent().hasClass("fr-deletable")&&e.insertAfter(e.parent()),e.replaceWith(r)):y.$el.append(r);return r}(f,p,Le),y.undo.saveStep(),y.events.disableBlur(),y.$el.blur(),y.events.trigger("image.inserted",[e,g])},n.onerror=function(){R(W,null,null,s),Oe(e)},n.src=f),(Ue(M(A.get(s)))||$e(M(A.get(s))))&&Ke(M(A.get(s)))&&(w=s,"video/url"==M(A.get(s))?(i=!1,(i=document.getElementById("fr-file-autoplay-button-"+s)!==undefined?document.getElementById("fr-file-autoplay-button-"+s).checked:i)&&A.get(s)!==undefined&&-1<A.get(s).video.indexOf("iframe")&&A.get(s).video.indexOf("autoplay=1")<0?(a="&",(n=(n=(n=A.get(s).video.substring(A.get(s).video.indexOf("src")+3)).substring(n.indexOf('"')+1)).substring(0,n.indexOf('"'))).indexOf("?")<0&&(a="?"),A.get(s).video=A.get(s).video.replace(n,n+=a+"autoplay=1&mute=1")):!i&&A.get(s).video.indexOf(!1)&&(-1<A.get(s).video.indexOf("&autoplay=1")&&(A.get(s).video=A.get(s).video.replace("&autoplay=1","")),-1<A.get(s).video.indexOf("?autoplay=1"))&&(A.get(s).video=A.get(s).video.replace("?autoplay=1","")),y.events.focus(!0),y.selection.restore(),y.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(A.get(s).video,"</span>"),!1,y.opts.videoSplitHTML),y.popups.hide("filesManager.insert"),(a=y.$el.find(".fr-jiv")).removeClass("fr-jiv"),a.toggleClass("fr-rv",y.opts.videoResponsive),n=a,i=y.opts.videoDefaultDisplay,E=y.opts.videoDefaultAlign,!y.opts.htmlUntouched&&y.opts.useClasses?(n.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"),n.addClass("fr-fv".concat(E[0]," fr-dv").concat(i[0]))):"inline"==i?(n.css({display:"inline-block"}),"center"==E?n.css({"float":"none"}):"left"==E?n.css({"float":"left"}):n.css({"float":"right"})):(n.css({display:"block",clear:"both"}),"left"==E?n.css({textAlign:"left"}):"right"==E?n.css({textAlign:"right"}):n.css({textAlign:"center"})),a.toggleClass("fr-draggable",y.opts.videoMove),y.events.trigger("video.inserted",[a]),Le.call(a)):(h=A.get(s).link,E=A.get(s).sanitize,m=A.get(s).data,v=A.get(s).$existing_img,b=A.get(s).response,y.edit.off(),E&&(h=y.helpers.sanitizeURL(h)),function(){var e,t;if(v){y.undo.canDo()||v.find("video").hasClass("fr-uploading")||y.undo.saveStep();for(var n=v.find("video").data("fr-old-src"),a=v.data("fr-replaced"),r=(v.data("fr-replaced",!1),y.$wp?((e=v.clone(!0)).find("video").removeData("fr-old-src").removeClass("fr-uploading"),e.find("video").off("canplay"),n&&v.find("video").attr("src",n),v.replaceWith(e)):e=v,e.find("video").get(0).attributes),i=0;i<r.length;i++){var o=r[i];0===o.nodeName.indexOf("data-")&&e.find("video").removeAttr(o.nodeName)}if(void 0!==m)for(t in m)m.hasOwnProperty(t)&&"link"!=t&&e.find("video").attr("data-".concat(t),m[t]);e.find("video").on("canplay",Le),e.find("video").attr("src",h),y.edit.on(),Ie(),y.undo.saveStep(),y.$el.blur(),y.events.trigger(a?"video.replaced":"video.inserted",[e,b])}else e=function(e,t,n,a,r){var i,o="";if(t&&void 0!==t)for(i in t)t.hasOwnProperty(i)&&"link"!=i&&(o+=" data-".concat(i,'="').concat(t[i],'"'));var s=y.opts.videoDefaultWidth;s&&"auto"!=s&&(s="".concat(s,"px"));{var l;r=$e(a)?_(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+y.opts.videoDefaultDisplay[0]+("center"!=y.opts.videoDefaultAlign?" fr-fv"+y.opts.videoDefaultAlign[0]:"")).html('<audio src="'+e+'" '+o+" controls>"+y.language.translate("Your browser does not support HTML5 video.")+"</audio>"):(l="",document.getElementById("fr-file-autoplay-button-"+r).checked&&(l="autoplay"),_(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+y.opts.videoDefaultDisplay[0]+("center"!=y.opts.videoDefaultAlign?" fr-fv"+y.opts.videoDefaultAlign[0]:"")).html('<video src="'+e+'" '+o+(s?' style="width: '+s+';" ':"")+l+"  controls>"+y.language.translate("Your browser does not support HTML5 video.")+"</video>"))}r.toggleClass("fr-draggable",y.opts.videoMove),y.edit.on(),y.events.focus(!0),y.selection.restore(),y.undo.saveStep(),y.opts.videoSplitHTML?y.markers.split():y.markers.insert();y.html.wrap();e=y.$el.find(".fr-marker");y.node.isLastSibling(e)&&e.parent().hasClass("fr-deletable")&&e.insertAfter(e.parent());e.replaceWith(r);s="";s=$e(a)?"audio":"video",r.find(s).get(0).readyState>r.find(s).get(0).HAVE_FUTURE_DATA||y.helpers.isIOS()?n.call(r.find(s).get(0)):(r.find(s).on("canplaythrough load",n),r.find(s).on("error",n));return r}(h,m,Le,M(A.get(s)),s),Ie(),y.undo.saveStep(),y.events.trigger("video.inserted",[e,b])}())),y.popups.hide("filesManager.insert"),T["delete"](s);var f,p,u,g,h,m,v,b,E,a=y.popups.get("filesManager.insert");a.find("input.fr-insert-attr.fr-checkbox-file-".concat(s))[0].checked=!1,a.find(".fr-file-"+s).get(0).classList.add("fr-unchecked"),x(),document.getElementById("fr-file-autoplay-button-"+s)&&(document.getElementById("fr-file-autoplay-button-"+s).checked=!1),k=k.filter(function(e){return e!=s})}function Pe(e,t){try{var n;return!1===y.events.trigger("filesManager.uploaded",[e],!0)?(y.edit.on(),!1):(n=JSON.parse(e)).link?n:(R(V,e,null,t),!1)}catch(a){return R(S,e,null,t),!1}}function Ne(e,t){try{var n=_(e).find("Location").text(),a=_(e).find("Key").text();return!1===y.events.trigger("filesManager.uploadedToS3",[n,a,e],!0)?(y.edit.on(),!1):n}catch(r){return R(S,e,null,t),!1}}function De(e,t,n,a){if(-1<X.indexOf(M(e))||!M(e))return R(j,null,null,a),!1;if(!1===y.events.trigger("filesManager.beforeUpload",[t]))return!1;if(!(null!==y.opts.filesManagerUploadURL&&y.opts.filesManagerUploadURL!=H||y.opts.filesManagerUploadToS3||y.opts.filesManagerUploadToAzure))return i=a,o=e,(l=new FileReader).onload=function(){var e;l.result;if(l.result.indexOf("svg+xml")<0){for(var t,n=atob(l.result.split(",")[1]),a=[],r=0;r<n.length;r++)a.push(n.charCodeAt(r));e=window.URL.createObjectURL(new Blob([new Uint8Array(a)],{type:M(o)})),F(M(o))&&(t={link:e,sanitize:!1,data:null,$existing_img:s,response:null,type:M(o)},A.set(i,t)),P(M(o))&&(t={link:e,text:o.name,response:null,type:M(o)},A.set(i,t)),(Ue(M(o))||$e(M(o)))&&(t={link:e,sanitize:!1,data:null,$existing_img:s,type:M(o)},A.set(i,t))}},l.readAsDataURL(o),!1;var i,o,s,l,r,c;if(!F(M(e))||e.name||(e.name=(new Date).getTime()+"."+(M(e)||"image/jpeg").replace(/image\//g,"")),e.size>y.opts.filesManagerMaxSize)return R(Y,null,null,a),!1;if(y.opts.filesManagerAllowedTypes.indexOf("*")<0&&y.opts.filesManagerAllowedTypes.indexOf(M(e))<0)return R(j,null,null,a),!1;if(t=a,isNaN(t)||(y.popups.get("filesManager.insert").find(".fr-file-item-right-"+t).get(0).innerHTML='<div class=\'fr-file-item-action-buttons\' >\n    <button type="button" id="fr-file-cancel-upload-button-'.concat(t,'" class="fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons \n    fr-file-button-').concat(t,' fr-file-cancel-upload-button" data-cmd="cancelUpload" data-title="Cancel" data-param1="').concat(t,'" role="button">\n    <svg style=\'margin:0px !important; opacity:0.9\' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-2 3 30 30" xlmns = "http://w3.org/200/svg"><path d = \'M13.4,12l5.6,5.6L17.6,19L12,13.4L6.4,19L5,17.6l5.6-5.6L5,6.4L6.4,5l5.6,5.6L17.6,5L19,6.4L13.4,12z\'></path></svg>\n    </button>\n\n    <button type="button" id="fr-upload-delete-button-').concat(t,'" class="fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons \n    fr-file-button-').concat(t,' fr-upload-delete-button" data-cmd="deleteUpload" data-title="Delete" data-param1="').concat(t,'" role="button">\n    <svg style=\'margin:0px !important; opacity:0.9\' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-2 3 30 30" xlmns = "http://w3.org/200/svg"><path d = \'M15,10v8H9v-8H15 M14,4H9.9l-1,1H6v2h12V5h-3L14,4z M17,8H7v10c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2V8z\'></path></svg>\n    </button>\n\n    <div class=\'progress-circle p0 fr-file-progress-circle-').concat(t,"'>\n                  <span class='fr-file-upload-percent-").concat(t," fr-file-upload-percent'>0%</span>\n                  <div class='left-half-clipper'>\n                    <div class='first50-bar'></div>\n                    <div class='value-bar'></div>\n                  </div>\n                </div>\n            </div>"),b.set(t,0)),r=y.drag_support.formdata?y.drag_support.formdata?new FormData:null:r){if(!1!==y.opts.filesManagerUploadToS3)for(c in r.append("key",y.opts.filesManagerUploadToS3.keyStart+(new Date).getTime()+"-"+(e.name||"untitled")),r.append("success_action_status","201"),r.append("X-Requested-With","xhr"),r.append("Content-Type",M(e)),y.opts.filesManagerUploadToS3.params)y.opts.filesManagerUploadToS3.params.hasOwnProperty(c)&&r.append(c,y.opts.filesManagerUploadToS3.params[c]);for(c in y.opts.filesManagerUploadParams)y.opts.filesManagerUploadParams.hasOwnProperty(c)&&r.append(c,y.opts.filesManagerUploadParams[c]);r.append(y.opts.filesManagerUploadParam,e,e.name);var d,t=y.opts.filesManagerUploadURL,f=(y.opts.filesManagerUploadToS3&&(t=y.opts.filesManagerUploadToS3.uploadURL||"https://".concat(y.opts.filesManagerUploadToS3.region,".amazonaws.com/").concat(y.opts.filesManagerUploadToS3.bucket)),y.opts.filesManagerUploadToAzure&&(t=y.opts.filesManagerUploadToAzure.uploadURL?"".concat(y.opts.filesManagerUploadToAzure.uploadURL,"/").concat(e.name):encodeURI("https://".concat(y.opts.filesManagerUploadToAzure.account,".blob.core.windows.net/").concat(y.opts.filesManagerUploadToAzure.container,"/").concat(e.name)),d=t,y.opts.filesManagerUploadToAzure.SASToken&&(t+=y.opts.filesManagerUploadToAzure.SASToken),y.opts.filesManagerUploadMethod="PUT"),y.core.getXHR(t,y.opts.filesManagerUploadMethod));if(y.opts.filesManagerUploadToAzure){var p,u,g,h,t=(new Date).toUTCString();for(c in!y.opts.filesManagerUploadToAzure.SASToken&&y.opts.filesManagerUploadToAzure.accessKey&&(p=y.opts.filesManagerUploadToAzure.account,g=y.opts.filesManagerUploadToAzure.container,y.opts.filesManagerUploadToAzure.uploadURL&&(g=(u=y.opts.filesManagerUploadToAzure.uploadURL.split("/")).pop(),p=u.pop().split(".")[0]),u="x-ms-blob-type:BlockBlob\nx-ms-date:".concat(t,"\nx-ms-version:2019-07-07"),g=encodeURI("/"+p+"/"+g+"/"+e.name),u=y.opts.filesManagerUploadMethod+"\n\n\n"+e.size+"\n\n"+M(e)+"\n\n\n\n\n\n\n"+u+"\n"+g,g=y.cryptoJSPlugin.cryptoJS.HmacSHA256(u,y.cryptoJSPlugin.cryptoJS.enc.Base64.parse(y.opts.filesManagerUploadToAzure.accessKey)).toString(y.cryptoJSPlugin.cryptoJS.enc.Base64),h=g,f.setRequestHeader("Authorization","SharedKey "+p+":"+g)),f.setRequestHeader("x-ms-version","2019-07-07"),f.setRequestHeader("x-ms-date",t),f.setRequestHeader("Content-Type",M(e)),f.setRequestHeader("x-ms-blob-type","BlockBlob"),y.opts.filesManagerUploadParams)y.opts.filesManagerUploadParams.hasOwnProperty(c)&&f.setRequestHeader(c,y.opts.filesManagerUploadParams[c]);for(c in y.opts.filesManagerUploadToAzure.params)y.opts.filesManagerUploadToAzure.params.hasOwnProperty(c)&&f.setRequestHeader(c,y.opts.filesManagerUploadToAzure.params[c])}f.onload=function(){P(M(e))?function(e,t,n,a,r){var i,o,s,l,c=this.status,d=this.response,f=this.responseXML,p=this.responseText;try{if(y.opts.filesManagerUploadToS3||y.opts.filesManagerUploadToAzure)if(201===c){if(y.opts.filesManagerUploadToAzure){if(!1===y.events.trigger("filesManager.uploadedToAzure",[this.responseURL,r,d],!0))return y.edit.on(),!1;s=a}else s=Ne(f,t);s&&(l={link:s,text:e,response:d,type:n},A.set(t,l))}else R(S,d||f,null,t);else 200<=c&&c<300?(i=Pe(p,t))&&(o={link:i.link,text:e,response:d,type:n,data:i},A.set(t,o)):R(G,d||p,null,t)}catch(u){R(S,d||p,null,t)}}.call(f,e.name,a,M(e),d,h):function(e,t,n,a,r){var i,o,s,l,c=this.status,d=this.response,f=this.responseXML,p=this.responseText;try{if(y.opts.filesManagerUploadToS3||y.opts.filesManagerUploadToAzure)if(201==c){if(y.opts.filesManagerUploadToAzure){if(!1===y.events.trigger("filesManager.uploadedToAzure",[this.responseURL,r,d],!0))return y.edit.on(),!1;s=a}else s=Ne(f,t);s&&(l={link:s,sanitize:!1,data:[],$existing_img:e,response:d||f,type:n},A.set(t,l))}else R(S,d||f,e,t);else 200<=c&&c<300?(i=Pe(p,t))&&(o={link:i.link,sanitize:!1,data:i,$existing_img:e,response:d||f,type:n},A.set(t,o)):R(G,d||p,e,t)}catch(u){R(S,d||p,e,t)}}.call(f,m,a,M(e),d,h),E.has(a)||Se(100,a,!0)},f.onerror=function(){R(S,this.response||this.responseText||this.responseXML,null,a)},f.upload.onprogress=function(e){var t;t=a,(e=e).lengthComputable&&Se(e.loaded/e.total*100|0,t,!1)},f.onabort=function(e){R(q,e,m,a)},f.send(y.opts.filesManagerUploadToAzure?e:r),v.set(a,f)}}function Be(l){y.events.$on(l,"click",".fr-upload-progress-layer",function(e){if(y.helpers.isMobile())return e.stopPropagation(),!1},!0),y.events.$on(l,"dragover dragenter",".fr-upload-progress-layer",function(e){e.preventDefault();for(var t=0;t<e.originalEvent.dataTransfer.types.length;t++)"Files"==e.originalEvent.dataTransfer.types[t]&&(e.originalEvent.dataTransfer.dropEffect="none");return!1},!0),y.events.$on(l,"dragleave dragend",".fr-upload-progress-layer",function(e){return e.preventDefault(),!1},!0),y.events.$on(l,"dragover dragenter",".fr-files-upload-layer",function(e){return _(this).addClass("fr-drop"),(y.browser.msie||y.browser.edge)&&e.preventDefault(),!1},!0),y.events.$on(l,"dragleave dragend",".fr-files-upload-layer",function(e){return _(this).removeClass("fr-drop"),(y.browser.msie||y.browser.edge)&&e.preventDefault(),!1},!0),y.events.$on(l,"click",".fr-insert-checkbox",function(e){if(this.classList.contains("fr-checkbox-disabled"))this.children.target.disabled=!0,this.children.target.checked=!1;else{for(var t=parseInt(this.id.split("-").pop()),t=(T.set(t,this.children.target.checked),l.find('.fr-command[data-cmd="insertAll"]')),n=l.find('.fr-command[data-cmd="deleteAll"]'),a=l.find('input.fr-file-insert-check[type="checkbox"]'),r=a.length,i=!0,o=0;o<r;o++)1==a[o].checked&&(i=!1);i?t.addClass("fr-disabled"):t.removeClass("fr-disabled"),i?n.addClass("fr-disabled"):n.removeClass("fr-disabled"),this.children.target.checked?(l.find(".fr-file-"+this.id.split("-").pop()).get(0).setAttribute("draggable","true"),l.find(".fr-file-"+this.id.split("-").pop()).get(0).classList.remove("fr-unchecked")):(this.id.split("-").pop(),l.find(".fr-file-"+this.id.split("-").pop()).get(0).setAttribute("draggable","false"),l.find(".fr-file-"+this.id.split("-").pop()).get(0).classList.add("fr-unchecked"))}}),y.events.$on(l,"click",".fr-file-insert-button",function(e){this.classList.contains("fr-disabled")||Fe(parseInt(this.id.split("-").pop()))}),y.events.$on(l,"click",".fr-file-autoplay-button",function(e){this.parentNode.classList.contains("fr-checkbox-disabled")?(this.disabled=!0,this.checked=!1):He(parseInt(this.id.split("-").pop()))}),y.events.$on(l,"click",".fr-file-edit-button",function(e){var t=parseInt(this.id.split("-").pop());l.find(".fr-file-edit-button-".concat(t)).hasClass("fr-disabled")||Me(t)}),y.events.$on(l,"click",".fr-file-view-button",function(e){var t=parseInt(this.id.split("-").pop());if(!l.find(".fr-file-view-button-".concat(t)).hasClass("fr-disabled"))if(Ke(M(A.get(t)))){var n=y.popups.get("filesManager.insert");if(0<n.find(".fr-file-view-image-"+t).length)n.find(".fr-file-view-image-"+t)[0].remove();else{for(var a=n.find(".fr-file-view"),r=0;r<a.length;r++)a.get(r).remove();var i,o,s,n=n.find(".fr-file-view-"+t);F(M(A.get(t)))?(i='<div class="fr-file-view-modal">\n              <div class="fr-file-view-modal-content">\n              <div class="fr-file-view-close">&times;</div> \n                <img src="'+A.get(t).link+"\" class ='fr-file-view-image'/>\n                </div>\n              </div>",n[0].innerHTML=i+n[0].innerHTML):Ue(M(A.get(t)))?(i=A.get(t).hasOwnProperty("video")?(i=(i=(i=A.get(t).video.substring(A.get(t).video.indexOf("src")+3)).substring(i.indexOf('"')+1)).substring(0,i.indexOf('"')),'<div class="fr-file-view-modal">\n        <div class="fr-file-view-modal-content ">\n          <div class="fr-file-view-close">&times;</div> \n          <iframe width="640" height="360" src="'.concat(i+"&autoplay=1&mute=1",'" allow="autoplay" frameborder="0" class = "fr-file-view-image"></iframe>\n        </div>\n      </div>')):'<div class="fr-file-view-modal">\n          <div class="fr-file-view-modal-content ">\n            <div class="fr-file-view-close">&times;</div> \n            <video controls src="'+A.get(t).link+"\"  class ='fr-file-view-image' autoplay></video>\n          </div>\n        </div>",n[0].innerHTML=i+n[0].innerHTML):$e(M(A.get(t)))?(i='<div class="fr-file-view-modal">\n        <div class="fr-file-view-modal-content ">\n          <div  class="fr-file-view-close">&times;</div> \n          <audio controls="controls"  class =\'fr-file-view-image\' autoplay>\n\n          <source src="'.concat(A.get(t).link,'" type="').concat(M(A.get(t)),'" />\n\n            Your browser does not support the audio element.\n          </audio>\n        </div>\n      </div>'),n[0].innerHTML=i+n[0].innerHTML):P(M(A.get(t)))&&(i=A.get(t).link,o=A.get(t).text,i.endsWith(".pdf")||i.endsWith(".txt")?(s='<div class="fr-file-view-modal">\t\n              <div class="fr-file-view-modal-content " >\t\n              <div class="fr-file-view-close">&times;</div> \t\n              <iframe src="'.concat(i,"\" style='background-color: white;' height='50%' width='50%' title=\"").concat(o,'" class="fr-file fr-file-view-image"></iframe>\t\n            </div>\t\n            </div>'),n[0].innerHTML=s+n[0].innerHTML):0===i.indexOf("blob:")&&y.browser.msie&&window.navigator&&window.navigator.msSaveBlob?window.navigator.msSaveBlob(C.get(t),o):((s=document.createElement("a")).href=i,s.download=o,s.click()))}}else n=A.get(t).link,i=A.get(t).link,C.get(t)&&C.get(t).name?i=C.get(t).name:A.get(t).text&&(i=A.get(t).text),0===n.indexOf("blob:")&&y.browser.msie&&window.navigator&&window.navigator.msSaveBlob?window.navigator.msSaveBlob(C.get(t),i):((o=document.createElement("a")).href=n,o.download=i,o.click())}),y.events.$on(l,"click",".fr-file-delete-button",function(e){s(parseInt(this.id.split("-").pop()))}),y.events.$on(l,"click",".fr-file-cancel-upload-button",function(e){var t,n=parseInt(this.id.split("-").pop());n=n,(t=y.popups.get("filesManager.insert")).find(".fr-file-item-right-"+n).get(0).innerHTML=ke(n),v.get(n).abort(),Re(n,100,!0),t.find(".fr-checkbox-file-"+n).get(0).disabled=!0}),y.events.$on(l,"click",".fr-upload-delete-button",function(e){var t=parseInt(this.id.split("-").pop());t=t,0!=v.get(t).readyState&&(v.get(t).abort(),Re(t,100,!0),v["delete"](t)),s(t)}),y.events.$on(l,"click",".fr-file-view-close",function(e){l.find(".fr-file-view-modal").get(0).outerHTML=""}),y.events.$on(l,"click",".fr-plugins-enable",function(e){z.forEach(function(e){y.opts.pluginsEnabled.indexOf(e)<0&&y.opts.pluginsEnabled.push(e)});var t,n=ct.PLUGINS;for(t in n)y[t]||ct.PLUGINS[t]&&y.opts.pluginsEnabled.indexOf(t)<0||(y[t]=new n[t](y),y[t]._init&&y[t]._init());y.popups.get("filesManager.insert").get(0).outerHTML="",ze(),Q(!0)}),y.events.$on(l,"click",".fr-plugins-cancel",function(e){y.popups.hide("filesManager.insert")}),y.events.$on(l,"drop",".fr-upload-progress",function(e){e.preventDefault(),e.stopPropagation()}),y.events.$on(l,"drop",".fr-files-upload-layer",function(e){e.preventDefault(),e.stopPropagation(),_(this).removeClass("fr-drop");var t=e.originalEvent.dataTransfer;if(t&&t.files){for(var n=l.data("instance")||y,a=(n.events.disableBlur(),[]),r=0;r<t.files.length;r++){var i=f;C.set(i,t.files[r]),I(i),T.set(i,!1),a.push(i),f++}for(var o=0;o<a.length;o++)n.filesManager.upload(C.get(a[o]),t.files,m,a[o]);n.events.enableBlur()}},!0),y.helpers.isIOS()&&y.events.$on(l,"touchstart",'.fr-files-upload-layer input[type="file"]',function(){_(this).trigger("click")},!0),y.events.$on(l,"change",'.fr-files-upload-layer input[type="file"]',function(){if(this.files){var e=l.data("instance")||y,t=(e.events.disableBlur(),l.find("input:focus").blur(),e.events.enableBlur(),[]);if("undefined"!=typeof this.files&&0<this.files.length){for(var n=0;n<this.files.length;n++){var a=f;C.set(a,this.files[n]),I(a),T.set(a,!1),++f,t.push(a)}for(var r=0;r<t.length;r++)e.filesManager.upload(C.get(t[r]),this.files,m,t[r])}}_(this).val("")},!0)}function He(t){document.getElementById("fr-file-autoplay-button-"+t).checked?k.push(t):k=k.filter(function(e){return e!=t})}function F(e){return e&&"image"===e.split("/")[0]}function P(e){return e&&"image"!=e.split("/")[0]&&e&&"video"!=e.split("/")[0]&&e&&"audio"!=e.split("/")[0]}function Ue(e){return e&&"video"===e.split("/")[0]}function $e(e){return e&&"audio"===e.split("/")[0]}function Ke(e){var t="audio/ogg",n="video/ogg";if(e==t||e==n||"image/webp"==e||"video/webm"==e){if(y.browser.msie||y.browser.edge||y.browser.safari)return;if(y.helpers.isMobile()){if(e==t||e==n)return;if(!y.helpers.isAndroid()&&!y.browser.chrome)return}}return 1}function ze(e){var t,n,a,r,i,o,s;return e?(y.popups.onRefresh("filesManager.insert",Z),y.popups.onHide("filesManager.insert",ee),!0):(e="",y.opts.imageUpload||-1===y.opts.filesInsertButtons.indexOf("filesUpload")||y.opts.imageInsertButtons.splice(y.opts.filesInsertButtons.indexOf("filesUpload"),1),s=y.button.buildList(y.opts.filesInsertButtons),a=y.button.buildList(y.opts.filesInsertButtons2),""!==s&&(e='<div class="fr-buttons fr-tabs">'.concat(s,'<span class="fr-align-right">').concat(a,"</span></div>")),s=y.opts.filesInsertButtons.indexOf("filesUpload"),a=y.opts.filesInsertButtons.indexOf("filesByURL"),o=y.opts.filesInsertButtons.indexOf("filesEmbed"),r="",0<=s&&(t=" fr-active",r='<div class="fr-files-upload-layer'.concat(t=0<=a&&a<s?"":t,' fr-layer " id="fr-files-upload-layer-').concat(y.id,'"><div style="display:flex"><div class="fr-upload-section"><div class = \'fr-blue-decorator\'><div class = \'fr-cloud-icon\'><svg class = "fr-svg" focusable="false" width="26px" height="26px" viewBox = "0 0 24 24" xlmns = "http://w3.org/200/svg"><path d = \'M12 6.66667a4.87654 4.87654 0 0 1 4.77525 3.92342l0.29618 1.50268 1.52794 0.10578a2.57021 2.57021 0 0 1 -0.1827 5.13478H6.5a3.49774 3.49774 0 0 1 -0.3844 -6.97454l1.06682 -0.11341L7.678 9.29387A4.86024 4.86024 0 0 1 12 6.66667m0 -2A6.871 6.871 0 0 0 5.90417 8.37 5.49773 5.49773 0 0 0 6.5 19.33333H18.41667a4.57019 4.57019 0 0 0 0.32083 -9.13A6.86567 6.86567 0 0 0 12 4.66667Zm0.99976 7.2469h1.91406L11.99976 9 9.08618 11.91357h1.91358v3H11V16h2V14h-0.00024Z\'></path></svg></div>Drag & Drop One or More Files<br><div class="fr-decorated"><span> OR </span></div> Click Browse Files </div> </div><div class="fr-form"><input type="file" accept="').concat(y.opts.filesManagerAllowedTypes.join(",").toLowerCase(),'" tabIndex="-1" aria - labelledby="fr-files-upload-layer-').concat(y.id,'"role="button" multiple></div> </div></div>')),i="",0<=o&&(t=" fr-active",i='<div class="fr-files-embed-layer fr-layer'.concat(t=s<o&&0<=s||a<o&&0<=a?"":t,'" id="fr-files-embed-layer-').concat(y.id,'"><div class="fr-input-line padding-top-15"><textarea data-gramm_editor="false" style=\'height:60px\' id="fr-files-embed-layer-text').concat(y.id,'" type="text" placeholder="').concat(y.language.translate("Embedded Code"),'" tabIndex="1" aria-required="true" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="insertEmbed" tabIndex="2" role="button">').concat(y.language.translate("Insert"),"</button></div></div>")),o="",0<=a&&(t=" fr-active",o='<div class="fr-files-by-url-layer'.concat(t=0<=s&&s<a?"":t,' fr-layer" id="fr-files-by-url-layer-').concat(y.id,'"><div class="fr-input-line fr-by-url-padding"><input id="fr-files-by-url-layer-text-').concat(y.id,'" type="text" placeholder="http://" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="filesInsertByURL" tabIndex="2" role="button">').concat(y.language.translate("Add"),"</button></div></div>")),s="",s="<div class = ' fr-margin-16 fr-upload-progress' id=\"fr-upload-progress-layer-".concat(y.id,"\" ><div  class='fr-progress-bar-style'><div class='fr-progress-bar fr-none'></div></div><div id='filesList' class = 'fr-upload-progress-layer fr-layer'></div></div>"),1<=y.opts.imageInsertButtons.length&&(n=y.popups.create("filesManager.insert",{buttons:e,upload_layer:r,by_url_layer:o,embed_layer:i,upload_progress_layer:s,progress_bar:'<div class="fr-files-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="filesDismissError" tabIndex="2" role="button">OK</button></div></div>'})),y.$wp&&y.events.$on(y.$wp,"scroll",function(){m&&y.popups.isVisible("filesManager.insert")&&replace()}),Be(n),y.popups.setPopupDimensions(n),n)}function We(e){var t,e=e.split("/").pop();return e.split(".").length<2?e+"-"+(t=new Date).getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear():e}function Ve(){m&&y.popups.get("image.alt").find("input").val(m.attr("alt")||"").trigger("change")}function Ge(){y.popups.get("image.alt")||Ye();u(),y.popups.refresh("image.alt"),y.popups.setContainer("image.alt",y.$sc);var e=D(),t=(e=B()?e.find(".fr-img-wrap"):e).offset().left+e.outerWidth()/2,n=e.offset().top+e.outerHeight();y.popups.show("image.alt",t,n,e.outerHeight(),!0)}function Ye(e){var t;return e?(y.popups.onRefresh("image.alt",Ve),!0):(e="",e='<div class="fr-buttons fr-tabs">'.concat(y.button.buildList(y.opts.imageAltButtons),"</div>"),t="",t='<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'.concat(y.id,'"><div class="fr-input-line"><input id="fr-image-alt-layer-text-').concat(y.id,'" type="text" placeholder="').concat(y.language.translate("Alternative Text"),'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2" role="button">').concat(y.language.translate("Update"),"</button></div></div>"),e=y.popups.create("image.alt",{buttons:e,alt_layer:t}),y.$wp&&y.events.$on(y.$wp,"scroll.image-alt",function(){m&&y.popups.isVisible("image.alt")&&Ge()}),e)}function je(){var e,t=y.popups.get("image.size");m&&(B()?((e=m.parent()).get(0).style.width||(e=m.parent().parent()),t.find('input[name="width"]').val(e.get(0).style.width).trigger("change"),t.find('input[name="height"]').val(e.get(0).style.height)):(t.find('input[name="width"]').val(m.get(0).style.width).trigger("change"),t.find('input[name="height"]').val(m.get(0).style.height))).trigger("change")}function qe(){y.popups.get("image.size")||Xe();u(),y.popups.refresh("image.size"),y.popups.setContainer("image.size",y.$sc);var e=D(),t=(e=B()?e.find(".fr-img-wrap"):e).offset().left+e.outerWidth()/2,n=e.offset().top+e.outerHeight();y.popups.show("image.size",t,n,e.outerHeight(),!0)}function Xe(e){var t;return e?(y.popups.onRefresh("image.size",je),!0):(e="",e='<div class="fr-buttons fr-tabs">'.concat(y.button.buildList(y.opts.imageSizeButtons),"</div>"),t="",t='<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'.concat(y.id,'"><div class="fr-image-group"><div class="fr-input-line"><input id="fr-image-size-layer-width-\'').concat(y.id,'" type="text" name="width" placeholder="').concat(y.language.translate("Width"),'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-image-size-layer-height').concat(y.id,'" type="text" name="height" placeholder="').concat(y.language.translate("Height"),'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2" role="button">').concat(y.language.translate("Update"),"</button></div></div>"),e=y.popups.create("image.size",{buttons:e,size_layer:t}),y.$wp&&y.events.$on(y.$wp,"scroll.image-size",function(){m&&y.popups.isVisible("image.size")&&qe()}),e)}function Ze(e,t,n,a){return e.pageX=t,re.call(this,e),e.pageX=e.pageX+n*Math.floor(Math.pow(1.1,a)),ie.call(this,e),oe.call(this,e),++a}function Qe(e){(e=e||D())&&!1!==y.events.trigger("image.beforeRemove",[e])&&(y.popups.hideAll(),N(!0),y.undo.canDo()||y.undo.saveStep(),e.get(0)==y.el?e.removeAttr("src"):((e.get(0).parentNode&&"A"==e.get(0).parentNode.tagName?(y.selection.setBefore(e.get(0).parentNode)||y.selection.setAfter(e.get(0).parentNode)||e.parent().after(ct.MARKERS),_(e.get(0).parentNode)):(y.selection.setBefore(e.get(0))||y.selection.setAfter(e.get(0))||e.after(ct.MARKERS),e)).remove(),y.html.fillEmptyBlocks(),y.selection.restore()),y.undo.saveStep())}function e(e){var t,n=e.which;return!m||n!=ct.KEYCODE.BACKSPACE&&n!=ct.KEYCODE.DELETE?m&&n==ct.KEYCODE.ESC?(t=m,N(!0),y.selection.setAfter(t.get(0)),y.selection.restore(),e.preventDefault(),!1):!m||n!=ct.KEYCODE.ARROW_LEFT&&n!=ct.KEYCODE.ARROW_RIGHT?m&&n===ct.KEYCODE.TAB?(e.preventDefault(),e.stopPropagation(),N(!0),!1):m&&n!=ct.KEYCODE.F10&&!y.keys.isBrowserAction(e)?(e.preventDefault(),e.stopPropagation(),!1):void 0:(t=m.get(0),N(!0),n==ct.KEYCODE.ARROW_LEFT?y.selection.setBefore(t):y.selection.setAfter(t),y.selection.restore(),e.preventDefault(),!1):(e.preventDefault(),e.stopPropagation(),Qe(),!1)}function Je(e){var t;if(e&&"IMG"==e.tagName)y.node.hasClass(e,"fr-uploading")||y.node.hasClass(e,"fr-error")?null!=(t=e.parentNode)&&t.removeChild(e):y.node.hasClass(e,"fr-draggable")&&e.classList.remove("fr-draggable"),e.parentNode&&e.parentNode.parentNode&&y.node.hasClass(e.parentNode.parentNode,"fr-img-caption")&&((t=e.parentNode.parentNode).removeAttribute("contenteditable"),t.removeAttribute("draggable"),t.classList.remove("fr-draggable"),t=e.nextSibling)&&t.removeAttribute("contenteditable");else if(e&&e.nodeType==Node.ELEMENT_NODE)for(var n=e.querySelectorAll("img.fr-uploading, img.fr-error, img.fr-draggable"),a=0;a<n.length;a++)Je(n[a])}function et(e){var e=e.target.result,t=y.opts.imageDefaultWidth,e=(t&&"auto"!=t&&(t+=y.opts.imageResizeWithPercent?"%":"px"),y.undo.saveStep(),y.html.insert('<img data-fr-image-pasted="true" src="'.concat(e,'"').concat(t?' style="width: '.concat(t,';"'):"",">")),y.$el.find('img[data-fr-image-pasted="true"]'));e&&st(e,y.opts.imageDefaultDisplay,y.opts.imageDefaultAlign),y.events.trigger("paste.after")}function tt(e,t){var n,a,r=new FileReader;r.onload=(n=t,(a=y.opts.imageDefaultWidth)&&"auto"!=a&&(a+=y.opts.imageResizeWithPercent?"%":"px"),y.html.insert('<img data-fr-image-pasted="true" src="'.concat(n,'"').concat(a?' style="width: '.concat(a,';"'):"",">")),(n=y.$el.find('img[data-fr-image-pasted="true"]'))&&st(n,y.opts.imageDefaultDisplay,y.opts.imageDefaultAlign),void y.events.trigger("paste.after")),r.readAsDataURL(e,t)}function nt(e,t){var n=t||e&&e.clipboardData;if(n&&n.items){var t=(n||window.clipboardData).getData("text/html")||"",e=(new DOMParser).parseFromString(t,"text/html").querySelector("img"),a=/caret-color:\s*rgb\(/.test(t)||/direction:\s*ltr.*margin-top:\s*0in/.test(t)||/width:\s*[\d.]+in/.test(t);if(t.match('content="Microsoft OneNote')||a)return!0;if(e&&!y.opts.imageUploadURL){if(!e)return!1;var t=e.src,r=null;if(n.types&&-1!=[].indexOf.call(n.types,"text/rtf")||n.getData("text/rtf"))r=n.items[0].getAsFile();else for(var i=0;i<n.items.length;i++)if(r=n.items[i].getAsFile()){ct.IMAGE_TYPE=r.type;break}return r?(tt(r,t),!1):void 0}var o=null;if(n.types&&-1!=[].indexOf.call(n.types,"text/rtf")||n.getData("text/rtf"))o=n.items[0].getAsFile();else for(var s=0;s<n.items.length&&!(o=n.items[s].getAsFile());s++);return o?(a=o,(e=new FileReader).onload=et,e.readAsDataURL(a),!1):void 0}}function at(e){return e=e.replace(/<img /gi,'<img data-fr-image-pasted="true" ')}function N(e){m&&(rt||!0===e)&&(y.toolbar.enable(),c&&c.removeClass("fr-active"),y.popups.hide("image.edit"),ot(),r=m=null,d)&&d.hide()}var rt=!(o[q]="File upload cancelled");function it(){rt=!0}function ot(){rt=!1}function st(e,t,n){!y.opts.htmlUntouched&&y.opts.useClasses?(_(e).removeClass("fr-fil fr-fir fr-dib fr-dii"),n&&_(e).addClass("fr-fi".concat(n[0])),t&&_(e).addClass("fr-di".concat(t[0]))):"inline"==t?(e.css({display:"inline-block",verticalAlign:"bottom",margin:y.opts.imageDefaultMargin}),"center"==n?e.css({"float":"none",marginBottom:"",marginTop:"",maxWidth:"calc(100% - ".concat(2*y.opts.imageDefaultMargin,"px)"),textAlign:"center"}):"left"==n?e.css({"float":"left",marginLeft:0,maxWidth:"calc(100% - ".concat(y.opts.imageDefaultMargin,"px)"),textAlign:"left"}):e.css({"float":"right",marginRight:0,maxWidth:"calc(100% - ".concat(y.opts.imageDefaultMargin,"px)"),textAlign:"right"})):"block"==t&&(e.css({display:"block","float":"none",verticalAlign:"top",margin:"".concat(y.opts.imageDefaultMargin,"px auto"),textAlign:"center"}),"left"==n?e.css({marginLeft:0,textAlign:"left"}):"right"==n&&e.css({marginRight:0,textAlign:"right"}))}function lt(){return m}function D(){return B()?m.parents(".fr-img-caption").first():m}function B(){return!!m&&0<m.parents(".fr-img-caption").length}return{_init:function(){var a;y.events.$on(y.$el,y._mousedown,"IMG"==y.el.tagName?null:'img:not([contenteditable="false"])',function(e){if("false"==_(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable"))return!0;y.helpers.isMobile()||y.selection.clear(),n=!0,y.popups.areVisible()&&y.events.disableBlur(),y.browser.msie&&(y.events.disableBlur(),y.$el.attr("contenteditable",!1)),y.draggable||"touchstart"==e.type||e.preventDefault(),e.stopPropagation()}),y.events.$on(y.$el,y._mousedown,".fr-img-caption .fr-inner",function(e){y.core.hasFocus()||y.events.focus(),e.stopPropagation()}),y.events.$on(y.$el,"paste",".fr-img-caption .fr-inner",function(e){!0===y.opts.toolbarInline&&(y.toolbar.hide(),e.stopPropagation())}),y.events.$on(y.$el,y._mouseup,"IMG"==y.el.tagName?null:'img:not([contenteditable="false"])',function(e){if("false"==_(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable"))return!0;n&&(n=!1,e.stopPropagation(),y.browser.msie)&&(y.$el.attr("contenteditable",!0),y.events.enableBlur())}),y.events.on("keyup",function(e){var t;e.shiftKey&&""===y.selection.text().replace(/\n/g,"")&&y.keys.isArrow(e.which)&&(e=y.selection.element(),t=y.selection.endElement(),e&&"IMG"==e.tagName?O(_(e)):t&&"IMG"==t.tagName&&O(_(t)))},!0),y.events.on("window.mousedown",it),y.events.on("window.touchmove",ot),y.events.on("mouseup window.mouseup",function(){if(m)return N(),!1;ot()}),y.events.on("commands.mousedown",function(e){0<e.parents(".fr-toolbar").length&&N()}),y.events.on("image.resizeEnd",function(){y.opts.iframe&&y.size.syncIframe()}),y.events.on("blur image.hideResizer commands.undo commands.redo element.dropped",function(){N(!(n=!1))}),y.events.on("modals.hide",function(){m&&y.selection.clear()}),y.events.on("image.resizeEnd",function(){y.win.getSelection&&O(m)}),y.opts.imageAddNewLine&&y.events.on("image.inserted",function(e){var t=e.get(0);for(t.nextSibling&&"BR"===t.nextSibling.tagName&&(t=t.nextSibling);t&&!y.node.isElement(t);)t=y.node.isLastSibling(t)?t.parentNode:null;y.node.isElement(t)&&(y.opts.enter===ct.ENTER_BR?e.after("<br>"):_(y.node.blockParent(e.get(0))).after("<".concat(y.html.defaultTag(),"><br></").concat(y.html.defaultTag(),">")))}),"IMG"==y.el.tagName&&y.$el.addClass("fr-view"),y.helpers.isMobile()&&(y.events.$on(y.$el,"touchstart","IMG"==y.el.tagName?null:'img:not([contenteditable="false"])',function(){Ee=!1}),y.events.$on(y.$el,"touchmove",function(){Ee=!0})),y.opts.pluginsEnabled.includes("filestack")&&y.events.on("filestack.pluginsEnabled",function(){ze()}),y.$wp?(y.events.on("window.keydown keydown",e,!0),y.events.on("keyup",function(e){if(m&&e.which==ct.KEYCODE.ENTER)return!1},!0),y.events.$on(y.$el,"keydown",function(){var e=y.selection.element();(e.nodeType===Node.TEXT_NODE||"BR"==e.tagName&&y.node.isLastSibling(e))&&(e=e.parentNode),y.node.hasClass(e,"fr-inner")||(y.node.hasClass(e,"fr-img-caption")||(e=_(e).parents(".fr-img-caption").get(0)),y.node.hasClass(e,"fr-img-caption")&&(y.opts.trackChangesEnabled||_(e).after(ct.INVISIBLE_SPACE+ct.MARKERS),y.selection.restore()))})):y.events.$on(y.$win,"keydown",e),y.events.on("toolbar.esc",function(){var e;if(m)return y.$wp?(y.events.disableBlur(),y.events.focus()):(e=m,N(!0),y.selection.setAfter(e.get(0)),y.selection.restore()),!1},!0),y.events.on("toolbar.focusEditor",function(){if(m)return!1},!0),y.events.on("window.cut window.copy",function(e){var t;m&&y.popups.isVisible("image.edit")&&!y.popups.get("image.edit").find(":focus").length&&(t=D(),B()?(t.before(ct.START_MARKER),t.after(ct.END_MARKER),y.selection.restore(),y.paste.saveCopiedText(t.get(0).outerHTML,t.text())):y.paste.saveCopiedText(m.get(0).outerHTML,m.attr("alt")),"copy"==e.type?setTimeout(function(){O(m)}):(N(!0),y.undo.saveStep(),setTimeout(function(){y.undo.saveStep()},0)))},!0),y.browser.msie&&y.events.on("keydown",function(e){if(!y.selection.isCollapsed()||!m)return!0;var t=e.which;t==ct.KEYCODE.C&&y.keys.ctrlKey(e)?y.events.trigger("window.copy"):t==ct.KEYCODE.X&&y.keys.ctrlKey(e)&&y.events.trigger("window.cut")}),y.events.$on(_(y.o_win),"keydown",function(e){var t=e.which;if(m&&t==ct.KEYCODE.BACKSPACE)return e.preventDefault(),!1}),y.events.$on(y.$win,"keydown",function(e){e=e.which;m&&m.hasClass("fr-uploading")&&e==ct.KEYCODE.ESC&&m.trigger("abortUpload")}),y.events.on("destroy",function(){m&&m.hasClass("fr-uploading")&&m.trigger("abortUpload")}),y.events.on("paste.before",nt),y.events.on("paste.beforeCleanup",at),y.events.on("html.processGet",Je),y.opts.imageOutputSize&&y.events.on("html.beforeGet",function(){a=y.el.querySelectorAll("img");for(var e=0;e<a.length;e++){var t=parseFloat(_(a[e]).css("padding-left"))+parseFloat(_(a[e]).css("padding-right")),t=_(a[e]).width()-t,t=a[e].style.width||t,n=a[e].style.height||_(a[e]).height();t&&a[e].setAttribute("width","".concat(t).replace(/px/,"")),n&&a[e].setAttribute("height","".concat(n).replace(/px/,""))}}),y.opts.iframe&&y.events.on("image.loaded",y.size.syncIframe),y.events.$on(_(y.o_win),"orientationchange.image",function(){setTimeout(function(){m&&O(m)},100)}),y.$wp&&y.events.$on(y.$wp,"scroll.image-edit",function(){m&&y.popups.isVisible("image.edit")&&y.events.disableBlur()}),ze(!0),Xe(!0),Ye(!0),y.events.on("node.remove",function(e){if("IMG"==e.get(0).tagName)return Qe(e),!1}),y.events.on("popups.hide.filesManager.insert",function(e){y.filesManager.minimizePopup(w)})},showInsertPopup:Q,showLayer:function(e){var t,n,a,r=y.popups.get("filesManager.insert");m||y.opts.toolbarInline?m&&(n=D(),a=(n=B()?n.find(".fr-img-wrap"):n).offset().top+n.outerHeight(),n=n.offset().left):(n=(t=y.$tb.find('.fr-command[data-cmd="insertFiles"]')).offset().left,a=t.offset().top+(y.opts.toolbarBottom?10:t.outerHeight()-10)),!m&&y.opts.toolbarInline&&(a=r.offset().top-y.helpers.getPX(r.css("margin-top")),r.hasClass("fr-above"))&&(a+=r.outerHeight()),r.find(".fr-layer").removeClass("fr-active"),r.find(".fr-".concat(e,"-layer")).addClass("fr-active"),r.find(".fr-upload-progress-layer").addClass("fr-active"),y.popups.show("filesManager.insert",n,a,m?m.outerHeight():0),y.accessibility.focusPopup(r)},refreshUploadButton:function(e){var t=y.popups.get("filesManager.insert");t&&t.find(".fr-files-upload-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)},refreshByURLButton:function(e){var t=y.popups.get("filesManager.insert");t&&t.find(".fr-files-by-url-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)},upload:De,insertByURL:function(){for(var e,r,i,o,s,t=y.popups.get("filesManager.insert").find(".fr-files-by-url-layer input"),n=t.val().trim().split(/[ ,]+/),a=[],l=0,c=0;c<n.length;c++)e=n[c],new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)&&(a[l]=n[c],l++);0==a.length?ce(y.language.translate("Url entered is invalid. Please try again.")):0<t.val().trim().length&&0<a.length&&(r=[],i=[],o=f,s=a.length,a.forEach(function(e,n){var a;0==e.trim().length?f==o+--s&&xe(r,i):(u(),p(),L(y.language.translate("Loading file(s)")),(e=function(e){if(void 0===e)return e;var t=null;/^http/.test(e)||(e="https://".concat(e));if(y.helpers.isURL(e))for(var n=0;n<ct.VIDEO_PROVIDERS.length;n++){var a=ct.VIDEO_PROVIDERS[n];if(a.test_regex.test(e)&&new RegExp(y.opts.videoAllowedProviders.join("|")).test(a.provider)){t=e.replace(a.url_regex,a.url_text),t=a.html.replace(/\{url\}/,t);break}}return t}(a=e.trim()))?(C.set(o+n,e={link:a,name:a,type:"video/url",size:2,video:e}),I(o+n),u(),p(),L(y.language.translate("Loading file(s)")),A.set(o+n,e),++f==o+s&&xe(r,i)):((e=new XMLHttpRequest).onload=function(){var e;200==this.status?((e=new Blob([this.response],{type:this.response.type||""})).name=We(a),e.link=a,F(this.response.type)?(e.sanitize=!0,e.existing_image=m):P(this.response.type)&&(e.text=We(a)),r.push(e),i.push(o+n),C.set(o+n,e),I(o+n),(-1<X.indexOf(M(e))||!M(e))&&R(j,null,null,o+n)):((e=new Blob([this.response],{type:this.response.type||" "})).name=We(a),e.link=a,C.set(o+n,e),I(o+n),R(W,this.response,m,o+n)),u(),p(),L(y.language.translate("Loading file(s)")),++f==o+s&&xe(r,i)},e.onerror=function(){var e={link:a,name:We(a),size:0,type:""},t=(R(9,this.response,m,o+n),f);C.set(t,e),I(t),u(),p(),L(y.language.translate("Loading file(s)")),++f==o+s&&xe(r,i)},e.open("GET","".concat(y.opts.imageCORSProxy,"/").concat(a),!0),e.responseType="blob",e.send()))}),t.val(""),t.blur())},insertAllFiles:function(){a=[];var e=y.popups.get("filesManager.insert");K=-1,t=null,e.find(".fr-insert-checkbox").toArray().forEach(function(e,t,n){e.children.target.checked&&(a.push(parseInt(e.id.split("-").pop())),F(A.get(parseInt(e.id.split("-").pop())).type))&&-1==K&&(K=t)}),Oe(a),x()},deleteAllFiles:function(){y.popups.get("filesManager.insert").find(".fr-insert-checkbox").toArray().forEach(function(e,t,n){e.children.target.checked&&(e=parseInt(e.id.split("-").pop()),v.has(e)&&v["delete"](e),s(e))}),x()},get:lt,getEl:D,insert:Fe,showProgressBar:p,remove:Qe,hideProgressBar:u,applyStyle:function(e,t,n){if(void 0===t&&(t=y.opts.imageStyles),void 0===n&&(n=y.opts.imageMultipleStyles),!m)return!1;var a=D();n||((n=Object.keys(t)).splice(n.indexOf(e),1),a.removeClass(n.join(" "))),"object"==dt(t[e])?(a.removeAttr("style"),a.css(t[e].style)):a.toggleClass(e),O(m)},showAltPopup:Ge,showSizePopup:qe,setAlt:function(e){var t;m&&(t=y.popups.get("image.alt"),m.attr("alt",e||t.find("input").val()||""),t.find("input:focus").blur(),O(m))},setSize:function(e,t){var n,a;m&&(n=y.popups.get("image.size"),e=e||n.find('input[name="width"]').val()||"",t=t||n.find('input[name="height"]').val()||"",a=/^[\d]+((px)|%)*$/g,m.removeAttr("width").removeAttr("height"),e.match(a)?m.css("width",e):m.css("width",""),t.match(a)?m.css("height",t):m.css("height",""),B()&&(m.parents(".fr-img-caption").removeAttr("width").removeAttr("height"),e.match(a)?m.parents(".fr-img-caption").css("width",e):m.parents(".fr-img-caption").css("width",""),t.match(a)?m.parents(".fr-img-caption").css("height",t):m.parents(".fr-img-caption").css("height","")),n&&n.find("input:focus").blur(),O(m))},toggleCaption:function(){var e,t,n,a,r,i;m&&!B()?((e=m).parent().is("a")&&(e=m.parent()),0<(t=m.parents("ul")&&0<m.parents("ul").length?m.parents("ul"):m.parents("ol")&&0<m.parents("ol").length?m.parents("ol"):[]).length&&(a=t.find("li").length,i=m.parents("li"),n=document.createElement("li"),a-1===i.index())&&(t.append(n),n.innerHTML="&nbsp;"),e.attr("style")&&(r=-1<(a=e.attr("style").split(":")).indexOf("width")?a[a.indexOf("width")+1].replace(";",""):""),i=y.opts.imageResizeWithPercent?(-1<r.indexOf("px")?null:r)||"100%":m.width()+"px",e.wrap('<div class="fr-img-space-wrap"><span '+(y.browser.mozilla?"":'contenteditable="false"')+'class="fr-img-caption '+m.attr("class")+'" style="'+(y.opts.useClasses?"":e.attr("style"))+'" draggable="false"></span><p class="fr-img-space-wrap2">&nbsp;</p></div>'),e.wrap('<span class="fr-img-wrap"></span>'),m.after('<span class="fr-inner"'.concat(y.browser.mozilla?"":' contenteditable="true"',">").concat(ct.START_MARKER).concat(y.language.translate("Image Caption")).concat(ct.END_MARKER,"</span>")),m.removeAttr("class").removeAttr("style").removeAttr("width"),m.parents(".fr-img-caption").css("width",i),N(!0),y.selection.restore()):(e=D(),m.insertAfter(e),m.attr("class",e.attr("class").replace("fr-img-caption","")).attr("style",e.attr("style")),e.remove(),O(m))},refreshEmbedButton:function(e){var t=y.popups.get("filesManager.insert");t&&t.find(".fr-files-embed-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)},insertEmbed:function(e){if(0===(e=void 0===e?y.popups.get("filesManager.insert").find(".fr-files-embed-layer textarea").val()||"":e).length||!ct.VIDEO_EMBED_REGEX.test(e)&&!ct.IMAGE_EMBED_REGEX.test(e))ce(y.language.translate("Something went wrong. Please try again.")),ct.VIDEO_EMBED_REGEX.test(e)&&y.events.trigger("video.codeError",[e]);else{ct.VIDEO_EMBED_REGEX.test(e)?(t="video",a=y.opts.videoSplitHTML):ct.IMAGE_EMBED_REGEX.test(e)&&(t="image",a=y.opts.imageSplitHTML),y.events.focus(!0),y.selection.restore();var t,n=!1;if(m&&(Qe(),n=!0),y.html.insert('<span id="fr-inserted-file" contenteditable="true" draggable="true" class="fr-'.concat(t,' fr-jiv fr-deletable">').concat(e,"</span>"),!1,a),y.popups.hide("filesManager.insert"),(e=y.$el.find(".fr-jiv")).removeClass("fr-jiv"),"video"==t){e.toggleClass("fr-rv",y.opts.videoResponsive);{var a=e;var r=y.opts.videoDefaultDisplay;var i=y.opts.videoDefaultAlign;!y.opts.htmlUntouched&&y.opts.useClasses?(a.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"),a.addClass("fr-fv".concat(i[0]," fr-dv").concat(r[0]))):"inline"==r?(a.css({display:"inline-block"}),"center"==i?a.css({"float":"none"}):"left"==i?a.css({"float":"left"}):a.css({"float":"right"})):(a.css({display:"block",clear:"both"}),"left"==i?a.css({textAlign:"left"}):"right"==i?a.css({textAlign:"right"}):a.css({textAlign:"center"}))}e.toggleClass("fr-draggable",y.opts.videoMove),y.events.trigger(n?"video.replaced":"video.inserted",[e])}"image"==t&&(st(e,y.opts.imageDefaultDisplay,y.opts.imageDefaultAlign),e.find("img").removeClass("fr-dii"),e.find("img").addClass("fr-dib"),e.toggleClass("fr-draggable",y.opts.imageMove),y.events.trigger(n?"image.replaced":"image.inserted",[e]))}},hasCaption:B,exitEdit:N,edit:O,cancelFileInsert:function(){this.file_manager_dialog_open=!1,v.forEach(function(e,t){4!=e.readyState&&(e.abort(),s(t))});var e=y.popups.get("filesManager.insert");e.find(".fr-progress-bar").removeClass("fr-display-block").addClass("fr-none"),e.find('.fr-command[data-cmd="filesUpload"]').removeClass("fr-disabled"),e.find('.fr-command[data-cmd="filesByURL"]').removeClass("fr-disabled"),e.find('.fr-command[data-cmd="filesEmbed"]').removeClass("fr-disabled"),$=0,v=new Map,b=new Map,le(),y.popups.hide("filesManager.insert")},minimizePopup:function(e){this.file_manager_dialog_open=!1,y.popups.hide("filesManager.insert"),le()},editImage:Me,saveImage:function(e){var t=A.get(l);t.link=window.URL.createObjectURL(new Blob(e,{type:"image/png"})),A.set(l,t)},_showErrorMessage:ce,_showFileErrorMessage:de,getFileThumbnail:Te,deleteFile:s,checkAutoplay:He,checkInsertAllState:x,_disableInsertCheckbox:se,_getFileType:M,isChildWindowOpen:function(){return U},setChildWindowState:function(e){e!==undefined&&(U=e)},resetAllFilesCheckbox:le}},ct.DefineIcon("insertFiles",{NAME:"image",SVG_KEY:"fileManager"}),ct.RegisterShortcut(ct.KEYCODE.P,"insertFiles",null,"P"),ct.RegisterCommand("insertFiles",{title:"Insert Files",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("filesManager.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("filesManager.insert")):this.filesManager.showInsertPopup()},plugin:"filesManager"}),ct.DefineIcon("cloudIcon",{NAME:"cloudIcon",SVG_KEY:"uploadFiles"}),ct.DefineIcon("filesUpload",{NAME:"uploadFiles",SVG_KEY:"uploadFiles"}),ct.RegisterCommand("filesUpload",{title:"Upload Files",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.showLayer("files-upload")},refresh:function(e){this.filesManager.refreshUploadButton(e)}}),ct.DefineIcon("filesByURL",{NAME:"link",SVG_KEY:"insertLink"}),ct.RegisterCommand("filesByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.showLayer("files-by-url")},refresh:function(e){this.filesManager.refreshByURLButton(e)}}),ct.DefineIcon("filesEmbed",{NAME:"code",SVG_KEY:"codeView"}),ct.RegisterCommand("filesEmbed",{title:"Embedded Code",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.showLayer("files-embed")},refresh:function(e){this.filesManager.refreshEmbedButton(e)}}),ct.DefineIcon("insertAll",{NAME:"insertAll",SVG_KEY:"fileInsert"}),ct.RegisterCommand("insertAll",{title:"Insert",undo:!1,focus:!1,toggle:!0,disabled:!0,callback:function(){this.filesManager.insertAllFiles()}}),ct.DefineIcon("deleteAll",{NAME:"remove",SVG_KEY:"remove"}),ct.RegisterCommand("deleteAll",{title:"Delete",undo:!1,focus:!1,toggle:!0,disabled:!0,callback:function(){this.filesManager.deleteAllFiles()}}),ct.DefineIcon("cancel",{NAME:"cancel",SVG_KEY:"cancel"}),ct.RegisterCommand("cancel",{title:"Cancel",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.cancelFileInsert()},refresh:function(e){}}),ct.DefineIcon("minimize",{NAME:"minimize",SVG_KEY:"minimize"}),ct.RegisterCommand("minimize",{title:"Minimize",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.minimizePopup("image.insert",!0)},refresh:function(e){this.filesManager.refreshEmbedButton(e)}}),ct.RegisterCommand("filesInsertByURL",{title:"Insert Image",undo:!0,refreshAfterCallback:!1,callback:function(){this.filesManager.insertByURL()},refresh:function(e){e.text(this.language.translate("Add"))}}),ct.RegisterCommand("imageInsertByUpload",{title:"Insert",undo:!0,refreshAfterCallback:!1,callback:function(e,t){},refresh:function(e){}}),ct.RegisterCommand("viewImage",{title:"View Image",undo:!0,refreshAfterCallback:!1,callback:function(e,t){},refresh:function(e){}}),ct.RegisterCommand("insertEmbed",{undo:!0,focus:!0,callback:function(){this.filesManager.insertEmbed(),this.popups.get("filesManager.insert").find("textarea")[0].value="",this.popups.get("filesManager.insert").find("textarea").removeClass("fr-not-empty")}}),ct.RegisterCommand("filesDismissError",{title:"OK",undo:!1,callback:function(){this.filesManager.hideProgressBar(!0)}}),ct.PLUGINS.cryptoJSPlugin=function(N){function v(){}for(var D,B,H,d,U,$,e,K,z,W,V,G,Y,j,q,X,Z,Q,J,ee,te,ne,ae,re,t,ie,oe,o,se,le,ce,de,fe,r,pe,n,ue,ge,i,s,l,c,f,p,a=function(c){var e;if(!(e=!(e=!(e="undefined"!=typeof window&&window.crypto?window.crypto:e)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:e)&&"undefined"!=typeof global&&global.crypto?global.crypto:e)&&"function"==typeof require)try{e=require("crypto")}catch(h){}var a=function a(){if(e){if("function"==typeof e.getRandomValues)try{return e.getRandomValues(new Uint32Array(1))[0]}catch(h){}if("function"==typeof e.randomBytes)try{return e.randomBytes(4).readInt32LE()}catch(h){}}throw new Error("Native crypto module could not be used to get secure random number.")},n=Object.create||function(e){return t.prototype=e,e=new t,t.prototype=null,e};function t(){}var r={},i=r.lib={},o=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function n(){var e=this.extend();return e.init.apply(e,arguments),e},init:function v(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},d=i.WordArray=o.extend({init:function v(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,a=this.sigBytes,r=e.sigBytes;if(this.clamp(),a%4)for(var i=0;i<r;i++){var o=n[i>>>2]>>>24-i%4*8&255;t[a+i>>>2]|=o<<24-(a+i)%4*8}else for(i=0;i<r;i+=4)t[a+i>>>2]=n[i>>>2];return this.sigBytes+=r,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=c.ceil(t/4)},clone:function m(){var m=o.clone.call(this);return m.words=this.words.slice(0),m},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(a());return new d.init(t,e)}}),s=r.enc={},l=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,a=[],r=0;r<n;r++){var i=t[r>>>2]>>>24-r%4*8&255;a.push((i>>>4).toString(16)),a.push((15&i).toString(16))}return a.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a+=2)n[a>>>3]|=parseInt(e.substr(a,2),16)<<24-a%8*4;return new d.init(n,t/2)}},f=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,a=[],r=0;r<n;r++){var i=t[r>>>2]>>>24-r%4*8&255;a.push(String.fromCharCode(i))}return a.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a++)n[a>>>2]|=(255&e.charCodeAt(a))<<24-a%4*8;return new d.init(n,t)}},p=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t,n=this._data,a=n.words,r=n.sigBytes,i=this.blockSize,o=r/(4*i),s=(o=e?c.ceil(o):c.max((0|o)-this._minBufferSize,0))*i,e=c.min(4*s,r);if(s){for(var l=0;l<s;l+=i)this._doProcessBlock(a,l);t=a.splice(0,s),n.sigBytes-=e}return new d.init(t,e)},clone:function m(){var m=o.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0}),g=(i.Hasher=u.extend({cfg:o.extend(),init:function v(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new g.HMAC.init(n,t).finalize(e)}}}),r.algo={});return r}(Math),he=(D=(u=a).lib.WordArray,u.enc.Base64={stringify:function(e){for(var t=e.words,n=e.sigBytes,a=this._map,r=(e.clamp(),[]),i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)r.push(a.charAt(o>>>6*(3-s)&63));var l=a.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var t=e.length,n=this._map;if(!(a=this._reverseMap))for(var a=this._reverseMap=[],r=0;r<n.length;r++)a[n.charCodeAt(r)]=r;for(var i,o,s=n.charAt(64),l=(s&&-1!==(s=e.indexOf(s))&&(t=s),e),c=t,d=a,f=[],p=0,u=0;u<c;u++)u%4&&(i=d[l.charCodeAt(u-1)]<<u%4*2,o=d[l.charCodeAt(u)]>>>6-u%4*2,f[p>>>2]|=(i|o)<<24-p%4*8,p++);return D.create(f,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},Math),u=a,me=(g=u.lib).WordArray,ve=g.Hasher,g=u.algo,k=[],be=0;be<64;be++)k[be]=4294967296*he.abs(he.sin(be+1))|0;function S(e,t,n,a,r,i,o){e=e+(t&n|~t&a)+r+o;return(e<<i|e>>>32-i)+t}function R(e,t,n,a,r,i,o){e=e+(t&a|n&~a)+r+o;return(e<<i|e>>>32-i)+t}function x(e,t,n,a,r,i,o){e=e+(t^n^a)+r+o;return(e<<i|e>>>32-i)+t}function L(e,t,n,a,r,i,o){e=e+(n^(t|~a))+r+o;return(e<<i|e>>>32-i)+t}g=g.MD5=ve.extend({_doReset:function(){this._hash=new me.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var a=t+n,r=e[a];e[a]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var i=this._hash.words,o=e[t+0],s=e[t+1],l=e[t+2],c=e[t+3],d=e[t+4],f=e[t+5],p=e[t+6],u=e[t+7],g=e[t+8],h=e[t+9],m=e[t+10],v=e[t+11],b=e[t+12],E=e[t+13],y=e[t+14],w=e[t+15],_=S(i[0],T=i[1],A=i[2],C=i[3],o,7,k[0]),C=S(C,_,T,A,s,12,k[1]),A=S(A,C,_,T,l,17,k[2]),T=S(T,A,C,_,c,22,k[3]);_=S(_,T,A,C,d,7,k[4]),C=S(C,_,T,A,f,12,k[5]),A=S(A,C,_,T,p,17,k[6]),T=S(T,A,C,_,u,22,k[7]),_=S(_,T,A,C,g,7,k[8]),C=S(C,_,T,A,h,12,k[9]),A=S(A,C,_,T,m,17,k[10]),T=S(T,A,C,_,v,22,k[11]),_=S(_,T,A,C,b,7,k[12]),C=S(C,_,T,A,E,12,k[13]),A=S(A,C,_,T,y,17,k[14]),_=R(_,T=S(T,A,C,_,w,22,k[15]),A,C,s,5,k[16]),C=R(C,_,T,A,p,9,k[17]),A=R(A,C,_,T,v,14,k[18]),T=R(T,A,C,_,o,20,k[19]),_=R(_,T,A,C,f,5,k[20]),C=R(C,_,T,A,m,9,k[21]),A=R(A,C,_,T,w,14,k[22]),T=R(T,A,C,_,d,20,k[23]),_=R(_,T,A,C,h,5,k[24]),C=R(C,_,T,A,y,9,k[25]),A=R(A,C,_,T,c,14,k[26]),T=R(T,A,C,_,g,20,k[27]),_=R(_,T,A,C,E,5,k[28]),C=R(C,_,T,A,l,9,k[29]),A=R(A,C,_,T,u,14,k[30]),_=x(_,T=R(T,A,C,_,b,20,k[31]),A,C,f,4,k[32]),C=x(C,_,T,A,g,11,k[33]),A=x(A,C,_,T,v,16,k[34]),T=x(T,A,C,_,y,23,k[35]),_=x(_,T,A,C,s,4,k[36]),C=x(C,_,T,A,d,11,k[37]),A=x(A,C,_,T,u,16,k[38]),T=x(T,A,C,_,m,23,k[39]),_=x(_,T,A,C,E,4,k[40]),C=x(C,_,T,A,o,11,k[41]),A=x(A,C,_,T,c,16,k[42]),T=x(T,A,C,_,p,23,k[43]),_=x(_,T,A,C,h,4,k[44]),C=x(C,_,T,A,b,11,k[45]),A=x(A,C,_,T,w,16,k[46]),_=L(_,T=x(T,A,C,_,l,23,k[47]),A,C,o,6,k[48]),C=L(C,_,T,A,u,10,k[49]),A=L(A,C,_,T,y,15,k[50]),T=L(T,A,C,_,f,21,k[51]),_=L(_,T,A,C,b,6,k[52]),C=L(C,_,T,A,c,10,k[53]),A=L(A,C,_,T,m,15,k[54]),T=L(T,A,C,_,s,21,k[55]),_=L(_,T,A,C,g,6,k[56]),C=L(C,_,T,A,w,10,k[57]),A=L(A,C,_,T,p,15,k[58]),T=L(T,A,C,_,E,21,k[59]),_=L(_,T,A,C,d,6,k[60]),C=L(C,_,T,A,v,10,k[61]),A=L(A,C,_,T,l,15,k[62]),T=L(T,A,C,_,h,21,k[63]),i[0]=i[0]+_|0,i[1]=i[1]+T|0,i[2]=i[2]+A|0,i[3]=i[3]+C|0},_doFinalize:function(){for(var e=this._data,t=e.words,n=8*this._nDataBytes,a=8*e.sigBytes,r=(t[a>>>5]|=128<<24-a%32,he.floor(n/4294967296)),r=(t[15+(64+a>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t[14+(64+a>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),this._hash),i=r.words,o=0;o<4;o++){var s=i[o];i[o]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return r},clone:function Rt(){var Rt=ve.clone.call(this);return Rt._hash=this._hash.clone(),Rt}}),u.MD5=ve._createHelper(g),u.HmacMD5=ve._createHmacHelper(g),g=(u=a).lib,B=g.WordArray,H=g.Hasher,d=[],g=u.algo.SHA1=H.extend({_doReset:function(){this._hash=new B.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,a=n[0],r=n[1],i=n[2],o=n[3],s=n[4],l=0;l<80;l++){d[l]=l<16?0|e[t+l]:(c=d[l-3]^d[l-8]^d[l-14]^d[l-16])<<1|c>>>31;var c=(a<<5|a>>>27)+s+d[l];c+=l<20?1518500249+(r&i|~r&o):l<40?1859775393+(r^i^o):l<60?(r&i|r&o|i&o)-1894007588:(r^i^o)-899497514,s=o,o=i,i=r<<30|r>>>2,r=a,a=c}n[0]=n[0]+a|0,n[1]=n[1]+r|0,n[2]=n[2]+i|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,a=8*e.sigBytes;return t[a>>>5]|=128<<24-a%32,t[14+(64+a>>>9<<4)]=Math.floor(n/4294967296),t[15+(64+a>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function xt(){var xt=H.clone.call(this);return xt._hash=this._hash.clone(),xt}}),u.SHA1=H._createHelper(g),u.HmacSHA1=H._createHmacHelper(g);var Ee=Math,u=a,ye=(g=u.lib).WordArray,we=g.Hasher,g=u.algo,_e=[],Ce=[];function Ae(e){return 4294967296*(e-(0|e))|0}for(var Te=2,ke=0;ke<64;)!function(e){for(var t=Ee.sqrt(e),n=2;n<=t;n++)if(!(e%n))return;return 1}(Te)||(ke<8&&(_e[ke]=Ae(Ee.pow(Te,.5))),Ce[ke]=Ae(Ee.pow(Te,1/3)),ke++),Te++;var h=[],g=g.SHA256=we.extend({_doReset:function(){this._hash=new ye.init(_e.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,a=n[0],r=n[1],i=n[2],o=n[3],s=n[4],l=n[5],c=n[6],d=n[7],f=0;f<64;f++){h[f]=f<16?0|e[t+f]:(((p=h[f-15])<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+h[f-7]+(((p=h[f-2])<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+h[f-16];var p=a&r^a&i^r&i,u=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&c)+Ce[f]+h[f],d=c,c=l,l=s,s=o+u|0,o=i,i=r,r=a,a=u+(((a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22))+p)|0}n[0]=n[0]+a|0,n[1]=n[1]+r|0,n[2]=n[2]+i|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+c|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,a=8*e.sigBytes;return t[a>>>5]|=128<<24-a%32,t[14+(64+a>>>9<<4)]=Ee.floor(n/4294967296),t[15+(64+a>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function Lt(){var Lt=we.clone.call(this);return Lt._hash=this._hash.clone(),Lt}});function Se(e){return e<<8&4278255360|e>>>8&16711935}function Re(e,t,n){return e&t|~e&n}function xe(e,t,n){return e&n|t&~n}function Le(e,t){return e<<t|e>>>32-t}u.SHA256=we._createHelper(g),u.HmacSHA256=we._createHmacHelper(g),U=(u=a).lib.WordArray,(u=u.enc).Utf16=u.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,a=[],r=0;r<n;r+=2){var i=t[r>>>2]>>>16-r%4*8&65535;a.push(String.fromCharCode(i))}return a.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a++)n[a>>>1]|=e.charCodeAt(a)<<16-a%2*16;return U.create(n,2*t)}},u.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,a=[],r=0;r<n;r+=2){var i=Se(t[r>>>2]>>>16-r%4*8&65535);a.push(String.fromCharCode(i))}return a.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a++)n[a>>>1]|=Se(e.charCodeAt(a)<<16-a%2*16);return U.create(n,2*t)}},"function"==typeof ArrayBuffer&&(g=a.lib.WordArray,$=g.init,(g.init=function(e){if((e=(e=e instanceof ArrayBuffer?new Uint8Array(e):e)instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e)instanceof Uint8Array){for(var t=e.byteLength,n=[],a=0;a<t;a++)n[a>>>2]|=e[a]<<24-a%4*8;$.call(this,n,t)}else $.apply(this,arguments)}).prototype=g),g=(u=a).lib,e=g.WordArray,K=g.Hasher,g=u.algo,z=e.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),W=e.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),V=e.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),G=e.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Y=e.create([0,1518500249,1859775393,2400959708,2840853838]),j=e.create([1352829926,1548603684,1836072691,2053994217,0]),g=g.RIPEMD160=K.extend({_doReset:function(){this._hash=e.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var a=t+n,r=e[a];e[a]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}for(var i,o,s,l,c,d,f=this._hash.words,p=Y.words,u=j.words,g=z.words,h=W.words,m=V.words,v=G.words,b=i=f[0],E=o=f[1],y=s=f[2],w=l=f[3],_=c=f[4],n=0;n<80;n+=1)d=(d=Le(d=(d=i+e[t+g[n]]|0)+(n<16?(o^s^l)+p[0]:n<32?Re(o,s,l)+p[1]:n<48?((o|~s)^l)+p[2]:n<64?xe(o,s,l)+p[3]:(o^(s|~l))+p[4])|0,m[n]))+c|0,i=c,c=l,l=Le(s,10),s=o,o=d,d=(d=Le(d=(d=b+e[t+h[n]]|0)+(n<16?(E^(y|~w))+u[0]:n<32?xe(E,y,w)+u[1]:n<48?((E|~y)^w)+u[2]:n<64?Re(E,y,w)+u[3]:(E^y^w)+u[4])|0,v[n]))+_|0,b=_,_=w,w=Le(y,10),y=E,E=d;d=f[1]+s+w|0,f[1]=f[2]+l+_|0,f[2]=f[3]+c+b|0,f[3]=f[4]+i+E|0,f[4]=f[0]+o+y|0,f[0]=d},_doFinalize:function(){for(var e=this._data,t=e.words,n=8*this._nDataBytes,a=8*e.sigBytes,a=(t[a>>>5]|=128<<24-a%32,t[14+(64+a>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),this._hash),r=a.words,i=0;i<5;i++){var o=r[i];r[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return a},clone:function It(){var It=K.clone.call(this);return It._hash=this._hash.clone(),It}}),u.RIPEMD160=K._createHelper(g),u.HmacRIPEMD160=K._createHmacHelper(g),g=(u=a).lib.Base,q=u.enc.Utf8,u.algo.HMAC=g.extend({init:function v(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=q.parse(t));for(var n=e.blockSize,a=4*n,e=((t=t.sigBytes>a?e.finalize(t):t).clamp(),this._oKey=t.clone()),t=this._iKey=t.clone(),r=e.words,i=t.words,o=0;o<n;o++)r[o]^=1549556828,i[o]^=909522486;e.sigBytes=t.sigBytes=a,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}}),g=(u=a).lib,y=g.Base,X=g.WordArray,m=(g=u.algo).SHA1,Z=g.HMAC,Q=g.PBKDF2=y.extend({cfg:y.extend({keySize:4,hasher:m,iterations:1}),init:function v(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,a=Z.create(n.hasher,e),r=X.create(),i=X.create([1]),o=r.words,s=i.words,l=n.keySize,c=n.iterations;o.length<l;){for(var d=a.update(t).finalize(i),f=(a.reset(),d.words),p=f.length,u=d,g=1;g<c;g++){u=a.finalize(u),a.reset();for(var h=u.words,m=0;m<p;m++)f[m]^=h[m]}r.concat(d),s[0]++}return r.sigBytes=4*l,r}}),u.PBKDF2=function(e,t,n){return Q.create(n).compute(e,t)},m=(g=a).lib,y=m.Base,J=m.WordArray,u=(m=g.algo).MD5,ee=m.EvpKDF=y.extend({cfg:y.extend({keySize:4,hasher:u,iterations:1}),init:function v(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,a=this.cfg,r=a.hasher.create(),i=J.create(),o=i.words,s=a.keySize,l=a.iterations;o.length<s;){n&&r.update(n),n=r.update(e).finalize(t),r.reset();for(var c=1;c<l;c++)n=r.finalize(n),r.reset();i.concat(n)}return i.sigBytes=4*s,i}}),g.EvpKDF=function(e,t,n){return ee.create(n).compute(e,t)},te=(m=a).lib.WordArray,ne=(u=m.algo).SHA256,u=u.SHA224=ne.extend({_doReset:function(){this._hash=new te.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=ne._doFinalize.call(this);return e.sigBytes-=4,e}}),m.SHA224=ne._createHelper(u),m.HmacSHA224=ne._createHmacHelper(u),g=(y=a).lib,ae=g.Base,re=g.WordArray,(g=y.x64={}).Word=ae.extend({init:function v(e,t){this.high=e,this.low=t}}),g.WordArray=ae.extend({init:function v(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],a=0;a<t;a++){var r=e[a];n.push(r.high),n.push(r.low)}return re.create(n,this.sigBytes)},clone:function Ot(){for(var Ot=ae.clone.call(this),e=Ot.words=this.words.slice(0),t=e.length,n=0;n<t;n++)e[n]=e[n].clone();return Ot}});for(var Ie=Math,m=a,Oe=(u=m.lib).WordArray,Me=u.Hasher,Fe=m.x64.Word,u=m.algo,Pe=[],Ne=[],De=[],b=1,E=0,Be=0;Be<24;Be++){Pe[b+5*E]=(Be+1)*(Be+2)/2%64;var He=(2*b+3*E)%5;b=E%5,E=He}for(b=0;b<5;b++)for(E=0;E<5;E++)Ne[b+5*E]=E+(2*b+3*E)%5*5;for(var Ue=1,$e=0;$e<24;$e++){for(var Ke,ze=0,We=0,Ve=0;Ve<7;Ve++)1&Ue&&((Ke=(1<<Ve)-1)<32?We^=1<<Ke:ze^=1<<Ke-32),128&Ue?Ue=Ue<<1^113:Ue<<=1;De[$e]=Fe.create(ze,We)}for(var I=[],Ge=0;Ge<25;Ge++)I[Ge]=Fe.create();u=u.SHA3=Me.extend({cfg:Me.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new Fe.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,a=this.blockSize/2,r=0;r<a;r++){var i=e[t+2*r],o=e[t+2*r+1],i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);(_=n[r]).high^=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),_.low^=i}for(var s=0;s<24;s++){for(var l=0;l<5;l++){for(var c=0,d=0,f=0;f<5;f++)c^=(_=n[l+5*f]).high,d^=_.low;var p=I[l];p.high=c,p.low=d}for(l=0;l<5;l++)for(var u=I[(l+4)%5],g=I[(l+1)%5],h=g.high,g=g.low,c=u.high^(h<<1|g>>>31),d=u.low^(g<<1|h>>>31),f=0;f<5;f++)(_=n[l+5*f]).high^=c,_.low^=d;for(var m=1;m<25;m++){var v=(_=n[m]).high,b=_.low,E=Pe[m],v=(d=E<32?(c=v<<E|b>>>32-E,b<<E|v>>>32-E):(c=b<<E-32|v>>>64-E,v<<E-32|b>>>64-E),I[Ne[m]]);v.high=c,v.low=d}var y=I[0],w=n[0];y.high=w.high,y.low=w.low;for(l=0;l<5;l++)for(f=0;f<5;f++){var _=n[m=l+5*f],C=I[m],A=I[(l+1)%5+5*f],T=I[(l+2)%5+5*f];_.high=C.high^~A.high&T.high,_.low=C.low^~A.low&T.low}_=n[0],y=De[s];_.high^=y.high,_.low^=y.low}},_doFinalize:function(){for(var e=this._data,t=e.words,n=(this._nDataBytes,8*e.sigBytes),a=32*this.blockSize,r=(t[n>>>5]|=1<<24-n%32,t[(Ie.ceil((1+n)/a)*a>>>5)-1]|=128,e.sigBytes=4*t.length,this._process(),this._state),n=this.cfg.outputLength/8,i=n/8,o=[],s=0;s<i;s++){var l=r[s],c=l.high,l=l.low,c=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8);o.push(16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)),o.push(c)}return new Oe.init(o,n)},clone:function Mt(){for(var Mt=Me.clone.call(this),e=Mt._state=this._state.slice(0),t=0;t<25;t++)e[t]=e[t].clone();return Mt}}),m.SHA3=Me._createHelper(u),m.HmacSHA3=Me._createHmacHelper(u);var y=a,Ye=y.lib.Hasher,w=(g=y.x64).Word,je=g.WordArray,g=y.algo;function _(){return w.create.apply(w,arguments)}for(var qe=[_(1116352408,3609767458),_(1899447441,602891725),_(3049323471,3964484399),_(3921009573,2173295548),_(961987163,4081628472),_(1508970993,3053834265),_(2453635748,2937671579),_(2870763221,3664609560),_(3624381080,2734883394),_(310598401,1164996542),_(607225278,1323610764),_(1426881987,3590304994),_(1925078388,4068182383),_(2162078206,991336113),_(2614888103,633803317),_(3248222580,3479774868),_(3835390401,2666613458),_(4022224774,944711139),_(264347078,2341262773),_(604807628,2007800933),_(770255983,1495990901),_(1249150122,1856431235),_(1555081692,3175218132),_(1996064986,2198950837),_(2554220882,3999719339),_(2821834349,766784016),_(2952996808,2566594879),_(3210313671,3203337956),_(3336571891,1034457026),_(3584528711,2466948901),_(113926993,3758326383),_(338241895,168717936),_(666307205,1188179964),_(773529912,1546045734),_(1294757372,1522805485),_(1396182291,2643833823),_(1695183700,2343527390),_(1986661051,1014477480),_(2177026350,1206759142),_(2456956037,344077627),_(2730485921,1290863460),_(2820302411,3158454273),_(3259730800,3505952657),_(3345764771,106217008),_(3516065817,3606008344),_(3600352804,1432725776),_(4094571909,1467031594),_(275423344,851169720),_(430227734,3100823752),_(506948616,1363258195),_(659060556,3750685593),_(883997877,3785050280),_(958139571,3318307427),_(1322822218,3812723403),_(1537002063,2003034995),_(1747873779,3602036899),_(1955562222,1575990012),_(2024104815,1125592928),_(2227730452,2716904306),_(2361852424,442776044),_(2428436474,593698344),_(2756734187,3733110249),_(3204031479,2999351573),_(3329325298,3815920427),_(3391569614,3928383900),_(3515267271,566280711),_(3940187606,3454069534),_(4118630271,4000239992),_(116418474,1914138554),_(174292421,2731055270),_(289380356,3203993006),_(460393269,320620315),_(685471733,587496836),_(852142971,1086792851),_(1017036298,365543100),_(1126000580,2618297676),_(1288033470,3409855158),_(1501505948,4234509866),_(1607167915,987167468),_(1816402316,1246189591)],Xe=[],Ze=0;Ze<80;Ze++)Xe[Ze]=_();function Qe(e){return"string"==typeof e?pe:r}function Je(e,t,n){var a,r=this._iv;r?(a=r,this._iv=void 0):a=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=a[i]}function et(e,t,n,a){var r,i=this._iv;i?(r=i.slice(0),this._iv=undefined):r=this._prevBlock,a.encryptBlock(r,0);for(var o=0;o<n;o++)e[t+o]^=r[o]}g=g.SHA512=Ye.extend({_doReset:function(){this._hash=new je.init([new w.init(1779033703,4089235720),new w.init(3144134277,2227873595),new w.init(1013904242,4271175723),new w.init(2773480762,1595750129),new w.init(1359893119,2917565137),new w.init(2600822924,725511199),new w.init(528734635,4215389547),new w.init(1541459225,327033209)])},_doProcessBlock:function(N,D){for(var e=this._hash.words,t=e[0],n=e[1],a=e[2],r=e[3],i=e[4],o=e[5],s=e[6],e=e[7],B=t.high,l=t.low,H=n.high,c=n.low,U=a.high,d=a.low,$=r.high,f=r.low,K=i.high,p=i.low,z=o.high,u=o.low,W=s.high,g=s.low,V=e.high,h=e.low,m=B,v=l,b=H,E=c,y=U,w=d,G=$,_=f,C=K,A=p,Y=z,T=u,j=W,k=g,q=V,X=h,S=0;S<80;S++)var R,x,L=Xe[S],I=(S<16?(x=L.high=0|N[D+2*S],R=L.low=0|N[D+2*S+1]):(F=(O=Xe[S-15]).high,M=(Z=Xe[S-2]).high,I=(P=Xe[S-7]).high,J=(Q=Xe[S-16]).high,x=(x=((F>>>1|(O=O.low)<<31)^(F>>>8|O<<24)^F>>>7)+I+((R=(I=(O>>>1|F<<31)^(O>>>8|F<<24)^(O>>>7|F<<25))+P.low)>>>0<I>>>0?1:0))+((M>>>19|(O=Z.low)<<13)^(M<<3|O>>>29)^M>>>6)+((R+=F=(O>>>19|M<<13)^(O<<3|M>>>29)^(O>>>6|M<<26))>>>0<F>>>0?1:0),R+=P=Q.low,L.high=x=x+J+(R>>>0<P>>>0?1:0),L.low=R),C&Y^~C&j),Z=A&T^~A&k,O=m&b^m&y^b&y,M=(v>>>28|m<<4)^(v<<30|m>>>2)^(v<<25|m>>>7),F=qe[S],Q=F.high,J=F.low,P=X+((A>>>14|C<<18)^(A>>>18|C<<14)^(A<<23|C>>>9)),L=q+((C>>>14|A<<18)^(C>>>18|A<<14)^(C<<23|A>>>9))+(P>>>0<X>>>0?1:0),ee=M+(v&E^v&w^E&w),q=j,X=k,j=Y,k=T,Y=C,T=A,C=G+(L=L+I+((P=P+Z)>>>0<Z>>>0?1:0)+Q+((P=P+J)>>>0<J>>>0?1:0)+x+((P=P+R)>>>0<R>>>0?1:0))+((A=_+P|0)>>>0<_>>>0?1:0)|0,G=y,_=w,y=b,w=E,b=m,E=v,m=L+(((m>>>28|v<<4)^(m<<30|v>>>2)^(m<<25|v>>>7))+O+(ee>>>0<M>>>0?1:0))+((v=P+ee|0)>>>0<P>>>0?1:0)|0;l=t.low=l+v,t.high=B+m+(l>>>0<v>>>0?1:0),c=n.low=c+E,n.high=H+b+(c>>>0<E>>>0?1:0),d=a.low=d+w,a.high=U+y+(d>>>0<w>>>0?1:0),f=r.low=f+_,r.high=$+G+(f>>>0<_>>>0?1:0),p=i.low=p+A,i.high=K+C+(p>>>0<A>>>0?1:0),u=o.low=u+T,o.high=z+Y+(u>>>0<T>>>0?1:0),g=s.low=g+k,s.high=W+j+(g>>>0<k>>>0?1:0),h=e.low=h+X,e.high=V+q+(h>>>0<X>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,a=8*e.sigBytes;return t[a>>>5]|=128<<24-a%32,t[30+(128+a>>>10<<5)]=Math.floor(n/4294967296),t[31+(128+a>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function Ft(){var Ft=Ye.clone.call(this);return Ft._hash=this._hash.clone(),Ft},blockSize:32}),y.SHA512=Ye._createHelper(g),y.HmacSHA512=Ye._createHmacHelper(g),u=(m=a).x64,t=u.Word,ie=u.WordArray,oe=(u=m.algo).SHA512,u=u.SHA384=oe.extend({_doReset:function(){this._hash=new ie.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=oe._doFinalize.call(this);return e.sigBytes-=16,e}}),m.SHA384=oe._createHelper(u),m.HmacSHA384=oe._createHmacHelper(u),a.lib.Cipher||(g=(y=a).lib,m=g.Base,o=g.WordArray,se=g.BufferedBlockAlgorithm,(u=y.enc).Utf8,le=u.Base64,ce=y.algo.EvpKDF,de=g.Cipher=se.extend({cfg:m.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function v(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){se.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(a){return{encrypt:function(e,t,n){return Qe(t).encrypt(a,e,t,n)},decrypt:function(e,t,n){return Qe(t).decrypt(a,e,t,n)}}}}),g.StreamCipher=de.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),u=y.mode={},n=g.BlockCipherMode=m.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function v(e,t){this._cipher=e,this._iv=t}}),n=u.CBC=((u=n.extend()).Encryptor=u.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize;Je.call(this,e,t,a),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+a)}}),u.Decryptor=u.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize,r=e.slice(t,t+a);n.decryptBlock(e,t),Je.call(this,e,t,a),this._prevBlock=r}}),u),u=(y.pad={}).Pkcs7={pad:function(e,t){for(var t=4*t,n=t-e.sigBytes%t,a=n<<24|n<<16|n<<8|n,r=[],i=0;i<n;i+=4)r.push(a);t=o.create(r,n);e.concat(t)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},g.BlockCipher=de.extend({cfg:de.cfg.extend({mode:n,padding:u}),reset:function(){de.reset.call(this);var e,t=this.cfg,n=t.iv,t=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=t.createEncryptor:(e=t.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(t,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),fe=g.CipherParams=m.extend({init:function v(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),n=(y.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,e=e.salt,e=e?o.create([1398893684,1701076831]).concat(e).concat(t):t;return e.toString(le)},parse:function(e){var t,e=le.parse(e),n=e.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=o.create(n.slice(2,4)),n.splice(0,4),e.sigBytes-=16),fe.create({ciphertext:e,salt:t})}},r=g.SerializableCipher=m.extend({cfg:m.extend({format:n}),encrypt:function(e,t,n,a){a=this.cfg.extend(a);var r=e.createEncryptor(n,a),t=r.finalize(t),r=r.cfg;return fe.create({ciphertext:t,key:n,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:a.format})},decrypt:function(e,t,n,a){return a=this.cfg.extend(a),t=this._parse(t,a.format),e.createDecryptor(n,a).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),u=(y.kdf={}).OpenSSL={execute:function(e,t,n,a){a=a||o.random(8);e=ce.create({keySize:t+n}).compute(e,a),n=o.create(e.words.slice(t),4*n);return e.sigBytes=4*t,fe.create({key:e,iv:n,salt:a})}},pe=g.PasswordBasedCipher=r.extend({cfg:r.cfg.extend({kdf:u}),encrypt:function(e,t,n,a){n=(a=this.cfg.extend(a)).kdf.execute(n,e.keySize,e.ivSize),a.iv=n.iv,e=r.encrypt.call(this,e,t,n.key,a);return e.mixIn(n),e},decrypt:function(e,t,n,a){a=this.cfg.extend(a),t=this._parse(t,a.format);n=a.kdf.execute(n,e.keySize,e.ivSize,t.salt);return a.iv=n.iv,r.decrypt.call(this,e,t,n.key,a)}})),a.mode.CFB=((n=a.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize;et.call(this,e,t,a,n),this._prevBlock=e.slice(t,t+a)}}),n.Decryptor=n.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize,r=e.slice(t,t+a);et.call(this,e,t,a,n),this._prevBlock=r}}),n),a.mode.ECB=((m=a.lib.BlockCipherMode.extend()).Encryptor=m.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),m.Decryptor=m.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),m),a.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,t=4*t,t=t-n%t,n=n+t-1;e.clamp(),e.words[n>>>2]|=t<<24-n%4*8,e.sigBytes+=t},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},a.pad.Iso10126={pad:function(e,t){t*=4,t-=e.sigBytes%t;e.concat(a.lib.WordArray.random(t-1)).concat(a.lib.WordArray.create([t<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},a.pad.Iso97971={pad:function(e,t){e.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(e,t)},unpad:function(e){a.pad.ZeroPadding.unpad(e),e.sigBytes--}},a.mode.OFB=(y=a.lib.BlockCipherMode.extend(),g=y.Encryptor=y.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize,r=this._iv,i=this._keystream;r&&(i=this._keystream=r.slice(0),this._iv=undefined),n.encryptBlock(i,0);for(var o=0;o<a;o++)e[t+o]^=i[o]}}),y.Decryptor=g,y),a.pad.NoPadding={pad:function(){},unpad:function(){}},ue=(u=a).lib.CipherParams,ge=u.enc.Hex,u.format.Hex={stringify:function(e){return e.ciphertext.toString(ge)},parse:function(e){e=ge.parse(e);return ue.create({ciphertext:e})}};for(var m=a,g=m.lib.BlockCipher,y=m.algo,C=[],tt=[],nt=[],at=[],rt=[],it=[],ot=[],st=[],lt=[],ct=[],A=[],T=0;T<256;T++)A[T]=T<128?T<<1:T<<1^283;for(var O=0,M=0,T=0;T<256;T++){var F=M^M<<1^M<<2^M<<3^M<<4,dt=A[tt[C[O]=F=F>>>8^255&F^99]=O],ft=A[dt],pt=A[ft],P=257*A[F]^16843008*F;nt[O]=P<<24|P>>>8,at[O]=P<<16|P>>>16,rt[O]=P<<8|P>>>24,it[O]=P,ot[F]=(P=16843009*pt^65537*ft^257*dt^16843008*O)<<24|P>>>8,st[F]=P<<16|P>>>16,lt[F]=P<<8|P>>>24,ct[F]=P,O?(O=dt^A[A[A[pt^dt]]],M^=A[A[M]]):O=M=1}var ut=[0,1,2,4,8,16,32,64,128,27,54],y=y.AES=g.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,a=4*(1+(this._nRounds=6+n)),r=this._keySchedule=[],i=0;i<a;i++)i<n?r[i]=t[i]:(l=r[i-1],i%n?6<n&&i%n==4&&(l=C[l>>>24]<<24|C[l>>>16&255]<<16|C[l>>>8&255]<<8|C[255&l]):(l=C[(l=l<<8|l>>>24)>>>24]<<24|C[l>>>16&255]<<16|C[l>>>8&255]<<8|C[255&l],l^=ut[i/n|0]<<24),r[i]=r[i-n]^l);for(var o=this._invKeySchedule=[],s=0;s<a;s++){var l,i=a-s;l=s%4?r[i]:r[i-4],o[s]=s<4||i<=4?l:ot[C[l>>>24]]^st[C[l>>>16&255]]^lt[C[l>>>8&255]]^ct[C[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,nt,at,rt,it,C)},decryptBlock:function(e,t){var n=e[t+1],n=(e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,ot,st,lt,ct,tt),e[t+1]);e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,a,r,i,o,s){for(var l=this._nRounds,c=e[t]^n[0],d=e[t+1]^n[1],f=e[t+2]^n[2],p=e[t+3]^n[3],u=4,g=1;g<l;g++)var h=a[c>>>24]^r[d>>>16&255]^i[f>>>8&255]^o[255&p]^n[u++],m=a[d>>>24]^r[f>>>16&255]^i[p>>>8&255]^o[255&c]^n[u++],v=a[f>>>24]^r[p>>>16&255]^i[c>>>8&255]^o[255&d]^n[u++],b=a[p>>>24]^r[c>>>16&255]^i[d>>>8&255]^o[255&f]^n[u++],c=h,d=m,f=v,p=b;h=(s[c>>>24]<<24|s[d>>>16&255]<<16|s[f>>>8&255]<<8|s[255&p])^n[u++],m=(s[d>>>24]<<24|s[f>>>16&255]<<16|s[p>>>8&255]<<8|s[255&c])^n[u++],v=(s[f>>>24]<<24|s[p>>>16&255]<<16|s[c>>>8&255]<<8|s[255&d])^n[u++],b=(s[p>>>24]<<24|s[c>>>16&255]<<16|s[d>>>8&255]<<8|s[255&f])^n[u++];e[t]=h,e[t+1]=m,e[t+2]=v,e[t+3]=b},keySize:8}),u=(m.AES=g._createHelper(y),a),gt=(m=u.lib).WordArray,m=m.BlockCipher,y=u.algo,ht=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],mt=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],vt=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],bt=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],Et=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],yt=y.DES=m.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var a=ht[n]-1;t[n]=e[a>>>5]>>>31-a%32&1}for(var r=this._subKeys=[],i=0;i<16;i++){for(var o=r[i]=[],s=vt[i],n=0;n<24;n++)o[n/6|0]|=t[(mt[n]-1+s)%28]<<31-n%6,o[4+(n/6|0)]|=t[28+(mt[n+24]-1+s)%28]<<31-n%6;o[0]=o[0]<<1|o[0]>>>31;for(n=1;n<7;n++)o[n]=o[n]>>>4*(n-1)+3;o[7]=o[7]<<5|o[7]>>>27}for(var l=this._invSubKeys=[],n=0;n<16;n++)l[n]=r[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],wt.call(this,4,252645135),wt.call(this,16,65535),_t.call(this,2,858993459),_t.call(this,8,16711935),wt.call(this,1,1431655765);for(var a=0;a<16;a++){for(var r=n[a],i=this._lBlock,o=this._rBlock,s=0,l=0;l<8;l++)s|=bt[l][((o^r[l])&Et[l])>>>0];this._lBlock=o,this._rBlock=i^s}var c=this._lBlock;this._lBlock=this._rBlock,this._rBlock=c,wt.call(this,1,1431655765),_t.call(this,8,16711935),_t.call(this,2,858993459),wt.call(this,16,65535),wt.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function wt(e,t){t=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=t,this._lBlock^=t<<e}function _t(e,t){t=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=t,this._rBlock^=t<<e}u.DES=m._createHelper(yt),y=y.TripleDES=m.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),e=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=yt.createEncryptor(gt.create(t)),this._des2=yt.createEncryptor(gt.create(n)),this._des3=yt.createEncryptor(gt.create(e))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),u.TripleDES=m._createHelper(y);var g=a,u=g.lib.StreamCipher,y=g.algo,Ct=y.RC4=u.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,a=this._S=[],r=0;r<256;r++)a[r]=r;for(var r=0,i=0;r<256;r++){var o=r%n,o=t[o>>>2]>>>24-o%4*8&255,i=(i+a[r]+o)%256,o=a[r];a[r]=a[i],a[i]=o}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=At.call(this)},keySize:8,ivSize:0});function At(){for(var e=this._S,t=this._i,n=this._j,a=0,r=0;r<4;r++){var n=(n+e[t=(t+1)%256])%256,i=e[t];e[t]=e[n],e[n]=i,a|=e[(e[t]+e[n])%256]<<24-8*r}return this._i=t,this._j=n,a}function Tt(e){var t,n,a;return 255==(e>>24&255)?(n=e>>8&255,a=255&e,255===(t=e>>16&255)?(t=0,255===n?(n=0,255===a?a=0:++a):++n):++t,e=0,e=(e+=t<<16)+(n<<8)+a):e+=1<<24,e}function kt(){for(var e=this._X,t=this._C,n=0;n<8;n++)s[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0;for(n=0;n<8;n++){var a=e[n]+t[n],r=65535&a,i=a>>>16;l[n]=((r*r>>>17)+r*i>>>15)+i*i^((4294901760&a)*a|0)+((65535&a)*a|0)}e[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,e[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,e[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,e[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,e[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,e[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,e[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,e[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}function St(){for(var e=this._X,t=this._C,n=0;n<8;n++)f[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<f[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<f[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<f[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<f[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<f[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<f[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<f[6]>>>0?1:0)|0,this._b=t[7]>>>0<f[7]>>>0?1:0;for(n=0;n<8;n++){var a=e[n]+t[n],r=65535&a,i=a>>>16;p[n]=((r*r>>>17)+r*i>>>15)+i*i^((4294901760&a)*a|0)+((65535&a)*a|0)}e[0]=p[0]+(p[7]<<16|p[7]>>>16)+(p[6]<<16|p[6]>>>16)|0,e[1]=p[1]+(p[0]<<8|p[0]>>>24)+p[7]|0,e[2]=p[2]+(p[1]<<16|p[1]>>>16)+(p[0]<<16|p[0]>>>16)|0,e[3]=p[3]+(p[2]<<8|p[2]>>>24)+p[1]|0,e[4]=p[4]+(p[3]<<16|p[3]>>>16)+(p[2]<<16|p[2]>>>16)|0,e[5]=p[5]+(p[4]<<8|p[4]>>>24)+p[3]|0,e[6]=p[6]+(p[5]<<16|p[5]>>>16)+(p[4]<<16|p[4]>>>16)|0,e[7]=p[7]+(p[6]<<8|p[6]>>>24)+p[5]|0}return g.RC4=u._createHelper(Ct),y=y.RC4Drop=Ct.extend({cfg:Ct.cfg.extend({drop:192}),_doReset:function(){Ct._doReset.call(this);for(var e=this.cfg.drop;0<e;e--)At.call(this)}}),g.RC4Drop=u._createHelper(y),a.mode.CTRGladman=(m=a.lib.BlockCipherMode.extend(),g=m.Encryptor=m.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize,r=this._iv,i=this._counter,o=(r&&(i=this._counter=r.slice(0),this._iv=undefined),0===((r=i)[0]=Tt(r[0]))&&(r[1]=Tt(r[1])),i.slice(0));n.encryptBlock(o,0);for(var s=0;s<a;s++)e[t+s]^=o[s]}}),m.Decryptor=g,m),u=(y=a).lib.StreamCipher,i=[],s=[],l=[],g=y.algo.Rabbit=u.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);for(var a=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]],n=this._b=0;n<4;n++)kt.call(this);for(n=0;n<8;n++)r[n]^=a[n+4&7];if(t){var t=t.words,i=t[0],t=t[1],i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t=16711935&(t<<8|t>>>24)|4278255360&(t<<24|t>>>8),o=i>>>16|4294901760&t,s=t<<16|65535&i;r[0]^=i,r[1]^=o,r[2]^=t,r[3]^=s,r[4]^=i,r[5]^=o,r[6]^=t,r[7]^=s;for(n=0;n<4;n++)kt.call(this)}},_doProcessBlock:function(e,t){var n=this._X;kt.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var a=0;a<4;a++)i[a]=16711935&(i[a]<<8|i[a]>>>24)|4278255360&(i[a]<<24|i[a]>>>8),e[t+a]^=i[a]},blockSize:4,ivSize:2}),y.Rabbit=u._createHelper(g),a.mode.CTR=(m=a.lib.BlockCipherMode.extend(),y=m.Encryptor=m.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize,r=this._iv,i=this._counter,o=(r&&(i=this._counter=r.slice(0),this._iv=undefined),i.slice(0));n.encryptBlock(o,0),i[a-1]=i[a-1]+1|0;for(var s=0;s<a;s++)e[t+s]^=o[s]}}),m.Decryptor=y,m),u=(g=a).lib.StreamCipher,c=[],f=[],p=[],y=g.algo.RabbitLegacy=u.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],a=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]],r=this._b=0;r<4;r++)St.call(this);for(r=0;r<8;r++)a[r]^=n[r+4&7];if(t){var e=t.words,t=e[0],e=e[1],t=16711935&(t<<8|t>>>24)|4278255360&(t<<24|t>>>8),e=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8),i=t>>>16|4294901760&e,o=e<<16|65535&t;a[0]^=t,a[1]^=i,a[2]^=e,a[3]^=o,a[4]^=t,a[5]^=i,a[6]^=e,a[7]^=o;for(r=0;r<4;r++)St.call(this)}},_doProcessBlock:function(e,t){var n=this._X;St.call(this),c[0]=n[0]^n[5]>>>16^n[3]<<16,c[1]=n[2]^n[7]>>>16^n[5]<<16,c[2]=n[4]^n[1]>>>16^n[7]<<16,c[3]=n[6]^n[3]>>>16^n[1]<<16;for(var a=0;a<4;a++)c[a]=16711935&(c[a]<<8|c[a]>>>24)|4278255360&(c[a]<<24|c[a]>>>8),e[t+a]^=c[a]},blockSize:4,ivSize:2}),g.RabbitLegacy=u._createHelper(y),a.pad.ZeroPadding={pad:function(e,t){t*=4;e.clamp(),e.sigBytes+=t-(e.sigBytes%t||t)},unpad:function(e){for(var t=e.words,n=e.sigBytes-1,n=e.sigBytes-1;0<=n;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},{init:v,cryptoJS:a}},Object.assign(ct.DEFAULTS,{fontFamily:{"Arial,Helvetica,sans-serif":"Arial","Georgia,serif":"Georgia","Impact,Charcoal,sans-serif":"Impact","Tahoma,Geneva,sans-serif":"Tahoma","Times New Roman,Times,serif,-webkit-standard":"Times New Roman","Verdana,Geneva,sans-serif":"Verdana"},fontFamilySelection:!1,fontFamilyDefaultSelection:"Font Family"}),ct.PLUGINS.fontFamily=function(r){var i=r.$;function o(e){e=e.replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'| /g,"").split(",");return i(this).grep(e,function(e){return 0<e.length})}function n(){var e,t,n=o(i(r.selection.element()).css("font-family")),a=[];for(e in r.opts.fontFamily)r.opts.fontFamily.hasOwnProperty(e)&&(t=function(e,t){for(var n=0;n<e.length;n++)for(var a=0;a<t.length;a++)if(e[n].toLowerCase()===t[a].toLowerCase())return[n,a];return null}(n,o(e)))&&a.push([e,t]);return 0===a.length?null:(a.sort(function(e,t){var n=e[1][0]-t[1][0];return 0==n?e[1][1]-t[1][1]:n}),a[0][0])}return{apply:function(e){r.format.applyStyle("font-family",e)},refreshOnShow:function(e,t){t.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),t.find('.fr-command[data-param1="'.concat(n(),'"]')).addClass("fr-active").attr("aria-selected",!0)},refresh:function(e){var t;r.opts.fontFamilySelection&&(t=i(r.selection.element()).css("font-family").replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'|/g,"").split(","),e.find("> span").text(r.opts.fontFamily[n()]||t[0]||r.language.translate(r.opts.fontFamilyDefaultSelection)))}}},ct.RegisterCommand("fontFamily",{type:"dropdown",displaySelection:function(e){return e.opts.fontFamilySelection},defaultSelection:function(e){return e.opts.fontFamilyDefaultSelection},displaySelectionWidth:120,html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=this.opts.fontFamily;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontFamily" data-param1="'.concat(e,'" \n        style="font-family: ').concat(e,'" title="').concat(n[e],'">').concat(n[e],"</a></li>"));return t+="</ul>"},title:"Font Family",callback:function(e,t){this.fontFamily.apply(t)},refresh:function(e){this.fontFamily.refresh(e)},refreshOnShow:function(e,t){this.fontFamily.refreshOnShow(e,t)},plugin:"fontFamily"}),ct.DefineIcon("fontFamily",{NAME:"font",SVG_KEY:"fontFamily"}),Object.assign(ct.DEFAULTS,{fontSize:["8","9","10","11","12","14","18","24","30","36","48","60","72","96"],fontSizeSelection:!1,fontSizeDefaultSelection:"Font Size",fontSizeUnit:"px"}),ct.PLUGINS.fontSize=function(a){var r=a.$;return{apply:function(e){a.format.applyStyle("font-size",e)},refreshOnShow:function(e,t){var n=r(a.selection.element()).css("font-size");"pt"===a.opts.fontSizeUnit&&(n="".concat(Math.round(72*parseFloat(n,10)/96),"pt")),t.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),t.find('.fr-command[data-param1="'.concat(n,'"]')).addClass("fr-active").attr("aria-selected",!0)},refresh:function(e){var t;a.opts.fontSizeSelection&&(t=a.helpers.getPX(r(a.selection.element()).css("font-size")),"pt"===a.opts.fontSizeUnit&&(t="".concat(Math.round(72*parseFloat(t,10)/96),"pt")),e.find("> span").text(t))}}},ct.RegisterCommand("fontSize",{type:"dropdown",title:"Font Size",displaySelection:function(e){return e.opts.fontSizeSelection},displaySelectionWidth:30,defaultSelection:function(e){return e.opts.fontSizeDefaultSelection},html:function(){for(var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.fontSize,n=0;n<t.length;n++){var a=t[n];e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontSize" data-param1="'.concat(a).concat(this.opts.fontSizeUnit,'" title="').concat(a,'">').concat(a,"</a></li>")}return e+="</ul>"},callback:function(e,t){this.fontSize.apply(t)},refresh:function(e){this.fontSize.refresh(e)},refreshOnShow:function(e,t){this.fontSize.refreshOnShow(e,t)},plugin:"fontSize"}),ct.DefineIcon("fontSize",{NAME:"text-height",SVG_KEY:"fontSize"}),Object.assign(ct.POPUP_TEMPLATES,{"forms.edit":"[_BUTTONS_]","forms.update":"[_BUTTONS_][_TEXT_LAYER_]"}),Object.assign(ct.DEFAULTS,{formEditButtons:["inputStyle","inputEdit"],formStyles:{"fr-rounded":"Rounded","fr-large":"Large"},formMultipleStyles:!0,formUpdateButtons:["inputBack","|"]}),ct.PLUGINS.forms=function(r){var a,i=r.$;function e(e){r.selection.clear(),i(this).data("mousedown",!0)}function t(e){i(this).data("mousedown")&&(e.stopPropagation(),i(this).removeData("mousedown"),l(a=this)),e.preventDefault()}function n(){r.$el.find("input, textarea, button").removeData("mousedown")}function o(){i(this).removeData("mousedown")}function s(){return a||null}function l(e){var t,n;-1==["checkbox","radio"].indexOf(e.type)&&(r.popups.get("forms.edit")||(t="",t={buttons:t=0<r.opts.formEditButtons.length?'<div class="fr-buttons">'.concat(r.button.buildList(r.opts.formEditButtons),"</div>"):t},t=r.popups.create("forms.edit",t),r.$wp&&r.events.$on(r.$wp,"scroll.link-edit",function(){a&&r.popups.isVisible("forms.edit")&&l(s())})),t=i(a=e),r.popups.refresh("forms.edit"),r.popups.setContainer("forms.edit",r.$sc),e=t.offset().left+t.outerWidth()/2,n=t.offset().top+t.outerHeight(),r.popups.show("forms.edit",e,n,t.outerHeight()))}function c(){var e=r.popups.get("forms.update"),t=s();t&&((t=i(t)).is("button")?e.find('input[type="text"][name="text"]').val(t.text()):t.is("input[type=button]")||t.is("input[type=submit]")||t.is("input[type=reset]")?e.find('input[type="text"][name="text"]').val(t.val()):e.find('input[type="text"][name="text"]').val(t.attr("placeholder"))),e.find('input[type="text"][name="text"]').trigger("change")}function d(){a=null}function f(e){var t,n;return e?(r.popups.onRefresh("forms.update",c),r.popups.onHide("forms.update",d),!0):(e="",1<=r.opts.formUpdateButtons.length&&(e='<div class="fr-buttons">'.concat(r.button.buildList(r.opts.formUpdateButtons),"</div>")),n="",t=0,n='<div class="fr-forms-text-layer fr-layer fr-active"> \n    <div class="fr-input-line"><input name="text" type="text" placeholder="Text" tabIndex=" '.concat(++t,' "></div>\n    <div class="fr-action-buttons"><button class="fr-command fr-submit" data-cmd="updateInput" href="#" tabIndex="').concat(2,'" type="button">').concat(r.language.translate("Update"),"</button></div></div>"),r.popups.create("forms.update",{buttons:e,text_layer:n}))}return{_init:function(){r.events.$on(r.$el,r._mousedown,"input, textarea, button",e),r.events.$on(r.$el,r._mouseup,"input, textarea, button",t),r.events.$on(r.$el,"touchmove","input, textarea, button",o),r.events.$on(r.$el,r._mouseup,n),r.events.$on(r.$win,r._mouseup,n),f(!0),r.events.$on(r.$el,"submit","form",function(e){return e.preventDefault(),!1})},updateInput:function(){var e,t=r.popups.get("forms.update"),n=s();n&&(e=i(n),t=t.find('input[type="text"][name="text"]').val()||"",e.is("button")?t.length?e.text(t):e.text("\u200b"):-1!=["button","submit","reset"].indexOf(n.type)?e.attr("value",t):e.attr("placeholder",t),r.popups.hide("forms.update"),l(n))},getInput:s,applyStyle:function(e,t,n){void 0===t&&(t=r.opts.formStyles),void 0===n&&(n=r.opts.formMultipleStyles);var a=s();if(!a)return!1;n||((n=Object.keys(t)).splice(n.indexOf(e),1),i(a).removeClass(n.join(" "))),i(a).toggleClass(e)},showUpdatePopup:function(){var e,t,n=s();n&&(n=i(n),r.popups.get("forms.update")||f(),r.popups.isVisible("forms.update")||r.popups.refresh("forms.update"),r.popups.setContainer("forms.update",r.$sc),e=n.offset().left+n.outerWidth()/2,t=n.offset().top+n.outerHeight(),r.popups.show("forms.update",e,t,n.outerHeight()))},showEditPopup:l,back:function(){r.events.disableBlur(),r.selection.restore(),r.events.enableBlur();var e=s();e&&r.$wp&&("BUTTON"===e.tagName&&r.selection.restore(),l(e))}}},ct.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}}),ct.DefineIcon("inputStyle",{NAME:"magic",SVG_KEY:"inlineStyle"}),ct.RegisterCommand("inputStyle",{title:"Style",type:"dropdown",html:function(){var e,t='<ul class="fr-dropdown-list">',n=this.opts.formStyles;for(e in n)n.hasOwnProperty(e)&&(t+='<li><a class="fr-command" tabIndex="-1" data-cmd="inputStyle" data-param1="'.concat(e,'">').concat(this.language.translate(n[e]),"</a></li>"));return t+="</ul>"},callback:function(e,t){var n=this.forms.getInput();n&&(this.forms.applyStyle(t),this.forms.showEditPopup(n))},refreshOnShow:function(e,t){var n,a=this.$,r=this.forms.getInput();r&&(n=a(r),t.find(".fr-command").each(function(){var e=a(this).data("param1");a(this).toggleClass("fr-active",n.hasClass(e))}))}}),ct.DefineIcon("inputEdit",{NAME:"edit",SVG_KEY:"edit"}),ct.RegisterCommand("inputEdit",{title:"Edit Button",undo:!1,refreshAfterCallback:!1,callback:function(){this.forms.showUpdatePopup()}}),ct.DefineIcon("inputBack",{NAME:"arrow-left",SVG_KEY:"back"}),ct.RegisterCommand("inputBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.forms.back()}}),ct.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}}),ct.PLUGINS.fullscreen=function(r){var t,i,n,a,o,s=r.$;function l(){if(r.helpers.isIOS()&&r.core.hasFocus())r.$el.blur(),setTimeout(d,250);else{t=r.helpers.scrollTop(),r.opts.iframe&&r.markdown&&r.markdown.isEnabled()&&(r.$box=r.$oel),r.$box.toggleClass("fr-fullscreen"),s("body").first().toggleClass("fr-fullscreen"),r.helpers.isMobile()&&(r.opts.toolbarBottom?r.$tb[0].removeAttribute("style"):(r.$tb.data("parent",r.$tb.parent()),r.$box.prepend(r.$tb),r.$tb.data("sticky-dummy")&&r.$tb.after(r.$tb.data("sticky-dummy")))),n=r.opts.height,a=r.opts.heightMax,o=r.opts.zIndex,r.opts.height=r.o_win.innerHeight-(r.opts.toolbarInline?0:r.$tb.outerHeight()+(r.$second_tb?r.$second_tb.outerHeight():0)),r.opts.zIndex=2147483641,r.opts.heightMax=null,r.size.refresh(),r.opts.toolbarInline&&r.toolbar.showInline();for(var e=r.$box.parent();!e.first().is("body");)e.addClass("fr-fullscreen-wrapper"),e=e.parent();r.opts.toolbarContainer&&r.$box.prepend(r.$tb),r.events.trigger("charCounter.update"),r.events.trigger("codeView.update"),r.$win.trigger("scroll")}}function c(){if(r.helpers.isIOS()&&r.core.hasFocus())r.$el.blur(),setTimeout(d,250);else{r.$box.toggleClass("fr-fullscreen"),s("body").first().toggleClass("fr-fullscreen"),r.$tb.data("parent")&&r.$tb.data("parent").prepend(r.$tb),r.$tb.data("sticky-dummy")&&r.$tb.after(r.$tb.data("sticky-dummy")),r.opts.height=n,r.opts.heightMax=a,r.opts.zIndex=o,r.size.refresh(),r.o_win.scroll(0,t),r.opts.toolbarInline&&r.toolbar.showInline(),r.events.trigger("charCounter.update"),r.opts.toolbarSticky&&r.opts.toolbarStickyOffset&&(r.opts.toolbarBottom?r.$tb.css("bottom",r.opts.toolbarStickyOffset).data("bottom",r.opts.toolbarStickyOffset):r.$tb.css("top",r.opts.toolbarStickyOffset).data("top",r.opts.toolbarStickyOffset));for(var e=r.$box.parent();!e.first().is("body");)e.removeClass("fr-fullscreen-wrapper"),e=e.parent();r.opts.toolbarContainer&&s(r.opts.toolbarContainer).append(r.$tb),s(r.o_win).trigger("scroll"),r.events.trigger("codeView.update")}}function d(){(i()?c:l)(),f(r.$tb.find('.fr-command[data-cmd="fullscreen"]'));var e=r.$tb.find('.fr-command[data-cmd="moreText"]'),t=r.$tb.find('.fr-command[data-cmd="moreParagraph"]'),n=r.$tb.find('.fr-command[data-cmd="moreRich"]'),a=r.$tb.find('.fr-command[data-cmd="moreMisc"]');e.length&&r.refresh.moreText(e),t.length&&r.refresh.moreParagraph(t),n.length&&r.refresh.moreRich(n),a.length&&r.refresh.moreMisc(a)}function f(e){var t=i();e.toggleClass("fr-active",t).attr("aria-pressed",t),e.find("> *").not(".fr-sr-only").replaceWith(t?r.icon.create("fullscreenCompress"):r.icon.create("fullscreen"))}return{_init:function(){if(!r.$wp)return!1;r.events.$on(s(r.o_win),"resize",function(){i()&&(c(),l())}),r.events.on("toolbar.hide",function(){if(i()&&r.helpers.isMobile())return!1}),r.events.on("position.refresh",function(){if(r.helpers.isIOS())return!i()}),r.events.on("destroy",function(){i()&&c()},!0)},toggle:d,refresh:f,isActive:i=function i(){return r.$box.hasClass("fr-fullscreen")}}},ct.RegisterCommand("fullscreen",{title:"Fullscreen",undo:!1,focus:!1,accessibilityFocus:!0,forcedRefresh:!0,toggle:!0,callback:function(){this.fullscreen.toggle()},refresh:function(e){this.fullscreen.refresh(e)},plugin:"fullscreen"}),ct.DefineIcon("fullscreen",{NAME:"expand",SVG_KEY:"fullscreen"}),ct.DefineIcon("fullscreenCompress",{NAME:"compress",SVG_KEY:"exitFullscreen"}),Object.assign(ct.DEFAULTS,{helpSets:[{title:"Inline Editor",commands:[{val:"OSkeyE",desc:"Show the editor"}]},{title:"Common actions",commands:[{val:"OSkeyC",desc:"Copy"},{val:"OSkeyX",desc:"Cut"},{val:"OSkeyV",desc:"Paste"},{val:"OSkeyZ",desc:"Undo"},{val:"OSkeyShift+Z",desc:"Redo"},{val:"OSkeyK",desc:"Insert Link"},{val:"OSkeyP",desc:"Insert Image"},{val:"OSkeyD",desc:"Insert Anchor"}]},{title:"Basic Formatting",commands:[{val:"OSkeyA",desc:"Select All"},{val:"OSkeyB",desc:"Bold"},{val:"OSkeyI",desc:"Italic"},{val:"OSkeyU",desc:"Underline"},{val:"OSkeyS",desc:"Strikethrough"},{val:"OSkey]",desc:"Increase Indent"},{val:"OSkey[",desc:"Decrease Indent"}]},{title:"Quote",commands:[{val:"OSkey'",desc:"Increase quote level"},{val:"OSkeyShift+'",desc:"Decrease quote level"}]},{title:"Image / Video",commands:[{val:"OSkey+",desc:"Resize larger"},{val:"OSkey-",desc:"Resize smaller"}]},{title:"Table",commands:[{val:"Alt+Space",desc:"Select table cell"},{val:"Shift+Left/Right arrow",desc:"Extend selection one cell"},{val:"Shift+Up/Down arrow",desc:"Extend selection one row"}]},{title:"Navigation",commands:[{val:"OSkey/",desc:"Shortcuts"},{val:"Alt+F10",desc:"Focus popup / toolbar"},{val:"Esc",desc:"Return focus to previous position"}]},{title:"Find and Replace",commands:[{val:"OSkeyF",desc:"Find and Replace"}]}]}),ct.PLUGINS.help=function(o){var n,a=o.$,r="help";return{_init:function(){},show:function(){var e,t;n||(t="<h4>".concat(o.language.translate("Shortcuts"),"</h4>"),e=function(){for(var e='<div class="fr-help-modal">',t=0;t<o.opts.helpSets.length;t++){var n=o.opts.helpSets[t];i=(i="<table>")+"<thead><tr><th>".concat(o.language.translate(n.title),"</th></tr></thead>")+"<tbody>";for(var a=0;a<n.commands.length;a++)var r=n.commands[a],i=(i=(i+="<tr>")+"<td>".concat(o.language.translate(r.desc),"</td>"))+"<td>".concat(r.val.replace("OSkey",o.helpers.isMac()?"&#8984;":"Ctrl+"),"</td>")+"</tr>";e+=i+="</tbody></table>"}return e+="</div>"}(),t=o.modals.create(r,t,e),n=t.$modal,o.events.$on(a(o.o_win),"resize",function(){o.modals.resize(r)})),o.modals.show(r),o.modals.resize(r)},hide:function(){o.modals.hide(r)}}},ct.DefineIcon("help",{NAME:"question",SVG_KEY:"help"}),ct.RegisterShortcut(ct.KEYCODE.SLASH,"help",null,"/"),ct.RegisterCommand("help",{title:"Help",icon:"help",undo:!1,focus:!1,modal:!0,callback:function(){this.help.show()},plugin:"help",showOnMobile:!1}),Object.assign(ct.POPUP_TEMPLATES,{"image.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]","image.edit":"[_BUTTONS_]","image.alt":"[_BUTTONS_][_ALT_LAYER_]","image.size":"[_BUTTONS_][_SIZE_LAYER_]"}),Object.assign(ct.DEFAULTS,{imageInsertButtons:["imageBack","|","imageUpload","imageByURL"],imageEditButtons:["imageReplace","imageAlign","imageCaption","imageRemove","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],imageAltButtons:["imageBack","|"],imageSizeButtons:["imageBack","|"],imageUpload:!0,imageUploadURL:null,imageCORSProxy:"https://cors-anywhere.froala.com",imageUploadRemoteUrls:!0,imageUploadParam:"file",imageUploadParams:{},imageUploadToS3:!1,imageUploadToAzure:!1,imageUploadMethod:"POST",imageMaxSize:10485760,imageAllowedTypes:["jpeg","jpg","png","gif","webp"],imageResize:!0,imageResizeWithPercent:!1,imageRoundPercent:!1,imageDefaultWidth:300,imageDefaultAlign:"center",imageDefaultDisplay:"block",imageSplitHTML:!1,imageStyles:{"fr-rounded":"Rounded","fr-bordered":"Bordered","fr-shadow":"Shadow"},imageMove:!0,imageMultipleStyles:!0,imageTextNear:!0,imagePaste:!0,imagePasteProcess:!1,imageMinWidth:16,imageOutputSize:!1,imageDefaultMargin:5,imageAddNewLine:!1}),ct.IMAGE_ALLOW_REGEX=/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i,ct.PLUGINS.image=function(_){var C,c,i,d,f,n,A=_.$,N="https://i.froala.com/upload",t=!1,a=1,D=2,B=3,p=4,H=5,T=6,r={};function U(){var e=_.popups.get("image.insert").find(".fr-image-by-url-layer input");e.val(""),C&&e.val(C.attr("src")),e.trigger("change")}function o(){var e,t;(_.popups.get("image.edit")||V())&&(_.popups.setContainer("image.edit",_.$sc),_.popups.refresh("image.edit"),e=(t=_.helpers.getImagePopupPosition(C)).top,t=t.left,C.hasClass("fr-uploading")?R():_.popups.show("image.edit",t,e,1,!0))}function $(){l()}function e(){for(var e,t,n,a="IMG"==_.el.tagName?[_.el]:_.el.querySelectorAll("img"),r=0;r<a.length;r++){var i=A(a[r]);!_.opts.htmlUntouched&&_.opts.useClasses?(!_.opts.imageDefaultAlign&&!_.opts.imageDefaultDisplay||(n=0<(n=i).parents(".fr-img-caption").length?n.parents(".fr-img-caption").first():n).hasClass("fr-dii")||n.hasClass("fr-dib")||(n.addClass("fr-fi".concat(I(n)[0])),n.addClass("fr-di".concat(Ee(n)[0])),n.css("margin",""),n.css("float",""),n.css("display",""),n.css("z-index",""),n.css("position",""),n.css("overflow",""),n.css("vertical-align","")),_.opts.imageTextNear||(0<i.parents(".fr-img-caption").length?i.parents(".fr-img-caption").first():i).removeClass("fr-dii").addClass("fr-dib")):_.opts.htmlUntouched||_.opts.useClasses||(_.opts.imageDefaultAlign||_.opts.imageDefaultDisplay)&&(t=n=void 0,n=(e=0<(e=i).parents(".fr-img-caption").length?e.parents(".fr-img-caption").first():e).hasClass("fr-dib")?"block":e.hasClass("fr-dii")?"inline":null,t=e.hasClass("fr-fil")?"left":e.hasClass("fr-fir")?"right":I(e),w(e,n,t),e.removeClass("fr-dib fr-dii fr-fir fr-fil")),_.opts.iframe&&i.on("load",_.size.syncIframe)}}function u(e){void 0===e&&(e=!0);var t,n=Array.prototype.slice.call(_.el.querySelectorAll("img")),a=[];for(i=0;i<n.length;i++)a.push(n[i].getAttribute("src")),A(n[i]).toggleClass("fr-draggable",_.opts.imageMove),""===n[i].getAttribute("class")&&n[i].removeAttribute("class"),""===n[i].getAttribute("style")&&n[i].removeAttribute("style"),n[i].parentNode&&n[i].parentNode.parentNode&&_.node.hasClass(n[i].parentNode.parentNode,"fr-img-caption")&&(t=n[i].parentNode.parentNode,_.browser.mozilla||t.setAttribute("contenteditable",!1),t.setAttribute("draggable",!1),t.classList.add("fr-draggable"),t=n[i].nextSibling)&&!_.browser.mozilla&&t.setAttribute("contenteditable",!0);if(f)for(i=0;i<f.length;i++)a.indexOf(f[i].getAttribute("src"))<0&&_.events.trigger("image.removed",[A(f[i])]);if(f&&e){for(var r=[],i=0;i<f.length;i++)r.push(f[i].getAttribute("src"));for(i=0;i<n.length;i++)r.indexOf(n[i].getAttribute("src"))<0&&_.events.trigger("image.loaded",[A(n[i])])}f=n}function k(){var a,r,i,e,t,n,o,s,l;c||(_.shared.$image_resizer?(c=_.shared.$image_resizer,d=_.shared.$img_overlay,_.events.on("destroy",function(){A("body").first().append(c.removeClass("fr-active"))},!0)):(_.shared.$image_resizer=A(document.createElement("div")).attr("class","fr-image-resizer"),c=_.shared.$image_resizer,_.events.$on(c,"mousedown",function(e){e.stopPropagation()},!0),_.opts.imageResize&&(c.append(g("nw")+g("ne")+g("sw")+g("se")),_.shared.$img_overlay=A(document.createElement("div")).attr("class","fr-image-overlay"),d=_.shared.$img_overlay,e=c.get(0).ownerDocument,A(e).find("body").first().append(d))),_.events.on("shared.destroy",function(){c.html("").removeData().remove(),c=null,_.opts.imageResize&&(d.remove(),d=null)},!0),_.helpers.isMobile()||_.events.$on(A(_.o_win),"resize",function(){C&&!C.hasClass("fr-uploading")?L(!0):C&&(k(),ye(),R(!1))}),_.opts.imageResize&&(e=c.get(0).ownerDocument,_.events.$on(c,_._mousedown,".fr-handler",K),_.events.$on(A(e),_._mousemove,z),_.events.$on(A(e.defaultView||e.parentWindow),_._mouseup,W),_.events.$on(d,"mouseleave",W),a=1,r=null,i=0,_.events.on("keydown",function(e){var t,n;C&&(t=-1!=navigator.userAgent.indexOf("Mac OS X")?e.metaKey:e.ctrlKey,((n=e.which)!==r||200<e.timeStamp-i)&&(a=1),(n==ct.KEYCODE.EQUALS||_.browser.mozilla&&n==ct.KEYCODE.FF_EQUALS)&&t&&!e.altKey?a=se.call(this,e,1,1,a):(n==ct.KEYCODE.HYPHEN||_.browser.mozilla&&n==ct.KEYCODE.FF_HYPHEN)&&t&&!e.altKey?a=se.call(this,e,2,-1,a):_.keys.ctrlKey(e)||n!=ct.KEYCODE.ENTER||(C.before("<br>"),x(C)),r=n,i=e.timeStamp)},!0),_.events.on("keyup",function(){a=1})));C&&((e=_.$wp||_.$sc).append(c),c.data("instance",_),t=e.scrollTop()-("static"!=e.css("position")?e.offset().top:0),n=e.scrollLeft()-("static"!=e.css("position")?e.offset().left:0),n-=_.helpers.getPX(e.css("border-left-width")),t-=_.helpers.getPX(e.css("border-top-width")),_.$el.is("img")&&_.$sc.is("body")&&(n=t=0),o=M(),F()&&(o=o.find(".fr-img-wrap")),l=s=0,_.opts.iframe&&(s=_.helpers.getPX(_.$wp.find(".fr-iframe").css("padding-top")),l=_.helpers.getPX(_.$wp.find(".fr-iframe").css("padding-left"))),c.css("top",(_.opts.iframe?o.offset().top+s:o.offset().top+t)-1).css("left",(_.opts.iframe?o.offset().left+l:o.offset().left+n)-1).css("width",o.get(0).getBoundingClientRect().width).css("height",o.get(0).getBoundingClientRect().height).addClass("fr-active"))}function g(e){return'<div class="fr-handler fr-h'.concat(e,'"></div>')}function s(e){F()&&C.parents(".fr-img-caption").css("width",e),C.css("width",e)}function K(e){if(!_.core.sameInstance(c))return!0;if(e.preventDefault(),e.stopPropagation(),_.$el.find("img.fr-error").left)return!1;_.undo.canDo()||_.undo.saveStep();var t=e.pageX||e.originalEvent.touches[0].pageX;if("mousedown"==e.type){var n=_.$oel.get(0).ownerDocument,n=n.defaultView||n.parentWindow,a=!1;try{a=n.location!=n.parent.location&&!(n.$&&n.$.FE)}catch(r){}a&&n.frameElement&&(a=n.frameElement.getBoundingClientRect(),t=e.clientX-a.left)}(i=A(this)).data("start-x",t),i.data("start-width",C.width()),i.data("start-height",C.height());n=C.width();_.opts.imageResizeWithPercent&&(e=C.parentsUntil(_.$el,_.html.blockTagsQuery()).get(0)||_.el,n=(n/A(e).outerWidth()*100).toFixed(2)+"%"),s(n),d.show(),_.popups.hideAll(),y()}function z(e){var t,n;return!_.core.sameInstance(c)||(i&&C?(e.preventDefault(),!_.$el.find("img.fr-error").left&&!!(e=e.pageX||(e.originalEvent.touches?e.originalEvent.touches[0].pageX:null))&&(e=e-i.data("start-x"),n=i.data("start-width"),(i.hasClass("fr-hnw")||i.hasClass("fr-hsw"))&&(e=0-e),_.opts.imageResizeWithPercent?(t=C.parentsUntil(_.$el,_.html.blockTagsQuery()).get(0)||_.el,n=((n+e)/A(t).outerWidth()*100).toFixed(2),_.opts.imageRoundPercent&&(n=Math.round(n)),s("".concat(n,"%")),(t=(F()?_.helpers.getPX(C.parents(".fr-img-caption").css("width"))/A(t).outerWidth()*100:_.helpers.getPX(C.css("width"))/A(t).outerWidth()*100).toFixed(2))===n||_.opts.imageRoundPercent||s("".concat(t,"%")),C.css("height","").removeAttr("height")):(n+e>=_.opts.imageMinWidth&&(s(n+e),t=F()?_.helpers.getPX(C.parents(".fr-img-caption").css("width")):_.helpers.getPX(C.css("width"))),t!==n+e&&s(t),((C.attr("style")||"").match(/(^height:)|(; *height:)/)||C.attr("height"))&&(C.css("height",i.data("start-height")*C.width()/i.data("start-width")),C.removeAttr("height"))),k(),void _.events.trigger("image.resize",[C]))):void 0)}function W(e){if(!_.core.sameInstance(c))return!0;if(i&&C){if(e&&e.stopPropagation(),_.$el.find("img.fr-error").left)return!1;i=null,d.hide(),k(),o(),_.undo.saveStep(),_.events.trigger("image.resizeEnd",[C])}else c.removeClass("fr-active")}function S(e,t,n){_.edit.on(),C&&C.addClass("fr-error"),r[e]?G(_.language.translate(r[e])):G(_.language.translate("Something went wrong. Please try again.")),!C&&n&&E(n),_.events.trigger("image.error",[{code:e,message:r[e]},t,n])}function V(e){return e?(_.$wp&&_.events.$on(_.$wp,"scroll.image-edit",function(){C&&_.popups.isVisible("image.edit")&&(_.events.disableBlur(),o())}),!0):(e="",0<_.opts.imageEditButtons.length&&(e+='<div class="fr-buttons">\n        '.concat(_.button.buildList(_.opts.imageEditButtons),"\n        </div>"),_.popups.create("image.edit",{buttons:e})))}function R(e){var t,n,a=_.popups.get("image.insert");(a=a||b()).find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),a.find(".fr-image-progress-bar-layer").addClass("fr-active"),a.find(".fr-buttons").hide(),C&&(a=M(),_.popups.setContainer("image.insert",_.$sc),n=(t=_.helpers.getImagePopupPosition(a)).top,_.popups.show("image.insert",t.left,n,a.outerHeight())),void 0===e&&h(_.language.translate("Uploading"),0)}function l(e){var t=_.popups.get("image.insert");t&&(t.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),t.find(".fr-image-progress-bar-layer").removeClass("fr-active"),t.find(".fr-buttons").show(),e||_.$el.find("img.fr-error").length)&&(_.events.focus(),_.$el.find("img.fr-error").length&&(_.$el.find("img.fr-error").remove(),_.undo.saveStep(),_.undo.run(),_.undo.dropRedo()),!_.$wp&&C&&(t=C,L(!0),_.selection.setAfter(t.get(0)),_.selection.restore()),_.popups.hide("image.insert"))}function h(e,t){var n=_.popups.get("image.insert");n&&((n=n.find(".fr-image-progress-bar-layer")).find("h3").text(e+(t?" ".concat(t,"%"):"")),n.removeClass("fr-error"),t?(n.find("div").removeClass("fr-indeterminate"),n.find("div > span").css("width","".concat(t,"%"))):n.find("div").addClass("fr-indeterminate"))}function G(e){R();var t=_.popups.get("image.insert").find(".fr-image-progress-bar-layer"),t=(t.addClass("fr-error"),t.find("h3"));t.text(e),_.events.disableBlur(),t.focus()}function x(e){me.call(e.get(0))}function Y(){var e=A(this);_.popups.hide("image.insert"),e.removeClass("fr-uploading"),e.next().is("br")&&e.next().remove(),x(e),_.events.trigger("image.loaded",[e])}function m(s,e,l,c,d){c&&"string"==typeof c&&(c=_.$(c)),_.edit.off(),h(_.language.translate("Loading image")),e&&(s=_.helpers.sanitizeURL(s));e=new Image;e.onload=function(){var e,t;if(c){_.undo.canDo()||c.hasClass("fr-uploading")||_.undo.saveStep();for(var n,a=c.data("fr-old-src"),r=(c.data("fr-image-pasted")&&(a=null),_.$wp?((e=c.clone().removeData("fr-old-src").removeClass("fr-uploading").removeAttr("data-fr-image-pasted")).off("load"),a&&c.attr("src",a),!_.opts.trackChangesEnabled||c[0].parentNode&&"SPAN"===c[0].parentNode.tagName&&c[0].parentNode.hasAttribute("data-tracking")||_.track_changes.replaceSpecialItem(c),0<=(n=f.indexOf(c[0]))&&(f[n]=e[0]),c.replaceWith(e)):e=c,e.get(0).attributes),i=0;i<r.length;i++){var o=r[i];(0===o.nodeName.indexOf("data-")&&"data-pasted"!==o.nodeName||l&&l.hasOwnProperty(o.nodeName))&&e.removeAttr(o.nodeName)}if(void 0!==l)for(t in l)l.hasOwnProperty(t)&&"link"!=t&&e.attr("".concat(t),l[t]);e.on("load",Y),e.attr("src",s),_.edit.on(),u(!1),c[0].src!=s&&_.selection.restore(),_.undo.saveStep(),_.events.disableBlur(),_.$el.blur(),_.events.trigger(a?"image.replaced":"image.inserted",[e,d])}else(e=Z(s,l,Y))&&(u(!1),_.undo.saveStep(),_.events.disableBlur(),_.$el.blur(),_.events.trigger("image.inserted",[e,d]))},e.onerror=function(){S(a)},R(_.language.translate("Loading image")),e.src=s}function j(e,t,n){h(_.language.translate("Loading image"));var a,r,i=this.status,o=this.response,s=this.responseXML,l=this.responseText;try{if(_.opts.imageUploadToS3||_.opts.imageUploadToAzure)if(201==i){if(_.opts.imageUploadToAzure){if(!1===_.events.trigger("image.uploadedToAzure",[this.responseURL,n,o],!0))return _.edit.on(),!1;r=t}else r=function(e){try{var t=A(e).find("Location").text(),n=A(e).find("Key").text();return!1===_.events.trigger("image.uploadedToS3",[t,n,e],!0)?(_.edit.on(),!1):t}catch(a){return S(p,e),!1}}(s);r&&m(r,!1,[],e,o||s)}else S(p,o||s,e);else 200<=i&&i<300?(a=function(e){try{var t;return!1===_.events.trigger("image.uploaded",[e],!0)?(_.edit.on(),!1):(t=JSON.parse(e)).link?t:(S(D,e),!1)}catch(n){return S(p,e),!1}}(l))&&m(a.link,!1,a,e,o||l):S(B,o||l,e)}catch(c){S(p,o||l,e)}}function q(){S(p,this.response||this.responseText||this.responseXML)}function X(e){e.lengthComputable&&(e=e.loaded/e.total*100|0,h(_.language.translate("Uploading"),e))}function Z(e,t,n){var a,r=A(document.createElement("img")).attr("src",e);if(t&&void 0!==t)for(a in t)t.hasOwnProperty(a)&&"link"!=a&&(" data-".concat(a,'="').concat(t[a],'"'),r.attr("".concat(a),t[a]));e=_.opts.imageDefaultWidth,e&&"auto"!=e&&(e=_.opts.imageResizeWithPercent?"100%":"".concat(e,"px")),r.attr("style",e?"width: ".concat(e,";"):""),w(r,_.opts.imageDefaultDisplay,_.opts.imageDefaultAlign),r.on("load",n),r.on("error",n),_.edit.on(),_.events.focus(!0),_.selection.restore(),_.undo.saveStep(),_.opts.imageSplitHTML?_.markers.split():_.markers.insert(),_.html.wrap(),e=_.$el.find(".fr-marker");if(e.length)(e.parent().is("hr")||e.parent().is("IMG"))&&e.parent().after(e),_.node.isLastSibling(e)&&e.parent().hasClass("fr-deletable")&&e.insertAfter(e.parent()),e.replaceWith(r);else{if(_.opts.trackChangesEnabled)return l(!0),!1;_.$el.append(r)}return _.selection.clear(),r}function Q(){_.edit.on(),l(!0)}function v(e,t){if(void 0!==e&&0<e.length){if(!1===_.events.trigger("image.beforeUpload",[e,t]))return!1;var n,a,e=e[0];if(!(null!==_.opts.imageUploadURL&&_.opts.imageUploadURL!=N||_.opts.imageUploadToS3||_.opts.imageUploadToAzure))return E=e,y=t||C,(w=new FileReader).onload=function(){var e=w.result;if(w.result.indexOf("svg+xml")<0){for(var t=atob(w.result.split(",")[1]),n=[],a=0;a<t.length;a++)n.push(t.charCodeAt(a));e=window.URL.createObjectURL(new Blob([new Uint8Array(n)],{type:E.type})),y&&y.data("fr-old-src",y.attr("src")),_.image.insert(e,!1,null,y)}else _.image.insert(e,null,null,_.image.get())},R(),w.readAsDataURL(E),!1;if(e.name||(e.name=(new Date).getTime()+"."+(e.type||"image/jpeg").replace(/image\//g,"")),e.size>_.opts.imageMaxSize)return S(H),!1;if(_.opts.imageAllowedTypes.indexOf(e.type.replace(/image\//g,""))<0)return S(T),!1;if(n=_.drag_support.formdata?_.drag_support.formdata?new FormData:null:n){if(!1!==_.opts.imageUploadToS3)for(a in n.append("key",_.opts.imageUploadToS3.keyStart+(new Date).getTime()+"-"+(e.name||"untitled")),n.append("success_action_status","201"),n.append("X-Requested-With","xhr"),n.append("Content-Type",e.type),_.opts.imageUploadToS3.params)_.opts.imageUploadToS3.params.hasOwnProperty(a)&&n.append(a,_.opts.imageUploadToS3.params[a]);for(a in _.opts.imageUploadParams)_.opts.imageUploadParams.hasOwnProperty(a)&&n.append(a,_.opts.imageUploadParams[a]);n.append(_.opts.imageUploadParam,e,e.name);var r,i=_.opts.imageUploadURL,o=_.opts.imageUploadMethod,s=(_.opts.imageUploadToS3&&(i=_.opts.imageUploadToS3.uploadURL||"https://".concat(_.opts.imageUploadToS3.region,".amazonaws.com/").concat(_.opts.imageUploadToS3.bucket)),_.opts.imageUploadToAzure&&(r=i=_.opts.imageUploadToAzure.uploadURL?"".concat(_.opts.imageUploadToAzure.uploadURL,"/").concat(e.name):encodeURI("https://".concat(_.opts.imageUploadToAzure.account,".blob.core.windows.net/").concat(_.opts.imageUploadToAzure.container,"/").concat(e.name)),_.opts.imageUploadToAzure.SASToken&&(i+=_.opts.imageUploadToAzure.SASToken),o="PUT"),_.core.getXHR(i,o));if(_.opts.imageUploadToAzure){var l,c,d,i=(new Date).toUTCString();for(a in!_.opts.imageUploadToAzure.SASToken&&_.opts.imageUploadToAzure.accessKey&&(l=_.opts.imageUploadToAzure.account,d=_.opts.imageUploadToAzure.container,_.opts.imageUploadToAzure.uploadURL&&(d=(c=_.opts.imageUploadToAzure.uploadURL.split("/")).pop(),l=c.pop().split(".")[0]),c="x-ms-blob-type:BlockBlob\nx-ms-date:".concat(i,"\nx-ms-version:2019-07-07"),d=encodeURI("/"+l+"/"+d+"/"+e.name),o=o+"\n\n\n"+e.size+"\n\n"+e.type+"\n\n\n\n\n\n\n"+c+"\n"+d,c=_.cryptoJSPlugin.cryptoJS.HmacSHA256(o,_.cryptoJSPlugin.cryptoJS.enc.Base64.parse(_.opts.imageUploadToAzure.accessKey)).toString(_.cryptoJSPlugin.cryptoJS.enc.Base64),s.setRequestHeader("Authorization","SharedKey "+l+":"+(d=c))),s.setRequestHeader("x-ms-version","2019-07-07"),s.setRequestHeader("x-ms-date",i),s.setRequestHeader("Content-Type",e.type),s.setRequestHeader("x-ms-blob-type","BlockBlob"),_.opts.imageUploadParams)_.opts.imageUploadParams.hasOwnProperty(a)&&s.setRequestHeader(a,_.opts.imageUploadParams[a]);for(a in _.opts.imageUploadToAzure.params)_.opts.imageUploadToAzure.params.hasOwnProperty(a)&&s.setRequestHeader(a,_.opts.imageUploadToAzure.params[a])}p=s,u=n,g=e,h=t||C,m=r,v=d,(b=new FileReader).onload=function(){var e=b.result;if(b.result.indexOf("svg+xml")<0){for(var t=atob(b.result.split(",")[1]),n=[],a=0;a<t.length;a++)n.push(t.charCodeAt(a));e=window.URL.createObjectURL(new Blob([new Uint8Array(n)],{type:"image/jpeg"}))}h?(h.on("load",f),h.on("error",function(){f(),A(this).off("error")}),_.edit.on(),_.undo.saveStep(),h.data("fr-old-src",h.attr("src")),h.attr("src",e)):Z(e,null,f)},b.readAsDataURL(g)}}function f(){var e=A(this);e.off("load"),e.addClass("fr-uploading"),e.next().is("br")&&e.next().remove(),_.placeholder.refresh(),x(e),k(),R(),_.edit.off(),p.onload=function(){j.call(p,e,m,v)},p.onerror=q,p.upload.onprogress=X,p.onabort=Q,A(e.off("abortUpload")).on("abortUpload",function(){4!=p.readyState&&(p.abort(),h?(h.attr("src",h.data("fr-old-src")),h.removeClass("fr-uploading")):e.remove(),L(!0))}),p.send(_.opts.imageUploadToAzure?g:u)}var p,u,g,h,m,v,b,E,y,w}function J(e){if(e.is("img")&&0<e.parents(".fr-img-caption").length)return e.parents(".fr-img-caption")}function ee(e){var t=e.originalEvent.dataTransfer;if(t&&t.files&&t.files.length){var n,a,r,i,o=t.files[0];if(o&&o.type&&-1!==o.type.indexOf("image")&&0<=_.opts.imageAllowedTypes.indexOf(o.type.replace(/image\//g,"")))return _.opts.imageUpload?(_.markers.remove(),_.markers.insertAtPoint(e.originalEvent),_.$el.find(".fr-marker").replaceWith(ct.MARKERS),0===_.$el.find(".fr-marker").length&&_.selection.setAtEnd(_.el),_.popups.hideAll(),_.popups.get("image.insert")||b(),n=(_.popups.setContainer("image.insert",_.$sc),e.originalEvent.pageX),a=e.originalEvent.pageY,_.opts.iframe&&(r=_.helpers.getPX(_.$wp.find(".fr-iframe").css("padding-top")),i=_.helpers.getPX(_.$wp.find(".fr-iframe").css("padding-left")),a+=_.$iframe.offset().top+r,n+=_.$iframe.offset().left+i),_.popups.show("image.insert",n,a),R(),0<=_.opts.imageAllowedTypes.indexOf(o.type.replace(/image\//g,""))?(L(!0),v(t.files)):S(T),e.preventDefault(),e.stopPropagation()):(e.preventDefault(),e.stopPropagation()),!1}}function b(e){var t,n,a,r,i,o,s;return e?(_.popups.onRefresh("image.insert",U),_.popups.onHide("image.insert",$),!0):(e="",_.opts.imageUpload||-1===_.opts.imageInsertButtons.indexOf("imageUpload")||_.opts.imageInsertButtons.splice(_.opts.imageInsertButtons.indexOf("imageUpload"),1),""!==(a=_.button.buildList(_.opts.imageInsertButtons))&&(e='<div class="fr-buttons fr-tabs">'.concat(a,"</div>")),a=_.opts.imageInsertButtons.indexOf("imageUpload"),r=_.opts.imageInsertButtons.indexOf("imageByURL"),i="",0<=a&&(t=" fr-active",i='<div class="fr-image-upload-layer'.concat(t=0<=r&&r<a?"":t,' fr-layer" id="fr-image-upload-layer-').concat(_.id,'"><strong>').concat(_.language.translate("Drop image"),"</strong><br>(").concat(_.language.translate("or click"),')<div class="fr-form"><input type="file" accept="image/').concat(_.opts.imageAllowedTypes.join(", image/").toLowerCase(),'" tabIndex="-1" aria-labelledby="fr-image-upload-layer-').concat(_.id,'" role="button"></div></div>')),o="",0<=r&&(t=" fr-active",o='<div class="fr-image-by-url-layer'.concat(t=0<=a&&a<r?"":t,' fr-layer" id="fr-image-by-url-layer-').concat(_.id,'"><div class="fr-input-line"><input id="fr-image-by-url-layer-text-').concat(_.id,'" type="text" placeholder="http://" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageInsertByURL" tabIndex="2" role="button">').concat(_.language.translate("Insert"),"</button></div></div>")),1<=_.opts.imageInsertButtons.length&&(n=_.popups.create("image.insert",{buttons:e,upload_layer:i,by_url_layer:o,progress_bar:'<div class="fr-image-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="imageDismissError" tabIndex="2" role="button">OK</button></div></div>'})),_.$wp&&_.events.$on(_.$wp,"scroll",function(){C&&_.popups.isVisible("image.insert")&&ye()}),s=n,_.events.$on(s,"dragover dragenter",".fr-image-upload-layer",function(e){return A(this).addClass("fr-drop"),(_.browser.msie||_.browser.edge)&&e.preventDefault(),!1},!0),_.events.$on(s,"dragleave dragend",".fr-image-upload-layer",function(e){return A(this).removeClass("fr-drop"),(_.browser.msie||_.browser.edge)&&e.preventDefault(),!1},!0),_.events.$on(s,"drop",".fr-image-upload-layer",function(e){e.preventDefault(),e.stopPropagation(),A(this).removeClass("fr-drop");var t,e=e.originalEvent.dataTransfer;e&&e.files&&((t=s.data("instance")||_).events.disableBlur(),t.image.upload(e.files),t.events.enableBlur())},!0),_.helpers.isIOS()&&_.events.$on(s,"touchstart",'.fr-image-upload-layer input[type="file"]',function(){A(this).trigger("click")},!0),_.events.$on(s,"change",'.fr-image-upload-layer input[type="file"]',function(){var e;this.files&&((e=s.data("instance")||_).events.disableBlur(),s.find("input:focus").blur(),e.events.enableBlur(),e.image.upload(this.files,C)),A(this).val("")},!0),n)}function te(){C&&_.popups.get("image.alt").find("input").val(C.attr("alt")||"").trigger("change")}function ne(){_.popups.get("image.alt")||ae();l(),_.popups.refresh("image.alt"),_.popups.setContainer("image.alt",_.$sc);var e=M(),t=_.helpers.getImagePopupPosition(e),n=t.top,t=t.left,e=e.outerHeight();_.opts.iframe&&F()&&(e=C?C.outerHeight():0),_.popups.show("image.alt",t,n,e,!0)}function ae(e){var t;return e?(_.popups.onRefresh("image.alt",te),!0):(e="",e='<div class="fr-buttons fr-tabs">'.concat(_.button.buildList(_.opts.imageAltButtons),"</div>"),t="",t='<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'.concat(_.id,'"><div class="fr-input-line"><input id="fr-image-alt-layer-text-').concat(_.id,'" type="text" placeholder="').concat(_.language.translate("Alternative Text"),'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2" role="button">').concat(_.language.translate("Update"),"</button></div></div>"),e=_.popups.create("image.alt",{buttons:e,alt_layer:t}),_.$wp&&_.events.$on(_.$wp,"scroll.image-alt",function(){C&&_.popups.isVisible("image.alt")&&ne()}),e)}function re(){var e=_.popups.get("image.size"),t=C.get(0).style.height?C.get(0).style.height:"auto",n=C.get(0).style.width?C.get(0).style.width:"auto";C&&(F()&&!C.parent().get(0).style.width&&C.parent().parent(),e.find('input[name="width"]').val(n).trigger("change"),e.find('input[name="height"]').val(t).trigger("change"))}function ie(){_.popups.get("image.size")||oe();l(),_.popups.refresh("image.size"),_.popups.setContainer("image.size",_.$sc);var e=M(),t=(e.outerWidth(),F()&&(e=e.find(".fr-img-wrap"),C.outerWidth()),e.outerHeight()),e=(_.opts.iframe&&F()&&(t=C?C.outerHeight():0),_.helpers.getImagePopupPosition(e)),n=e.top;_.popups.show("image.size",e.left,n,t,!0)}function oe(e){var t;return e?(_.popups.onRefresh("image.size",re),!0):(e="",e='<div class="fr-buttons fr-tabs">'.concat(_.button.buildList(_.opts.imageSizeButtons),"</div>"),t="",t='<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'.concat(_.id,'"><div class="fr-image-group"><div class="fr-input-line"><input id="fr-image-size-layer-width-\'').concat(_.id,'" type="text" name="width" placeholder="').concat(_.language.translate("Width"),'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-image-size-layer-height').concat(_.id,'" type="text" name="height" placeholder="').concat(_.language.translate("Height"),'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2" role="button">').concat(_.language.translate("Update"),"</button></div></div>"),e=_.popups.create("image.size",{buttons:e,size_layer:t}),_.$wp&&_.events.$on(_.$wp,"scroll.image-size",function(){C&&_.popups.isVisible("image.size")&&ie()}),e)}function se(e,t,n,a){return e.pageX=t,K.call(this,e),e.pageX=e.pageX+n*Math.floor(Math.pow(1.1,a)),z.call(this,e),W.call(this,e),++a}function E(e){e=e||M(),!_.opts.trackChangesEnabled||_.helpers.isMobile()||e[0].parentNode&&"SPAN"===e[0].parentNode.tagName&&e[0].parentNode.hasAttribute("data-tracking")?e&&!1!==_.events.trigger("image.beforeRemove",[e])&&(_.popups.hideAll(),O(),L(!0),_.undo.canDo()||_.undo.saveStep(),e.get(0)==_.el?e.removeAttr("src"):((e.get(0).parentNode&&"A"==e.get(0).parentNode.tagName?(_.selection.setBefore(e.get(0).parentNode)||_.selection.setAfter(e.get(0).parentNode)||e.parent().after(ct.MARKERS),A(e.get(0).parentNode)):(_.selection.setBefore(e.get(0))||_.selection.setAfter(e.get(0))||e.after(ct.MARKERS),e)).remove(),_.html.fillEmptyBlocks(),_.selection.restore()),_.undo.saveStep()):(_.track_changes.removeSpecialItem(e),_.popups.hideAll(),L(!0))}function le(e){var t=e.which,n=document.getElementsByClassName("fs-transforms-container"),a=!1;if(n&&n.length){var r,i=_e(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.childNodes&&o.childNodes.length&&(a=!0)}}catch(s){i.e(s)}finally{i.f()}}return!(C=a?null:C)||t!=ct.KEYCODE.BACKSPACE&&t!=ct.KEYCODE.DELETE?C&&t==ct.KEYCODE.ESC?(n=C,L(!0),_.selection.setAfter(n.get(0)),_.selection.restore(),e.preventDefault(),!1):!C||t!=ct.KEYCODE.ARROW_LEFT&&t!=ct.KEYCODE.ARROW_RIGHT?C&&t===ct.KEYCODE.TAB?(e.preventDefault(),e.stopPropagation(),L(!0),!1):C&&t!=ct.KEYCODE.F10&&!_.keys.isBrowserAction(e)?(e.preventDefault(),e.stopPropagation(),!1):void 0:(n=C.get(0),L(!0),t==ct.KEYCODE.ARROW_LEFT?_.selection.setBefore(n):_.selection.setAfter(n),_.selection.restore(),e.preventDefault(),!1):(e.preventDefault(),e.stopPropagation(),E(),!1)}function ce(e){var t;if(e&&"IMG"==e.tagName)_.node.hasClass(e,"fr-uploading")||_.node.hasClass(e,"fr-error")?e.parentNode.removeChild(e):_.node.hasClass(e,"fr-draggable")&&e.classList.remove("fr-draggable"),e.parentNode&&e.parentNode.parentNode&&_.node.hasClass(e.parentNode.parentNode,"fr-img-caption")&&((t=e.parentNode.parentNode).removeAttribute("contenteditable"),t.removeAttribute("draggable"),t.classList.remove("fr-draggable"),t=e.nextSibling)&&t.removeAttribute("contenteditable");else if(e&&e.nodeType==Node.ELEMENT_NODE)for(var n=e.querySelectorAll("img.fr-uploading, img.fr-error, img.fr-draggable"),a=0;a<n.length;a++)ce(n[a])}function de(e){if(!1===_.events.trigger("image.beforePasteUpload",[e]))A(e).removeAttr("data-fr-image-pasted");else{C=A(e),k(),o(),R(),C.on("load",function(){var t=[];k(),A(_.popups.get("image.insert").get(0)).find("div.fr-active.fr-error").length<1&&R(),A(this).data("events").filter(function(e){"load"===e[0]&&t.push(e)}),t.length<=1&&A(this).off("load")});for(var e=A(e).attr("src").split(","),t=atob(e[1]),n=[],a=0;a<t.length;a++)n.push(t.charCodeAt(a));v([_.browser.safari&&!_.opts.imageUploadURL?new Blob([new Uint8Array(n)],{type:e[0].replace(/data\:/g,"")}):new Blob([new Uint8Array(n)],{type:e[0].replace(/data\:/g,"").replace(/;base64/g,"")})],C)}}function fe(){_.opts.imagePaste?_.$el.find("img[data-fr-image-pasted]").each(function(e,n){var t;_.opts.imagePasteProcess&&((t=_.opts.imageDefaultWidth)&&"auto"!=t&&(t+=_.opts.imageResizeWithPercent?"%":"px"),A(n).css("width",t).removeClass("fr-dii fr-dib fr-fir fr-fil"),w(A(n),_.opts.imageDefaultDisplay,_.opts.imageDefaultAlign)),0===n.src.indexOf("data:")?de(n):0===n.src.indexOf("blob:")||0===n.src.indexOf("http")&&_.opts.imageUploadRemoteUrls&&_.opts.imageCORSProxy?((t=new Image).crossOrigin="Anonymous",t.onload=function(){var e=_.o_doc.createElement("CANVAS"),t=e.getContext("2d");e.height=this.naturalHeight,e.width=this.naturalWidth,t.drawImage(this,0,0),setTimeout(function(){de(n)},0),n.src=e.toDataURL(ct.IMAGE_TYPE)},_.browser.msie&&ct.IMAGE_ALLOW_REGEX.test(n.src)&&(ct.IMAGE_TYPE="image/"+n.src.split(ct.IMAGE_ALLOW_REGEX)[1]),t.src=(0===n.src.indexOf("blob:")?"":"".concat(_.opts.imageCORSProxy,"/"))+n.src,0!==n.src.indexOf("blob:")&&_.undo.saveStep()):0!==n.src.indexOf("http")||0===n.src.indexOf("https://mail.google.com/mail")?(_.selection.save(),A(n).remove(),_.selection.restore()):A(n).removeAttr("data-fr-image-pasted")}):_.$el.find("img[data-fr-image-pasted]").remove()}function pe(e){var e=e.target.result,t=_.opts.imageDefaultWidth,e=(t&&"auto"!=t&&(t+=_.opts.imageResizeWithPercent?"%":"px"),_.undo.saveStep(),_.html.insert('<img data-fr-image-pasted="true" src="'.concat(e,'"').concat(t?' style="width: '.concat(t,';"'):"",">")),_.$el.find('img[data-fr-image-pasted="true"]'));e&&w(e,_.opts.imageDefaultDisplay,_.opts.imageDefaultAlign),_.events.trigger("paste.after")}function ue(e,t){var n,a,r=new FileReader;r.onload=(n=t,(a=_.opts.imageDefaultWidth)&&"auto"!=a&&(a+=_.opts.imageResizeWithPercent?"%":"px"),_.html.insert('<img data-fr-image-pasted="true" src="'.concat(n,'"').concat(a?' style="width: '.concat(a,';"'):"",">")),(n=_.$el.find('img[data-fr-image-pasted="true"]'))&&w(n,_.opts.imageDefaultDisplay,_.opts.imageDefaultAlign),void _.events.trigger("paste.after")),r.readAsDataURL(e,t)}function ge(e,t){var n=t||e&&e.clipboardData;if(n&&n.items){var t=(n||window.clipboardData).getData("text/html")||"",e=/caret-color:\s*rgb\(/.test(t)||/direction:\s*ltr.*margin-top:\s*0in/.test(t)||/width:\s*[\d.]+in/.test(t);if(t.match('content="Microsoft OneNote')||e)return!0;_.browser.mozilla&&(""===t||/<!--StartFragment-->([ ])<!--EndFragment-->/.test(t))&&(t=_.win.localStorage.getItem("fr-copied-html"));e=(new DOMParser).parseFromString(t,"text/html").querySelector("img");if(e&&!_.opts.imageUploadURL){if(!e)return!1;var t=e.src,a=null;if(n.types&&-1!=[].indexOf.call(n.types,"text/rtf")||n.getData("text/rtf"))a=n.items[0].getAsFile();else for(var r=0;r<n.items.length;r++)if(a=n.items[r].getAsFile()){ct.IMAGE_TYPE=a.type;break}return a?(ue(a,t),!1):void 0}var i=null;if(n.types&&-1!=[].indexOf.call(n.types,"text/rtf")||n.getData("text/rtf"))i=n.items[0].getAsFile();else for(var o=0;o<n.items.length&&!(i=n.items[o].getAsFile());o++);return i?(e=i,(t=new FileReader).onload=pe,t.readAsDataURL(e),!1):void 0}}function he(e){return e=e.replace(/<img /gi,'<img data-fr-image-pasted="true" ')}function me(e){if("false"==A(this).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable"))return!0;if(e&&"touchend"==e.type&&n)return!0;if(e&&_.edit.isDisabled())return e.stopPropagation(),e.preventDefault(),!1;for(var t=0;t<ct.INSTANCES.length;t++)ct.INSTANCES[t]!=_&&ct.INSTANCES[t].events.trigger("image.hideResizer");_.toolbar.disable(),e&&(e.stopPropagation(),e.preventDefault()),_.helpers.isMobile()&&(_.events.disableBlur(),_.$el.blur(),_.events.enableBlur()),_.opts.iframe&&_.size.syncIframe(),C=A(this),O(),k(),o(),_.browser.msie?(_.popups.areVisible()&&_.events.disableBlur(),_.win.getSelection&&(_.win.getSelection().removeAllRanges(),_.win.getSelection().addRange(_.doc.createRange()))):_.selection.clear(),_.helpers.isIOS()&&(_.events.disableBlur(),_.$el.blur()),_.button.bulkRefresh(),_.events.trigger("video.hideResizer")}function L(e){C&&(ve||!0===e)&&(_.toolbar.enable(),c.removeClass("fr-active"),_.popups.hideAll(),y(),i=C=null,d)&&d.hide()}r[a]="Image cannot be loaded from the passed link.",r[D]="No link in upload response.",r[B]="Error during file upload.",r[p]="Parsing response failed.",r[H]="File is too large.",r[T]="Image file type is invalid.",r[7]="Files can be uploaded only to same domain in IE 8 and IE 9.";var ve=!(r[8]="Image file is corrupted.");function be(){ve=!0}function y(){ve=!1}function w(e,t,n){var a,r;!_.opts.htmlUntouched&&_.opts.useClasses?(e.removeClass("fr-fil fr-fir fr-dib fr-dii"),n&&e.addClass("fr-fi".concat(n[0])),t&&e.addClass("fr-di".concat(t[0]))):"inline"==t?(e.css({display:"inline-block",verticalAlign:"bottom",margin:_.opts.imageDefaultMargin}),"center"==n?e.css({"float":"none",marginBottom:"",marginTop:"",maxWidth:"calc(100% - ".concat(2*_.opts.imageDefaultMargin,"px)"),textAlign:"center"}):"left"==n?(a="0px",(r=(r=e.parent("span.fr-img-caption").get(0))||e.parent().get(0))&&"li"===r.tagName.toLowerCase()?a="20px":r&&"p"===r.tagName.toLowerCase()&&(a="15px"),e.css({"float":"left",marginLeft:0,maxWidth:"calc(100% - ".concat(_.opts.imageDefaultMargin,"px)"),textAlign:"left",marginRight:a})):e.css({"float":"right",marginRight:0,maxWidth:"calc(100% - ".concat(_.opts.imageDefaultMargin,"px)"),textAlign:"right"})):"block"==t&&(e.css({display:"block","float":"none",verticalAlign:"top",margin:"".concat(_.opts.imageDefaultMargin,"px auto"),textAlign:"center"}),"left"==n?e.css({marginLeft:0,textAlign:"left"}):"right"==n&&e.css({marginRight:0,textAlign:"right"}))}function I(e){if(e=void 0===e?M():e){if(e.hasClass("fr-fil"))return"left";if(e.hasClass("fr-fir"))return"right";if(e.hasClass("fr-dib")||e.hasClass("fr-dii"))return"center";var t=e.css("float");if(e.css("float","none"),"block"==e.css("display")){if(e.css("float",""),e.css("float")!=t&&e.css("float",t),0===parseInt(e.css("margin-left"),10))return"left";if(0===parseInt(e.css("margin-right"),10))return"right"}else{if(e.css("float",""),e.css("float")!=t&&e.css("float",t),"left"==e.css("float"))return"left";if("right"==e.css("float"))return"right"}}return"center"}function Ee(e){var t=(e=void 0===e?M():e).css("float");return e.css("float","none"),"block"==e.css("display")?(e.css("float",""),e.css("float")!=t&&e.css("float",t),"block"):(e.css("float",""),e.css("float")!=t&&e.css("float",t),"inline")}function ye(){_.popups.get("image.insert")||b();_.popups.isVisible("image.insert")||(l(),_.popups.refresh("image.insert"),_.popups.setContainer("image.insert",_.$sc));var e=M(),t=(e&&e.outerWidth(),F()&&(e=e.find(".fr-img-wrap"),C.outerWidth()),e.outerHeight(!0)),e=(_.opts.iframe&&F()&&(t=C?C.outerHeight():0),_.helpers.getImagePopupPosition(e)),n=e.top;_.popups.show("image.insert",e.left,n,t,!0)}function O(){var e;C&&(_.events.disableBlur(),_.selection.clear(),(e=_.doc.createRange()).selectNode(C.get(0)),_.browser.msie&&e.collapse(!0),_.selection.get().addRange(e),_.events.enableBlur())}function we(){return C}function M(){return F()?C.parents(".fr-img-caption").first():C}function F(){return!!C&&0<C.parents(".fr-img-caption").length}function P(e){for(var t=document.createDocumentFragment();e.firstChild;){var n=e.removeChild(e.firstChild);t.appendChild(n)}e.parentNode.replaceChild(t,e)}return{_init:function(){var a;_.events.$on(_.$el,_._mousedown,"IMG"==_.el.tagName?null:'img:not([contenteditable="false"])',function(e){if("false"==A(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable"))return!0;_.helpers.isMobile()||_.selection.clear(),t=!0,_.popups.areVisible()&&_.events.disableBlur(),_.browser.msie&&(_.events.disableBlur(),_.$el.attr("contenteditable",!1)),_.draggable||"touchstart"==e.type||e.preventDefault(),e.stopPropagation()}),_.events.$on(_.$el,_._mousedown,".fr-img-caption .fr-inner",function(e){_.core.hasFocus()||_.events.focus(),e.stopPropagation()}),_.events.$on(_.$el,"paste",".fr-img-caption .fr-inner",function(e){!0===_.opts.toolbarInline&&(_.toolbar.hide(),e.stopPropagation())}),_.events.$on(_.$el,_._mousedown,'img:not([contenteditable="false"])',function(e){var t=this;_.browser.mozilla&&3==e.which&&(A(this).attr("contenteditable",!1),setTimeout(function(){A(t).removeAttr("contenteditable")},200))}),_.events.$on(_.$el,_._mouseup,"IMG"==_.el.tagName?null:'img:not([contenteditable="false"])',function(e){if("false"==A(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable"))return!0;t&&(t=!1,e.stopPropagation(),_.browser.msie)&&(_.$el.attr("contenteditable",!0),_.events.enableBlur())}),_.events.on("keyup",function(e){var t;e.shiftKey&&""===_.selection.text().replace(/\n/g,"")&&_.keys.isArrow(e.which)&&(e=_.selection.element(),t=_.selection.endElement(),e&&"IMG"==e.tagName?x(A(e)):t&&"IMG"==t.tagName&&x(A(t)))},!0),_.events.on("drop",ee),_.events.on("element.beforeDrop",J),_.events.on("mousedown window.mousedown",be),_.events.on("window.touchmove",y),_.events.on("mouseup window.mouseup",function(){if(C&&!_.helpers.isMobile())return L(),!1;y()}),_.events.on("touchstart touchend",function(){if(C&&_.helpers.isMobile())return L(),!1;y()}),_.events.on("commands.mousedown",function(e){0<e.parents(".fr-toolbar").length&&L()}),_.events.on("image.resizeEnd",function(){_.opts.iframe&&_.size.syncIframe()}),_.events.on("blur image.hideResizer commands.undo commands.redo element.dropped",function(){L(!(t=!1))}),_.events.on("modals.hide",function(){C&&(O(),_.selection.clear())}),_.events.on("image.resizeEnd",function(){_.win.getSelection&&x(C)}),_.events.on("filestack-init",function(){b()}),_.events.on("filestack-init-edit",function(){for(var e=_.$(".fr-popup:not(.fr-do-not-hide)"),t=e.length-1;0<=t;t--)e[t].parentElement.removeChild(e[t]);V()}),_.opts.imageAddNewLine&&_.events.on("image.inserted",function(e){var t=e.get(0);for(t.nextSibling&&"BR"===t.nextSibling.tagName&&(t=t.nextSibling);t&&!_.node.isElement(t);)t=_.node.isLastSibling(t)?t.parentNode:null;_.node.isElement(t)&&(_.opts.enter===ct.ENTER_BR?e.after("<br>"):A(_.node.blockParent(e.get(0))).after("<".concat(_.html.defaultTag(),"><br></").concat(_.html.defaultTag(),">")))}),"IMG"==_.el.tagName&&_.$el.addClass("fr-view"),_.events.$on(_.$el,_.helpers.isMobile()&&!_.helpers.isWindowsPhone()?"touchend":"click","IMG"==_.el.tagName?null:'img:not([contenteditable="false"])',me),_.helpers.isMobile()&&(_.events.$on(_.$el,"touchstart","IMG"==_.el.tagName?null:'img:not([contenteditable="false"])',function(){n=!1}),_.events.$on(_.$el,"touchmove",function(){n=!0})),_.$wp?(_.events.on("window.keydown keydown",le,!0),_.events.on("keyup",function(e){if(C&&e.which==ct.KEYCODE.ENTER)return!1},!0),_.events.$on(_.$el,"keydown",function(){var e=_.selection.element();(e.nodeType===Node.TEXT_NODE||"BR"==e.tagName&&_.node.isLastSibling(e))&&(e=e.parentNode),_.node.hasClass(e,"fr-inner")||(_.node.hasClass(e,"fr-img-caption")||(e=A(e).parents(".fr-img-caption").get(0)),_.node.hasClass(e,"fr-img-caption")&&(_.opts.trackChangesEnabled||A(e).after(ct.INVISIBLE_SPACE+ct.MARKERS),_.selection.restore()))})):_.events.$on(_.$win,"keydown",le),_.events.on("toolbar.esc",function(){var e;if(C)return _.$wp?(_.events.disableBlur(),_.events.focus()):(e=C,L(!0),_.selection.setAfter(e.get(0)),_.selection.restore()),!1},!0),_.events.on("toolbar.focusEditor",function(){if(C)return!1},!0),_.events.on("window.cut window.copy",function(e){var t;C&&_.popups.isVisible("image.edit")&&!_.popups.get("image.edit").find(":focus").length&&(t=M(),F()?(t.before(ct.START_MARKER),t.after(ct.END_MARKER),_.selection.restore(),_.paste.saveCopiedText(t.get(0).outerHTML,t.text())):(O(),_.paste.saveCopiedText(C.get(0).outerHTML,C.attr("alt"))),"copy"==e.type?setTimeout(function(){x(C)}):(L(!0),_.undo.saveStep(),setTimeout(function(){_.undo.saveStep()},0)))},!0),_.browser.msie&&_.events.on("keydown",function(e){if(!_.selection.isCollapsed()||!C)return!0;var t=e.which;t==ct.KEYCODE.C&&_.keys.ctrlKey(e)?_.events.trigger("window.copy"):t==ct.KEYCODE.X&&_.keys.ctrlKey(e)&&_.events.trigger("window.cut")}),_.events.$on(A(_.o_win),"keydown",function(e){if(_.opts.pluginsEnabled.includes("filestack")&&_.opts.iframe){var t=document.getElementsByClassName("fs-transforms-container"),n=!1;if(t&&t.length){var a,r=_e(t);try{for(r.s();!(a=r.n()).done;){var i=a.value;i.childNodes&&i.childNodes.length&&(n=!0)}}catch(o){r.e(o)}finally{r.f()}}n&&(C=null)}t=e.which;if(C&&t==ct.KEYCODE.BACKSPACE)return e.preventDefault(),!1}),_.events.$on(_.$win,"keydown",function(e){e=e.which;C&&C.hasClass("fr-uploading")&&e==ct.KEYCODE.ESC&&C.trigger("abortUpload")}),_.events.on("destroy",function(){C&&C.hasClass("fr-uploading")&&C.trigger("abortUpload")}),_.events.on("paste.before",ge),_.events.on("paste.beforeCleanup",he),_.events.on("paste.after",fe),_.events.on("html.set",e),_.events.on("html.inserted",e),e(),_.events.on("destroy",function(){f=[]}),_.events.on("html.processGet",ce),_.opts.imageOutputSize&&_.events.on("html.beforeGet",function(){a=_.el.querySelectorAll("img");for(var e=0;e<a.length;e++){var t=parseFloat(A(a[e]).css("padding-left"))+parseFloat(A(a[e]).css("padding-right")),t=A(a[e]).width()-t,t=a[e].style.width||t,n=a[e].style.height||A(a[e]).height();t&&a[e].setAttribute("width","".concat(t).replace(/px/,"")),n&&a[e].setAttribute("height","".concat(n).replace(/px/,""))}}),_.opts.iframe&&_.events.on("image.loaded",_.size.syncIframe),_.$wp&&(u(),_.events.on("contentChanged",u)),_.events.$on(A(_.o_win),"orientationchange.image",function(){setTimeout(function(){C&&x(C)},100)}),V(!0),b(!0),oe(!0),ae(!0),_.events.on("node.remove",function(e){if("IMG"==e.get(0).tagName)return E(e),!1})},showInsertPopup:function(){var e,t,n=_.$tb.find('.fr-command[data-cmd="insertImage"]'),a=(a=_.popups.get("image.insert"))||b();l(),a.hasClass("fr-active")||(_.popups.refresh("image.insert"),_.popups.setContainer("image.insert",_.$tb),n.isVisible()?(t=(e=_.button.getPosition(n)).left,_.popups.show("image.insert",t,e.top,n.outerHeight())):(_.position.forSelection(a),_.popups.show("image.insert")))},showLayer:function(e){var t,n,a,r=_.popups.get("image.insert");C||_.opts.toolbarInline?C&&(n=M(),t=0,F()&&(n=n.find(".fr-img-wrap"),t=C.outerWidth()/2),a=(n=_.helpers.getImagePopupPosition(n)).topPosition,n=n.leftPosition+t):(n=(t=_.$tb.find('.fr-command[data-cmd="insertImage"]')).offset().left,a=t.offset().top+(_.opts.toolbarBottom?10:t.outerHeight()-10)),!C&&_.opts.toolbarInline&&(a=r.offset().top-_.helpers.getPX(r.css("margin-top")),r.hasClass("fr-above"))&&(a+=r.outerHeight()),r.find(".fr-layer").removeClass("fr-active"),r.find(".fr-".concat(e,"-layer")).addClass("fr-active"),_.popups.show("image.insert",n,a,C?C.outerHeight():0,F()),_.accessibility.focusPopup(r)},refreshUploadButton:function(e){var t=_.popups.get("image.insert");t&&t.find(".fr-image-upload-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)},refreshByURLButton:function(e){var t=_.popups.get("image.insert");t&&t.find(".fr-image-by-url-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)},upload:v,insertByURL:function(){var e,t,n=_.popups.get("image.insert").find(".fr-image-by-url-layer input");0<n.val().length&&(R(),h(_.language.translate("Loading image")),e=n.val().trim(),_.opts.imageUploadRemoteUrls&&_.opts.imageCORSProxy&&_.opts.imageUpload?((t=new XMLHttpRequest).onload=function(){200==this.status?v([new Blob([this.response],{type:this.response.type||"image/png"})],C):S(a)},t.onerror=function(){m(e,!0,[],C)},t.open("GET","".concat(_.opts.imageCORSProxy,"/").concat(e),!0),t.responseType="blob",t.send()):m(e,!0,[],C),n.val(""),n.blur())},align:function(e){var t=M();t.removeClass("fr-fir fr-fil"),!_.opts.htmlUntouched&&_.opts.useClasses?"left"==e?t.addClass("fr-fil"):"right"==e&&t.addClass("fr-fir"):w(t,Ee(),e),O(),k(),o(),_.selection.clear()},refreshAlign:function(e){C&&e.find("> *").first().replaceWith(_.icon.create("image-align-".concat(I())))},refreshAlignOnShow:function(e,t){C&&t.find('.fr-command[data-param1="'.concat(I(),'"]')).addClass("fr-active").attr("aria-selected",!0)},display:function(e){var t=M();t.removeClass("fr-dii fr-dib"),!_.opts.htmlUntouched&&_.opts.useClasses?"inline"==e?t.addClass("fr-dii"):"block"==e&&t.addClass("fr-dib"):w(t,e,I()),O(),k(),o(),_.selection.clear()},refreshDisplayOnShow:function(e,t){C&&t.find('.fr-command[data-param1="'.concat(Ee(),'"]')).addClass("fr-active").attr("aria-selected",!0)},replace:ye,back:function(){C?(_.events.disableBlur(),A(".fr-popup input:focus").blur(),x(C)):(_.events.disableBlur(),_.selection.restore(),_.events.enableBlur(),_.popups.hide("image.insert"),_.toolbar.showInline())},get:we,getEl:M,insert:m,showProgressBar:R,remove:E,hideProgressBar:l,applyStyle:function(e,t,n){if(void 0===t&&(t=_.opts.imageStyles),void 0===n&&(n=_.opts.imageMultipleStyles),!C)return!1;var a=M();n||((n=Object.keys(t)).splice(n.indexOf(e),1),a.removeClass(n.join(" "))),"object"==dt(t[e])?(a.removeAttr("style"),a.css(t[e].style)):(a.toggleClass(e),F()&&C.hasClass(e)&&C.removeClass(e)),x(C)},showAltPopup:ne,showSizePopup:ie,setAlt:function(e){var t;C&&(t=_.popups.get("image.alt"),C.attr("alt",e||t.find("input").val()||""),t.find("input:focus").blur(),x(C))},setSize:function(e,t){var n,a;C&&(n=_.popups.get("image.size"),e=e||n.find('input[name="width"]').val()||"",t=t||n.find('input[name="height"]').val()||"",a=/^[\d]+((px)|%)*$/g,C.removeAttr("width").removeAttr("height"),e.match(a)?C.css("width",e):C.css("width",""),t.match(a)?C.css("height",t):C.css("height",""),F()&&(C.parents(".fr-img-caption").removeAttr("width").removeAttr("height"),e.match(a)?C.parents(".fr-img-caption").css("width",e):C.parents(".fr-img-caption").css("width",""),t.match(a)?C.parents(".fr-img-caption").css("height",t):C.parents(".fr-img-caption").css("height","")),n&&n.find("input:focus").blur(),x(C))},toggleCaption:function(){var e,t=_.$el.get(0),n=["fr-dii","fr-dib","fr-fil","fr-fir"];if(C&&!F()){(e=C).parent().is("a")&&(e=C.parent());var a=C.parents("ul")&&0<C.parents("ul").length?C.parents("ul"):C.parents("ol")&&0<C.parents("ol").length?C.parents("ol"):[],r=(0<a.length&&(r=a.find("li").length,i=C.parents("li"),o=document.createElement("li"),r-1===i.index())&&(a.append(o),o.innerHTML="&nbsp;"),(C.attr("class")||"").split(/\s+/)),i=r.filter(function(e){return n.includes(e)}),o=(C.attr("class",r.filter(function(e){return!n.includes(e)}).join(" ")),e.attr("style")?p=-1<(a=e.attr("style").split(":")).indexOf("width")?a[a.indexOf("width")+1].replace(";",""):"":e.attr("width")&&(p=e.attr("width")),_.opts.imageResizeWithPercent?(-1<p.indexOf("px")?null:p)||"100%":C.width()+"px"),r=(e.wrap('<div class="fr-img-space-wrap"><span '+(_.browser.mozilla?"":'contenteditable="false"')+'class="fr-img-caption '+i.join(" ")+'" style="'+(e.attr("style")||"")+'" draggable="false"></span></div>'),e.wrap('<span class="fr-img-wrap"></span>'),C.after('<span class="fr-inner"'.concat(_.browser.mozilla?"":' contenteditable="true"',">").concat(ct.START_MARKER).concat(_.language.translate("Image Caption")).concat(ct.END_MARKER,"</span>")),C.parents(".fr-img-caption").css("width",o),C.parents(".fr-img-space-wrap").length);1==r?P(t.querySelector(".fr-img-space-wrap")):1<r&&(P(t.querySelector(".fr-img-space-wrap")),P(t.querySelector(".fr-img-space-wrap2"))),L(!0),_.selection.restore()}else{if(e=M(),C.insertBefore(e),null!==e[0].querySelector("a")){for(var s,a=e[0].querySelector("a"),l=document.createElement("a"),c=0,d=a.attributes,f=d.length;c<f;c++)s=d[c],l.setAttribute(s.nodeName,s.nodeValue);C.wrap(l)}var p=(e.attr("class")||"").split(/\s+/),u=["fr-img-caption"],i=p.filter(function(e){return!u.includes(e)}),o=(C.attr("class")||"").split(/\s+/),r=Ce(new Set(o.concat(i))),a=(C.attr("class",r.join(" ")).attr("style",e.attr("style")),e.remove(),C.parents(".fr-img-space-wrap").length);1==a?P(t.querySelector(".fr-img-space-wrap")):1<a&&(P(t.querySelector(".fr-img-space-wrap")),P(t.querySelector(".fr-img-space-wrap2"))),x(C)}},hasCaption:F,exitEdit:L,edit:x}},ct.DefineIcon("insertImage",{NAME:"image",SVG_KEY:"insertImage"}),ct.RegisterShortcut(ct.KEYCODE.P,"insertImage",null,"P"),ct.RegisterCommand("insertImage",{title:"Insert Image",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("image.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("image.insert")):this.image.showInsertPopup()},plugin:"image"}),ct.DefineIcon("imageUpload",{NAME:"upload",SVG_KEY:"upload"}),ct.RegisterCommand("imageUpload",{title:"Upload Image",undo:!1,focus:!1,toggle:!0,callback:function(){this.image.showLayer("image-upload")},refresh:function(e){this.image.refreshUploadButton(e)}}),ct.DefineIcon("imageByURL",{NAME:"link",SVG_KEY:"insertLink"}),ct.RegisterCommand("imageByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.image.showLayer("image-by-url")},refresh:function(e){this.image.refreshByURLButton(e)}}),ct.RegisterCommand("imageInsertByURL",{title:"Insert Image",undo:!0,refreshAfterCallback:!1,callback:function(){this.image.insertByURL()},refresh:function(e){this.image.get()?e.text(this.language.translate("Replace")):e.text(this.language.translate("Insert"))}}),ct.DefineIcon("imageDisplay",{NAME:"star",SVG_KEY:"imageDisplay"}),ct.RegisterCommand("imageDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(e,t){this.image.display(t)},refresh:function(e){this.opts.imageTextNear||e.addClass("fr-hidden")},refreshOnShow:function(e,t){this.image.refreshDisplayOnShow(e,t)}}),ct.DefineIcon("image-align",{NAME:"align-left",SVG_KEY:"alignLeft"}),ct.DefineIcon("image-align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),ct.DefineIcon("image-align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),ct.DefineIcon("image-align-center",{NAME:"align-justify",SVG_KEY:"alignCenter"}),ct.DefineIcon("imageAlign",{NAME:"align-justify",SVG_KEY:"alignJustify"}),ct.RegisterCommand("imageAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"Align Center",right:"Align Right"},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=ct.COMMANDS.imageAlign.options;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="imageAlign" data-param1="'.concat(e,'" title="').concat(this.language.translate(n[e]),'">').concat(this.icon.create("image-align-".concat(e)),'<span class="fr-sr-only">').concat(this.language.translate(n[e]),"</span></a></li>"));return t+="</ul>"},callback:function(e,t){this.image.align(t)},refresh:function(e){this.image.refreshAlign(e)},refreshOnShow:function(e,t){this.image.refreshAlignOnShow(e,t)}}),ct.DefineIcon("imageReplace",{NAME:"exchange",FA5NAME:"exchange-alt",SVG_KEY:"replaceImage"}),ct.RegisterCommand("imageReplace",{title:"Replace",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,callback:function(){this.image.replace()}}),ct.DefineIcon("imageRemove",{NAME:"trash",SVG_KEY:"remove"}),ct.RegisterCommand("imageRemove",{title:"Remove",callback:function(){this.image.remove()}}),ct.DefineIcon("imageBack",{NAME:"arrow-left",SVG_KEY:"back"}),ct.RegisterCommand("imageBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.image.back()},refresh:function(e){this.$,this.image.get()||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),ct.RegisterCommand("imageDismissError",{title:"OK",undo:!1,callback:function(){this.image.hideProgressBar(!0)}}),ct.DefineIcon("imageStyle",{NAME:"magic",SVG_KEY:"imageClass"}),ct.RegisterCommand("imageStyle",{title:"Style",type:"dropdown",html:function(){var e,t,n='<ul class="fr-dropdown-list" role="presentation">',a=this.opts.imageStyles;for(e in a)a.hasOwnProperty(e)&&("object"==dt(t=a[e])&&(t=t.title),n+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="imageStyle" data-param1="'.concat(e,'">').concat(this.language.translate(t),"</a></li>"));return n+="</ul>"},callback:function(e,t){this.image.applyStyle(t)},refreshOnShow:function(e,t){var n=this.$,a=this.image.getEl();a&&t.find(".fr-command").each(function(){var e=n(this).data("param1"),e=a.hasClass(e);n(this).toggleClass("fr-active",e).attr("aria-selected",e)})}}),ct.DefineIcon("imageAlt",{NAME:"info",SVG_KEY:"imageAltText"}),ct.RegisterCommand("imageAlt",{undo:!1,focus:!1,popup:!0,title:"Alternative Text",callback:function(){this.image.showAltPopup()}}),ct.RegisterCommand("imageSetAlt",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setAlt()}}),ct.DefineIcon("imageSize",{NAME:"arrows-alt",SVG_KEY:"imageSize"}),ct.RegisterCommand("imageSize",{undo:!1,focus:!1,popup:!0,title:"Change Size",callback:function(){this.image.showSizePopup()}}),ct.RegisterCommand("imageSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setSize()}}),ct.DefineIcon("imageCaption",{NAME:"commenting",FA5NAME:"comment-alt",SVG_KEY:"imageCaption"}),ct.RegisterCommand("imageCaption",{undo:!0,focus:!1,title:"Image Caption",refreshAfterCallback:!0,callback:function(){this.image.toggleCaption()},refresh:function(e){this.image.get()&&e.toggleClass("fr-active",this.image.hasCaption())}}),Object.assign(ct.DEFAULTS,{imageManagerLoadURL:"https://i.froala.com/load-files",imageManagerLoadMethod:"get",imageManagerLoadParams:{},imageManagerPreloader:null,imageManagerDeleteURL:"",imageManagerDeleteMethod:"post",imageManagerDeleteParams:{},imageManagerPageSize:12,imageManagerScrollOffset:20,imageManagerToggleTags:!0}),ct.PLUGINS.imageManager=function(s){var i,l,n,r,o,c,d,f,p,u,a,g=s.$,h="image_manager",t=10,m=11,v=12,b=13,E=14,y=15,w=21,_=22,C={};function A(){var e=g(window).outerWidth();return e<768?2:e<1200?3:4}function T(){o.empty();for(var e=0;e<a;e++)o.append('<div class="fr-list-column"></div>')}function k(){if(p<d.length&&n[0].scrollTop>=n[0].scrollHeight-s.opts.imageManagerScrollOffset-n.outerHeight()){f++;for(var e=s.opts.imageManagerPageSize*(f-1);e<Math.min(d.length,s.opts.imageManagerPageSize*f);e++)!function(r){var i=new Image,o=g(document.createElement("div")).attr("class","fr-image-container fr-empty fr-image-"+u++).attr("data-loading",s.language.translate("Loading")+"..").attr("data-deleting",s.language.translate("Deleting")+"..");L(!1),i.onload=function(){o.height(Math.floor(o.width()/i.width*i.height));var e,n=g(document.createElement("img"));if(r.thumb)n.attr("src",r.thumb);else{if(F(E,r),!r.url)return F(y,r),!1;n.attr("src",r.url)}if(r.url&&n.attr("data-url",r.url),r.tag)if(l.find(".fr-modal-more.fr-not-available").removeClass("fr-not-available"),l.find(".fr-modal-tags").show(),0<=r.tag.indexOf(",")){for(var t=r.tag.split(","),a=0;a<t.length;a++)t[a]=t[a].trim(),0===c.find('a[title="'.concat(t[a],'"]')).length&&c.append('<a role="button" title="'.concat(t[a],'">').concat(t[a],"</a>"));n.attr("data-tag",t.join())}else 0===c.find('a[title="'.concat(r.tag.trim(),'"]')).length&&c.append('<a role="button" title="'.concat(r.tag.trim(),'">').concat(r.tag.trim(),"</a>")),n.attr("data-tag",r.tag.trim());for(e in r.name&&n.attr("alt",r.name),r)r.hasOwnProperty(e)&&"thumb"!==e&&"url"!==e&&"tag"!==e&&n.attr("data-".concat(e),r[e]);o.append(n).append(g(s.icon.create("imageManagerDelete")).addClass("fr-delete-img").attr("title",s.language.translate("Delete"))).append(g(s.icon.create("imageManagerInsert")).addClass("fr-insert-img").attr("title",s.language.translate("Insert"))),c.find(".fr-selected-tag").each(function(e,t){N(n,t.text)||o.hide()}),n.on("load",function(){o.removeClass("fr-empty"),o.height("auto"),p++,x(R(parseInt(n.parent().attr("class").match(/fr-image-(\d+)/)[1],10)+1)),L(!1),p%s.opts.imageManagerPageSize==0&&k()}),s.events.trigger("imageManager.imageLoaded",[n])},i.onerror=function(){p++,o.remove(),x(R(parseInt(o.attr("class").match(/fr-image-(\d+)/)[1],10)+1)),F(t,r),p%s.opts.imageManagerPageSize==0&&k()},i.src=r.thumb||r.url,S().append(o)}(d[e])}}function S(){var n,a;return o.find(".fr-list-column").each(function(e,t){t=g(t);(0===e||t.outerHeight()<a)&&(a=t.outerHeight(),n=t)}),n}function R(e){e===undefined&&(e=0);for(var t=[],n=u-1;e<=n;n--){var a=o.find(".fr-image-".concat(n));a.length&&(t.push(a),g(document.createElement("div")).attr("id","fr-image-hidden-container").append(a),o.find(".fr-image-".concat(n)).remove())}return t}function x(e){for(var t=e.length-1;0<=t;t--)S().append(e[t])}function L(e){var t;e===undefined&&(e=!0),i.isVisible()&&((t=A())!==a&&(a=t,t=R(),T(),x(t)),s.modals.resize(h),e)&&k()}function I(e){for(var t,n=e[0].attributes,a=n.length,r={};a--;)n[a]&&"src"!==(t=n[a].name)&&(r[t]=n[a].value);return r}function O(e){var t,n,e=g(e.currentTarget).siblings("img"),a=i.data("instance")||s,r=i.data("current-image");s.modals.hide(h),a.image.showProgressBar(),r?(r.data("fr-old-src",r.attr("src")),r.trigger("click")):(a.events.focus(!0),a.selection.restore(),t=(n=a.position.getBoundingRect()).left+n.width/2+g(s.doc).scrollLeft(),n=n.top+n.height+g(s.doc).scrollTop(),a.popups.setContainer("image.insert",s.$sc),a.popups.show("image.insert",t,n)),a.image.insert(e.data("url"),!1,I(e),r)}function M(e){var a=g(e.currentTarget).siblings("img"),e=s.language.translate("Are you sure? Image will be deleted.");confirm(e)&&(s.opts.imageManagerDeleteURL?!1!==s.events.trigger("imageManager.beforeDeleteImage",[a])&&(a.parent().addClass("fr-image-deleting"),g(this).ajax({method:s.opts.imageManagerDeleteMethod,url:s.opts.imageManagerDeleteURL,data:Object.assign(Object.assign({src:a.attr("src")},I(a)),s.opts.imageManagerDeleteParams),crossDomain:s.opts.requestWithCORS,withCredentials:s.opts.requestWithCredentials,headers:s.opts.requestHeaders,done:function(e,t,n){s.events.trigger("imageManager.imageDeleted",[e]);e=R(parseInt(a.parent().attr("class").match(/fr-image-(\d+)/)[1],10)+1);a.parent().remove(),x(e),i.find("#fr-modal-tags > a").each(function(){0===i.find('#fr-image-list [data-tag*="'.concat(g(this).text(),'"]')).length&&g(this).removeClass("fr-selected-tag").hide()}),P(),L(!0)},fail:function(e){F(w,e.response||e.responseText)}})):F(_))}function F(e,t){10<=e&&e<20?r.hide():20<=e&&e<30&&g(".fr-image-deleting").removeClass("fr-image-deleting"),s.events.trigger("imageManager.error",[{code:e,message:C[e]},t])}function D(){var e=l.find(".fr-modal-head-line").outerHeight(),t=c.outerHeight();l.toggleClass("fr-show-tags"),l.hasClass("fr-show-tags")?(l.css("height",e+t),n.css("marginTop",e+t),c.find("a").css("opacity",1)):(l.css("height",e),n.css("marginTop",e),c.find("a").css("opacity",0))}function P(){var e=c.find(".fr-selected-tag");0<e.length?(o.find("img").parents().show(),e.each(function(e,n){o.find("img").each(function(e,t){t=g(t);N(t,n.text)||t.parent().hide()})})):o.find("img").parents().show(),x(R()),k()}function B(e){e.preventDefault();e=g(e.currentTarget);e.toggleClass("fr-selected-tag"),s.opts.imageManagerToggleTags&&e.siblings("a").removeClass("fr-selected-tag"),P()}function N(e,t){for(var n=(e.attr("data-tag")||"").split(","),a=0;a<n.length;a++)if(n[a]===t)return 1}return C[t]="Image cannot be loaded from the passed link.",C[m]="Error during load images request.",C[v]="Missing imageManagerLoadURL option.",C[b]="Parsing load response failed.",C[E]="Missing image thumb.",C[y]="Missing image URL.",C[w]="Error during delete image request.",C[_]="Missing imageManagerDeleteURL option.",{require:["image"],_init:function(){if(!s.$wp&&"IMG"!==s.el.tagName)return!1},show:function(){var e,t;i||(t='<button class="fr-command fr-btn fr-modal-more fr-not-available" id="fr-modal-more-'.concat(s.sid,'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24""><path d="').concat(ct.SVG.tags,'"/></svg></button><h4 data-text="true">').concat(s.language.translate("Manage Images"),'</h4></div>\n      <div class="fr-modal-tags" id="fr-modal-tags">'),e=s.opts.imageManagerPreloader?'<img class="fr-preloader" id="fr-preloader" alt="'.concat(s.language.translate("Loading"),'.." src="').concat(s.opts.imageManagerPreloader,'" style="display: none;">'):'<span class="fr-preloader" id="fr-preloader" style="display: none;">'.concat(s.language.translate("Loading"),"</span>"),t=s.modals.create(h,t,e+='<div class="fr-image-list" id="fr-image-list"></div>'),i=t.$modal,l=t.$head,n=t.$body),i.data("current-image",s.image.get()),s.modals.show(h),r||(r=i.find("#fr-preloader"),o=i.find("#fr-image-list"),c=i.find("#fr-modal-tags"),a=A(),T(),l.css("height",l.find(".fr-modal-head-line").outerHeight()),s.events.$on(g(s.o_win),"resize",function(){L(!!d)}),s.events.bindClick(o,".fr-insert-img",O),s.events.bindClick(o,".fr-delete-img",M),s.helpers.isMobile()&&(s.events.bindClick(o,"div.fr-image-container",function(e){i.find(".fr-mobile-selected").removeClass("fr-mobile-selected"),g(e.currentTarget).addClass("fr-mobile-selected")}),i.on(s._mousedown,function(){i.find(".fr-mobile-selected").removeClass("fr-mobile-selected")})),i.on(s._mousedown+" "+s._mouseup,function(e){e.stopPropagation()}),i.on(s._mousedown,"*",function(){s.events.disableBlur()}),n.on("scroll",k),s.events.bindClick(i,"button#fr-modal-more-".concat(s.sid),D),s.events.bindClick(c,"a",B)),function(){r.show(),o.find(".fr-list-column").empty(),s.opts.imageManagerLoadURL?g(this).ajax({url:s.opts.imageManagerLoadURL,method:s.opts.imageManagerLoadMethod,data:s.opts.imageManagerLoadParams,crossDomain:s.opts.requestWithCORS,withCredentials:s.opts.requestWithCredentials,headers:s.opts.requestHeaders,done:function(e,t,n){s.events.trigger("imageManager.imagesLoaded",[e]);n=n.response;try{o.find(".fr-list-column").empty(),u=p=f=0,d=JSON.parse(e),k()}catch(a){F(b,n)}r.hide()},fail:function(e){F(m,e.response||e.responseText)}}):F(v)}()},hide:function(){s.modals.hide(h)}}},!ct.PLUGINS.image)throw new Error("Image manager plugin requires image plugin.");function r(e){var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `\xab\xab\xab` and `\xbb\xbb\xbb` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n,a={};for(n in t)t.hasOwnProperty(n)&&(a[n]=t[n].defaultValue);return a}ct.DEFAULTS.imageInsertButtons.push("imageManager"),ct.RegisterCommand("imageManager",{title:"Browse",undo:!1,focus:!1,modal:!0,callback:function(){this.imageManager.show()},plugin:"imageManager"}),ct.DefineIcon("imageManager",{NAME:"folder",SVG_KEY:"imageManager"}),ct.DefineIcon("imageManagerInsert",{NAME:"plus",SVG_KEY:"add"}),ct.DefineIcon("imageManagerDelete",{NAME:"trash",SVG_KEY:"remove"}),Object.assign(ct.DEFAULTS,{inlineClasses:{"fr-class-code":"Code","fr-class-highlighted":"Highlighted","fr-class-transparency":"Transparent"}}),ct.PLUGINS.inlineClass=function(n){var a=n.$;return{apply:function(e){n.format.toggle("span",{"class":e})},refreshOnShow:function(e,t){t.find(".fr-command").each(function(){var e=a(this).data("param1"),e=n.format.is("span",{"class":e});a(this).toggleClass("fr-active",e).attr("aria-selected",e)})}}},ct.RegisterCommand("inlineClass",{type:"dropdown",title:"Inline Class",html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=this.opts.inlineClasses;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineClass" data-param1="'.concat(e,'" title="').concat(n[e],'">').concat(n[e],"</a></li>"));return t+="</ul>"},callback:function(e,t){this.inlineClass.apply(t)},refreshOnShow:function(e,t){this.inlineClass.refreshOnShow(e,t)},plugin:"inlineClass"}),ct.DefineIcon("inlineClass",{NAME:"tag",SVG_KEY:"inlineClass"}),Object.assign(ct.DEFAULTS,{inlineStyles:{"Big Red":"font-size: 20px; color: red;","Small Blue":"font-size: 14px; color: blue;"}}),ct.PLUGINS.inlineStyle=function(r){return{apply:function(e){for(var t=e.split(";"),n=0;n<t.length;n++){var a=t[n].split(":");t[n].length&&2==a.length&&r.format.applyStyle(a[0].trim(),a[1].trim())}}}},ct.RegisterCommand("inlineStyle",{type:"dropdown",html:function(){var e,t,n='<ul class="fr-dropdown-list" role="presentation">',a=this.opts.inlineStyles;for(e in a)a.hasOwnProperty(e)&&(t=a[e]+(-1===a[e].indexOf("display:block;")?" display:block;":""),n+='<li role="presentation"><span style="'.concat(t,'" role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineStyle" data-param1="').concat(a[e],'" title="').concat(this.language.translate(e),'">').concat(this.language.translate(e),"</a></span></li>"));return n+="</ul>"},title:"Inline Style",callback:function(e,t){this.inlineStyle.apply(t)},plugin:"inlineStyle"}),ct.DefineIcon("inlineStyle",{NAME:"paint-brush",SVG_KEY:"inlineStyle"}),Object.assign(ct.DEFAULTS,{lineBreakerTags:["table","hr","form","dl","span.fr-video",".fr-embedly","img"],lineBreakerOffset:15,lineBreakerHorizontalOffset:10}),ct.PLUGINS.lineBreaker=function(s){var l,t,c,d=s.$;function f(e,t){var n,a;if(null==e)i=(r=t.parent()).offset().top,n=(n=t.offset().top)-Math.min((n-i)/2,s.opts.lineBreakerOffset);else if(null==t)(i=(r=e.parent()).offset().top+r.outerHeight())<(o=e.offset().top+e.outerHeight())&&(i=(r=d(r).parent()).offset().top+r.outerHeight()),n=o+Math.min(Math.abs(i-o)/2,s.opts.lineBreakerOffset);else{var r=e.parent(),i=e.offset().top+e.height(),o=t.offset().top;if(o<i)return;n=(i+o)/2}i=r.outerWidth(),o=r.offset().left,s.opts.iframe&&(r=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),a=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left")),o+=s.$iframe.offset().left-s.helpers.scrollLeft()+a,n+=s.$iframe.offset().top-s.helpers.scrollTop()+r),s.$box.append(l),l.css("top",n-s.win.pageYOffset),l.css("left",o-s.win.pageXOffset),l.css("width",i),l.data("tag1",e),l.data("tag2",t),l.addClass("fr-visible").data("instance",s)}function p(e){if(e){var t=d(e);if(0===s.$el.find(t).length)return null;if(e.nodeType!=Node.TEXT_NODE&&t.is(s.opts.lineBreakerTags.join(",")))return t;if(0<t.parents(s.opts.lineBreakerTags.join(",")).length)return e=t.parents(s.opts.lineBreakerTags.join(",")).get(0),0!==s.$el.find(d(e)).length&&d(e).is(s.opts.lineBreakerTags.join(","))?d(e):null}return null}function i(e,t){e=s.doc.elementFromPoint(e,t);return e&&!d(e).closest(".fr-line-breaker").length&&!s.node.isElement(e)&&e!=s.$wp.get(0)&&function(e){if("undefined"!=typeof e.inFroalaWrapper)return e.inFroalaWrapper;for(var t=e;e.parentNode&&e.parentNode!==s.$wp.get(0);)e=e.parentNode;return t.inFroalaWrapper=e.parentNode==s.$wp.get(0),t.inFroalaWrapper}(e)?e:null}function u(e,t,n){for(var a=n,r=null;a<=s.opts.lineBreakerOffset&&!r;)r=(r=i(e,t-a))||i(e,t+a),a+=n;return r}function g(e,t,n){for(var a=null,r=100;!a&&e>s.$box.offset().left&&e<s.$box.offset().left+s.$box.outerWidth()&&0<r;)a=(a=i(e,t))||u(e,t,5),"left"==n?e-=s.opts.lineBreakerHorizontalOffset:e+=s.opts.lineBreakerHorizontalOffset,r-=s.opts.lineBreakerHorizontalOffset;return a}function n(e){var t=c=null,n=s.doc.elementFromPoint(e.pageX-s.win.pageXOffset,e.pageY-s.win.pageYOffset);if(t=n&&("HTML"==n.tagName||"BODY"==n.tagName||s.node.isElement(n)||0<=(n.getAttribute("class")||"").indexOf("fr-line-breaker"))?p(u(e.pageX-s.win.pageXOffset,e.pageY-s.win.pageYOffset,1)||g(e.pageX-s.win.pageXOffset-s.opts.lineBreakerHorizontalOffset,e.pageY-s.win.pageYOffset,"left")||g(e.pageX-s.win.pageXOffset+s.opts.lineBreakerHorizontalOffset,e.pageY-s.win.pageYOffset,"right")):p(n)){var a,n=t,t=e.pageY,e=n.offset().top,r=n.offset().top+n.outerHeight();if(Math.abs(r-t)<=s.opts.lineBreakerOffset||Math.abs(t-e)<=s.opts.lineBreakerOffset)if(Math.abs(r-t)<Math.abs(t-e)){var i,o=null;for((i=n.get(0)).nextSibling&&(o=i.nextSibling.offsetParent?i.nextSibling:null);o&&o.nodeType==Node.TEXT_NODE&&0===o.textContent.length;)o=o.nextSibling;if(!o)return void f(n,null);if(a=p(o))return void f(n,a)}else{if(!(i=n.get(0)).previousSibling)return void f(null,n);if(a=p(i.previousSibling))return void f(a,n)}l.removeClass("fr-visible").removeData("instance")}else s.core.sameInstance(l)&&l.removeClass("fr-visible").removeData("instance")}function e(e){return!(l.hasClass("fr-visible")&&!s.core.sameInstance(l))&&(s.popups.areVisible()||s.el.querySelector(".fr-selected-cell")?(l.removeClass("fr-visible"),!0):void(!1!==t||s.edit.isDisabled()||(c&&clearTimeout(c),c=setTimeout(n,30,e))))}function a(){c&&clearTimeout(c),l&&l.hasClass("fr-visible")&&l.removeClass("fr-visible").removeData("instance")}var r=function r(){t=!0,a()},o=function o(){t=!1};function h(e){e.preventDefault();var t,n,a,e=l.data("instance")||s,r=(l.removeClass("fr-visible").removeData("instance"),l.data("tag1")),i=l.data("tag2"),o=s.html.defaultTag();null==r?s.opts.keepTextFormatOnTable&&i.children().get(0)!=undefined&&"TBODY"==i.children().get(0).tagName?(n=null!=(a=null!=(t=i.find("span"))[t.length-1]?t[t.length-1].getAttribute("style"):null)?"<"+t[t.length-1].nodeName.toLowerCase()+' style="'+a+'">':"<"+i.parent().get(0).nodeName.toLowerCase()+">",a=null!=a?"</"+t[t.length-1].nodeName.toLowerCase()+">":"</"+i.parent().get(0).nodeName.toLowerCase()+">",o?i.before("<".concat(o,">").concat(n).concat(ct.MARKERS,"<br>").concat(a,"</").concat(o,">")):i.before("".concat(n).concat(ct.MARKERS,"<br>").concat(a))):o&&"TD"!=i.parent().get(0).tagName&&0===i.parents(o).length?i.before("<".concat(o,">").concat(ct.MARKERS,"<br></").concat(o,">")):i.before("".concat(ct.MARKERS,"<br>")):s.opts.keepTextFormatOnTable&&r.children().get(0)!=undefined&&"TBODY"==r.children().get(0).tagName?(a=null!=(n=null!=(t=r.find("span"))[t.length-1]?t[t.length-1].getAttribute("style"):null)?"<"+t[t.length-1].nodeName.toLowerCase()+' style="'+n+'">':"<"+r.parent().get(0).nodeName.toLowerCase()+">",i=null!=n?"</"+t[t.length-1].nodeName.toLowerCase()+">":"</"+r.parent().get(0).nodeName.toLowerCase()+">",o?r.after("<".concat(o,">").concat(a).concat(ct.MARKERS,"<br>").concat(i,"</").concat(o,">")):r.after("".concat(a).concat(ct.MARKERS,"<br>").concat(i))):o&&"TD"!=r.parent().get(0).tagName&&0===r.parents(o).length?r.after("<".concat(o,">").concat(ct.MARKERS,"<br></").concat(o,">")):r.after("".concat(ct.MARKERS,"<br>")),e.selection.restore(),s.undo.saveStep(),s.toolbar.enable()}return{_init:function(){if(!s.$wp)return!1;s.shared.$line_breaker||(s.shared.$line_breaker=d(document.createElement("div")).attr("class","fr-line-breaker").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(s.language.translate("Break"),'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><rect x="17" y="7" width="2" height="8"/><rect x="10" y="13" width="7" height="2"/><path d="M10.000,10.000 L10.000,18.013 L5.000,14.031 L10.000,10.000 Z"/></svg></a>'))),l=s.shared.$line_breaker,s.events.on("shared.destroy",function(){l.html("").removeData().remove(),l=null},!0),s.events.on("destroy",function(){l.removeData("instance").removeClass("fr-visible"),d("body").first().append(l),clearTimeout(c)},!0),s.events.$on(l,"mousemove",function(e){e.stopPropagation()},!0),s.events.bindClick(l,"a",h),t=!1,s.events.$on(s.$win,"mousemove",e),s.events.$on(d(s.win),"scroll",a),s.events.on("popups.show.table.edit",a),s.events.on("commands.after",a),s.events.$on(d(s.win),"mousedown",r),s.events.$on(d(s.win),"mouseup",o)}}},Object.assign(ct.DEFAULTS,{lineHeights:{Default:"",Single:"1",1.15:"1.15",1.5:"1.5",Double:"2"}}),ct.PLUGINS.lineHeight=function(a){var i=a.$;return{_init:function(){},apply:function(e){a.selection.save(),a.html.wrap(!0,!0,!0,!0),a.selection.restore();var t=a.helpers.selectionBlocks([".fr-code-snippet"]);t.length&&i(t[0]).parent().is("td")&&a.format.applyStyle("line-height",e.toString()),a.selection.save();for(var n=0;n<t.length;n++)i(t[n]).css("line-height",e),a.opts.enter!==ct.ENTER_BR||t.length&&i(t[0]).parent().is("td")||(i(t[n]).hasClass("fr-temp-div")&&i(t[n]).removeClass("fr-temp-div"),""===i(t[n]).attr("class")&&i(t[n]).removeAttr("class")),""===i(t[n]).attr("style")&&i(t[n]).removeAttr("style");a.html.unwrap(),a.selection.restore()},refreshOnShow:function(e,t){var r,n=a.selection.blocks();n.length&&(r=i(n[0]),t.find(".fr-command").each(function(){var e,t=i(this).data("param1"),n=r.attr("style"),a=0<=(n||"").indexOf("line-height: "+t+";");!n||(e=(e=(e=n.substring(n.indexOf("line-height"))).substr(0,e.indexOf(";")))&&e.split(":")[1])&&e.length||"Default"!==r.text()||(a=!0),n&&-1!==n.indexOf("line-height")||""!==t||(a=!0),i(this).toggleClass("fr-active",a).attr("aria-selected",a)}))}}},ct.RegisterCommand("lineHeight",{type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.lineHeights;if(t instanceof Array)for(var n=0;n<t.length;n++)e+='<li role="presentation"><a class="fr-command '.concat(t[n].label,'" tabIndex="-1" role="option" data-cmd="lineHeight" data-param1="').concat(t[n].value,'" title="').concat(this.language.translate(t[n].label),'">').concat(this.language.translate(t[n].label),"</a></li>");else if(t instanceof Object)for(var a in t)t.hasOwnProperty(a)&&(e+='<li role="presentation"><a class="fr-command '.concat(a,'" tabIndex="-1" role="option" data-cmd="lineHeight" data-param1="').concat(t[a],'" title="').concat(this.language.translate(a),'">').concat(this.language.translate(a),"</a></li>"));return e+="</ul>"},title:"Line Height",callback:function(e,t){this.lineHeight.apply(t)},refreshOnShow:function(e,t){this.lineHeight.refreshOnShow(e,t)},plugin:"lineHeight"}),ct.DefineIcon("lineHeight",{NAME:"arrows-v",FA5NAME:"arrows-alt-v",SVG_KEY:"lineHeight"}),Object.assign(ct.POPUP_TEMPLATES,{"link.edit":"[_BUTTONS_]","link.insert":"[_BUTTONS_][_INPUT_LAYER_]"}),Object.assign(ct.DEFAULTS,{linkEditButtons:["linkOpen","linkStyle","linkEdit","linkRemove"],linkInsertButtons:["linkBack","|","linkList"],linkAttributes:{},linkAutoPrefix:"http://",linkStyles:{"fr-green":"Green","fr-strong":"Thick"},linkMultipleStyles:!0,linkConvertEmailAddress:!0,linkAlwaysBlank:!1,linkAlwaysNoFollow:!1,linkNoOpener:!0,linkNoReferrer:!0,linkList:[{text:"Froala",href:"https://froala.com",target:"_blank"},{text:"Google",href:"https://google.com",target:"_blank"},{displayText:"Facebook",href:"https://facebook.com"}],linkText:!0}),ct.PLUGINS.link=function(b){var E=b.$;function y(){var e=b.image?b.image.get():null;if(e||!b.$wp)return"A"==b.el.tagName?b.el:e&&e.get(0).parentNode&&"A"==e.get(0).parentNode.tagName?e.get(0).parentNode:void 0;e=b.selection.ranges(0).commonAncestorContainer;try{e&&(e.contains&&e.contains(b.el)||!b.el.contains(e)||b.el==e)&&(e=null)}catch(a){e=null}if(e&&"A"===e.tagName)return e;var t,e=b.selection.element(),n=b.selection.endElement();"A"==e.tagName||b.node.isElement(e)||(e=b.opts.iframe&&null!=(t=b.markdown)&&t.isEnabled()?null:E(e).parentsUntil(b.$el,"a").first().get(0)),"A"==n.tagName||b.node.isElement(n)||(n=b.opts.iframe&&null!=(t=b.markdown)&&t.isEnabled()?null:E(n).parentsUntil(b.$el,"a").first().get(0));try{n&&(n.contains&&n.contains(b.el)||!b.el.contains(n)||b.el==n)&&(n=null)}catch(a){n=null}try{e&&(e.contains&&e.contains(b.el)||!b.el.contains(e)||b.el==e)&&(e=null)}catch(a){e=null}return!n||n!=e||"A"!=n.tagName||(b.browser.msie||b.helpers.isMobile())&&(b.selection.info(e).atEnd||b.selection.info(e).atStart)?null:e}function w(){var e,t,n=b.image?b.image.get():null,a=[];if(n)"A"==n.get(0).parentNode.tagName&&a.push(n.get(0).parentNode);else if(b.win.getSelection){var r=b.win.getSelection();if(r.getRangeAt&&r.rangeCount)for(var i=b.doc.createRange(),o=0;o<r.rangeCount;++o)if((t=(t=(e=r.getRangeAt(o)).commonAncestorContainer)&&1!=t.nodeType?t.parentNode:t)&&"a"==t.nodeName.toLowerCase())a.push(t);else for(var s=t.getElementsByTagName("a"),l=0;l<s.length;++l)i.selectNodeContents(s[l]),i.compareBoundaryPoints(e.END_TO_START,e)<1&&-1<i.compareBoundaryPoints(e.START_TO_END,e)&&a.push(s[l])}else if(b.doc.selection&&"Control"!=b.doc.selection.type)if("a"==(t=(e=b.doc.selection.createRange()).parentElement()).nodeName.toLowerCase())a.push(t);else{s=t.getElementsByTagName("a"),i=b.doc.body.createTextRange();for(var c=0;c<s.length;++c)i.moveToElementText(s[c]),-1<i.compareEndPoints("StartToEnd",e)&&i.compareEndPoints("EndToStart",e)<1&&a.push(s[c])}return a}function _(n){if(b.core.hasFocus()||b.opts.iframe&&(!document.hasFocus||document.hasFocus())){if(r(),n&&"keyup"===n.type&&(n.altKey||n.which==ct.KEYCODE.ALT))return!0;setTimeout(function(){if(!n||1==n.which||"mouseup"!=n.type){var e=y(),t=b.image?b.image.get():null;if(e&&!t){if(b.image){var t=b.node.contents(e);if(1==t.length&&"IMG"==t[0].tagName)return 0===(t=b.selection.ranges(0)).startOffset&&0===t.endOffset?E(e).before(ct.INVISIBLE_SPACE+ct.MARKERS):E(e).after(ct.INVISIBLE_SPACE+ct.MARKERS),b.selection.restore(),!1}n&&n.stopPropagation(),E(e).hasClass("fr-anchor")||a(e)}}},b.helpers.isIOS()?100:0)}}function a(e){b.popups.get("link.edit")||function(){var e="";1<=b.opts.linkEditButtons.length&&("A"==b.el.tagName&&0<=b.opts.linkEditButtons.indexOf("linkRemove")&&b.opts.linkEditButtons.splice(b.opts.linkEditButtons.indexOf("linkRemove"),1),e='<div class="fr-buttons">'.concat(b.button.buildList(b.opts.linkEditButtons),"</div>"));e={buttons:e},e=b.popups.create("link.edit",e);b.$wp&&b.events.$on(b.$wp,"scroll.link-edit",function(){var e=y();e&&b.popups.isVisible("link.edit")&&(E(e).hasClass("fr-anchor")||a(e))})}();var e=E(e),t=(b.popups.isVisible("link.edit")||b.popups.refresh("link.edit"),b.popups.setContainer("link.edit",b.$sc),e.offset().left+e.outerWidth()/2),n=e.offset().top+e.outerHeight();b.popups.show("link.edit",t,n,e.outerHeight(),!0)}function r(){b.popups.hide("link.edit")}function o(){var e=b.popups.get("link.insert"),t=y();if(t){for(var n=E(t),a=e.find('input.fr-link-attr[type="text"]'),r=e.find('input.fr-link-attr[type="checkbox"]'),i=0;i<a.length;i++){var o,s=(o=E(a[i])).attr("name")||"",s="href"===s?decodeURI(n.attr(s)):n.attr(s);o.val(s)}for(r.attr("checked",!1),i=0;i<r.length;i++)o=E(r[i]),n.attr(o.attr("name"))==o.data("checked")&&o.attr("checked",!0);e.find('input.fr-link-attr[type="text"][name="text"]').val(n.text())}else e.find('input.fr-link-attr[type="text"]').val(""),e.find('input.fr-link-attr[type="checkbox"]').attr("checked",!1),e.find('input.fr-link-attr[type="text"][name="text"]').val(b.selection.text());e.find("input.fr-link-attr").trigger("change"),(b.image?b.image.get():null)?e.find('.fr-link-attr[name="text"]').parent().hide():e.find('.fr-link-attr[name="text"]').parent().show()}function i(e){if(e)return b.popups.onRefresh("link.insert",o),!0;var t,n,e="",a=(1<=b.opts.linkInsertButtons.length&&(e='<div class="fr-buttons fr-tabs">'.concat(b.button.buildList(b.opts.linkInsertButtons),"</div>")),""),r=0,i=b.button.buildList(["anchorList"]),a='<div class="fr-link-insert-layer fr-layer fr-active" id="fr-link-insert-layer-'.concat(b.id,'">');for(t in a+='<div class="fr-link-input-layer"><div class="fr-input-line"><input id="fr-link-insert-layer-url-'.concat(b.id,'" name="href" type="text" class="fr-link-attr" placeholder="').concat(b.language.translate("URL"),'" tabIndex="').concat(++r,'"></div><div class="fr-buttons">').concat(i,"</div></div>"),b.opts.linkText&&(a+='<div class="fr-input-line"><input id="fr-link-insert-layer-text-'.concat(b.id,'" name="text" type="text" class="fr-link-attr" placeholder="').concat(b.language.translate("Text"),'" tabIndex="').concat(++r,'"></div>')),b.opts.linkAttributes)b.opts.linkAttributes.hasOwnProperty(t)&&(n=b.opts.linkAttributes[t],a+='<div class="fr-input-line"><input name="'.concat(t,'" type="text" class="fr-link-attr" placeholder="').concat(b.language.translate(n),'" tabIndex="').concat(++r,'"></div>'));b.opts.linkAlwaysBlank||(a+='<div class="fr-checkbox-line"><span class="fr-checkbox"><input name="target" class="fr-link-attr" data-checked="_blank" type="checkbox" id="fr-link-target-'.concat(b.id,'" tabIndex="').concat(++r,'"><span>').concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>','</span></span><label id="fr-label-target-').concat(b.id,'">').concat(b.language.translate("Open in new tab"),"</label></div>")),a+='<div class="fr-action-buttons"><button class="fr-command fr-submit" role="button" data-cmd="linkInsert" href="#" tabIndex="'.concat(++r,'" type="button">').concat(b.language.translate("Insert"),"</button></div></div>");i=b.popups.create("link.insert",{buttons:e,input_layer:a});return b.$wp&&b.events.$on(b.$wp,"scroll.link-insert",function(){(b.image?b.image.get():null)&&b.popups.isVisible("link.insert")&&c(),b.popups.isVisible("link.insert")&&s()}),i}function l(e,t,n){if(b.opts.trackChangesEnabled){if(b.edit.on(),b.events.focus(!0),b.undo.saveStep(),b.markers.insert(),b.html.wrap(),!b.$el.find(".fr-marker").length)return void b.popups.hide("link.insert");b.markers.remove()}if(!1===b.events.trigger("link.beforeInsert",[e,t,n=void 0===n?{}:n]))return!1;var a=b.image?b.image.get():null,r=(a||"A"==b.el.tagName?"A"==b.el.tagName&&b.$el.focus():(b.selection.restore(),b.popups.hide("link.insert")),e);b.opts.linkConvertEmailAddress&&b.helpers.isEmail(e)&&!/^mailto:.*/i.test(e)&&(e="mailto:".concat(e));if(""===b.opts.linkAutoPrefix||new RegExp("^("+ct.LinkProtocols.join("|")+"):.","i").test(e)||/^data:image.*/i.test(e)||/^(https?:|ftps?:|file:|)\/\//i.test(e)||/^([A-Za-z]:(\\){1,2}|[A-Za-z]:((\\){1,2}[^\\]+)+)(\\)?$/i.test(e)||["/","{","[","#","(",".",'"',"\\"].indexOf((e||"")[0])<0&&(e=b.opts.linkAutoPrefix+e),(e=b.helpers.sanitizeURL(e))===decodeURIComponent(e)&&(e=encodeURI(e)),b.opts.linkAlwaysBlank&&(n.target="_blank"),b.opts.linkAlwaysNoFollow&&(n.rel="nofollow"),b.helpers.isEmail(r)&&(n.target=null,n.rel=null),"_blank"==n.target?(b.opts.linkNoOpener&&(n.rel?n.rel+=" noopener":n.rel="noopener"),b.opts.linkNoReferrer&&(n.rel?n.rel+=" noreferrer":n.rel="noreferrer")):null==n.target&&(n.rel?n.rel=n.rel.replace(/noopener/,"").replace(/noreferrer/,""):n.rel=null),t=t||"",e===b.opts.linkAutoPrefix)return b.popups.get("link.insert").find('input[name="href"]').addClass("fr-error"),b.events.trigger("link.bad",[r]),!1;var i,o=y();if(o){if((i=E(o)).attr("href",e),0<t.length&&i.text()!=t&&!a){b.opts.trackChangesEnabled&&((o=E(i.get(0).outerHTML)).insertBefore(i.parent()),o=b.track_changes.wrapLinkInTracking(o,b.track_changes.getPendingChanges().length-1),o=b.track_changes.wrapInDelete(o),i.parent().append(o));for(var s=i.get(0);1===s.childNodes.length&&s.childNodes[0].nodeType==Node.ELEMENT_NODE;)s=s.childNodes[0];E(s).text(t)}for(var l in a||i.prepend(ct.START_MARKER).append(ct.END_MARKER),n)n[l]?i.attr(l,n[l]):i.removeAttr(l);a||b.selection.restore()}else{if(a)a.wrap('<a href="'.concat(e,'"></a>')),b.image.hasCaption()&&a.parent().append(a.parents(".fr-img-caption").find(".fr-inner"));else if(b.format.remove("a"),b.selection.isCollapsed())t=0===t.length?r:t,b.html.insert('<a href="'.concat(e,'">').concat(ct.START_MARKER).concat(t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).concat(ct.END_MARKER,"</a>")),b.selection.restore();else if(0<t.length&&t!=b.selection.text().replace(/\n/g,""))b.selection.remove(),b.html.insert('<a href="'.concat(e,'">').concat(ct.START_MARKER).concat(t.replace(/&/g,"&amp;")).concat(ct.END_MARKER,"</a>")),b.selection.restore();else{if(!b.selection.isCollapsed()){b.selection.save();for(var c=b.$el.find(".fr-marker").addClass("fr-unprocessed").toArray();c.length;){var d=E(c.pop()),f=(d.removeClass("fr-unprocessed"),b.node.deepestParent(d.get(0)));if(f){for(var p=d.get(0),u="",g="";p=p.parentNode,b.node.isBlock(p)||(u+=b.node.closeTagString(p),g=b.node.openTagString(p)+g),p!=f;);var h=b.node.openTagString(d.get(0))+d.html()+b.node.closeTagString(d.get(0)),d=(d.replaceWith('<span id="fr-break"></span>'),f.outerHTML);d=(d=d.replace(/<span id="fr-break"><\/span>/g,u+h+g)).replace(g+u,""),f.outerHTML=d}c=b.$el.find(".fr-marker.fr-unprocessed").toArray()}b.html.cleanEmptyTags(),b.selection.restore()}b.format.apply("a",{href:e})}for(var m=w(),v=0;v<m.length;v++)(i=E(m[v])).attr(n),i.removeAttr("_moz_dirty");1==m.length&&b.$wp&&!a&&(E(m[0]).prepend(ct.START_MARKER).append(ct.END_MARKER),b.selection.restore())}a?((o=b.popups.get("link.insert"))&&o.find("input:focus").blur(),b.image.edit(a)):_()}function s(){r();var e,t,n=y();n&&(b.popups.get("link.insert")||i(),b.popups.isVisible("link.insert")||(b.popups.refresh("link.insert"),b.selection.save(),b.helpers.isMobile()&&(b.events.disableBlur(),b.$el.blur(),b.events.enableBlur())),b.popups.setContainer("link.insert",b.$sc),e=(n=(b.image?b.image.get():null)||E(n)).offset().left+n.outerWidth()/2,t=n.offset().top+n.outerHeight(),b.popups.show("link.insert",e,t,n.outerHeight(),!0))}function c(){var e,t,n,a=b.image?b.image.getEl():null;a&&(t=b.popups.get("link.insert"),a.outerWidth(),b.image.hasCaption()&&(a=a.find(".fr-img-wrap"),E(a))&&E(a).find("img")&&E(a).find("img").outerWidth(),t=t||i(),o(),b.popups.setContainer("link.insert",b.$sc),e=(t=b.helpers.getImagePopupPosition(a)).top,t=t.left,n=a.outerHeight(),b.opts.iframe&&b.image.hasCaption()&&E(a)&&E(a).find("img")&&(n=E(a).find("img").outerHeight()),b.popups.show("link.insert",t,e,n,!0))}return{_init:function(){b.events.on("keyup",function(e){e.which!=ct.KEYCODE.ESC&&_(e)}),b.events.on("window.mouseup",_),b.events.$on(b.$el,"click","a",function(e){b.edit.isDisabled()&&e.preventDefault()}),b.helpers.isMobile()&&b.events.$on(b.$doc,"selectionchange",_),i(!0),b.events.on("popups.show.link.insert",function(){var e=b.popups.get("link.insert").find('input.fr-link-attr[name="href"]');e.length&&e.trigger("focus")}),"A"==b.el.tagName&&b.$el.addClass("fr-view"),b.events.on("toolbar.esc",function(){if(b.popups.isVisible("link.edit"))return b.events.disableBlur(),b.events.focus(),!1},!0)},remove:function(){var e,t=y(),n=b.image?b.image.get():null;if(!1===b.events.trigger("link.beforeRemove",[t]))return!1;n&&t?b.image.hasCaption()?(n.addClass("img-link-caption"),E(t).replaceWith(E(t).html()),e=document.querySelectorAll("img.img-link-caption"),b.image.edit(E(e[0])),E(e[0]).removeClass("img-link-caption")):(n.unwrap(),b.image.edit(n)):t&&(b.selection.save(),E(t).replaceWith(E(t).html()),b.selection.restore(),r())},showInsertPopup:function(){var e,t,n=b.$tb.find('.fr-command[data-cmd="insertLink"]'),a=b.popups.get("link.insert");(a=a||i()).hasClass("fr-active")||(b.popups.refresh("link.insert"),b.popups.setContainer("link.insert",b.$tb||b.$sc),b.selection.save(),n.isVisible()?(t=(e=b.button.getPosition(n)).left,b.popups.show("link.insert",t,e.top,n.outerHeight())):(b.position.forSelection(a),b.popups.show("link.insert")),(t=a.find('button[data-cmd="anchorList"]')).isVisible()&&b.button.click(t))},usePredefined:function(e,t){var n,a,r=b.opts.linkList[e]||t,i=(e=b.popups.get("link.insert")).find('input.fr-link-attr[type="text"]'),o=e.find('input.fr-link-attr[type="checkbox"]');for(r.rel&&(e.rel=r.rel),a=0;a<i.length;a++)r[(n=E(i[a])).attr("name")]?(n.val(r[n.attr("name")]),n.toggleClass("fr-not-empty",!0)):"text"!=n.attr("name")&&n.val("");for(a=0;a<o.length;a++)(n=E(o[a])).attr("checked",n.data("checked")==r[n.attr("name")]);b.accessibility.focusPopup(e)},insertCallback:function(){for(var e,t=b.popups.get("link.insert"),n=t.find('input.fr-link-attr[type="text"]'),a=t.find('input.fr-link-attr[type="checkbox"]'),r=(n.filter('[name="href"]').val()||"").trim(),i=b.opts.linkText?n.filter('[name="text"]').val():"",o={},s=0;s<n.length;s++)e=E(n[s]),["href","text"].indexOf(e.attr("name"))<0&&(o[e.attr("name")]=e.val());for(s=0;s<a.length;s++)(e=E(a[s])).is(":checked")?o[e.attr("name")]=e.data("checked"):o[e.attr("name")]=e.data("unchecked")||null;t.rel&&(o.rel=t.rel),t=b.helpers.scrollTop(),l(r,i,o),E(b.o_win).scrollTop(t)},insert:l,update:s,get:y,allSelected:w,back:function(){(b.image?b.image.get():null)?b.image.back():(b.events.disableBlur(),b.selection.restore(),b.events.enableBlur(),y()&&b.$wp?(b.selection.restore(),r(),_()):"A"==b.el.tagName?(b.$el.focus(),_()):(b.popups.hide("link.insert"),b.toolbar.showInline()))},imageLink:c,applyStyle:function(e,t,n){void 0===n&&(n=b.opts.linkMultipleStyles),void 0===t&&(t=b.opts.linkStyles);var a=y();if(!a)return!1;n||((n=Object.keys(t)).splice(n.indexOf(e),1),E(a).removeClass(n.join(" "))),E(a).toggleClass(e),_()},getAllAnchorList:function(){var e=b.$el.find('[data-cmd="anchor"]').get().map(function(e){return e.name}),t='<ul class="fr-dropdown-list" role="presentation">';if(!e.length)return!1;var n=b.icon.create("anchorListIcon");E(n).find("path").css("fill","dimgray");for(var a=0;a<e.length;a++)t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="anchorList" data-param1="#'.concat(e[a],'">').concat(n).concat(e[a],"</a></li>");return t+="</ul>"},scrollToAnchor:function(e){var t,e=e.startsWith("#")?e.slice(1):e;return!!(e=b.$el.get(0).querySelector('[name="'.concat(e,'"]')))&&(e.scrollIntoView({behavior:"smooth",block:"center"}),b.linkToAnchor?b.linkToAnchor.focusOnAnchor(e):(t=b.doc.createRange(),b.selection.get().removeAllRanges(),t.selectNode(e),b.selection.get().addRange(t),$anchor.trigger("mousedown"),$anchor.trigger("mouseup")),!0)}}},ct.DefineIcon("insertLink",{NAME:"link",SVG_KEY:"insertLink"}),ct.RegisterShortcut(ct.KEYCODE.K,"insertLink",null,"K"),ct.RegisterCommand("insertLink",{title:"Insert Link",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("link.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("link.insert")):this.link.showInsertPopup()},plugin:"link"}),ct.DefineIcon("linkOpen",{NAME:"external-link",FA5NAME:"external-link-alt",SVG_KEY:"openLink"}),ct.RegisterCommand("linkOpen",{title:"Open Link",undo:!1,refresh:function(e){var t,n=this.link.get();n?(e.removeClass("fr-hidden"),t="Open Link",n.href.includes("#")&&(t="Scroll to target"),e.attr("title",this.language.translate(t))):e.addClass("fr-hidden")},callback:function(){var e,t,n=this.link.get();n&&((e=n.getAttribute("href"))&&e.startsWith("#_mso")?(t='a[href="#'.concat(n.name,'"]'),(t=this.$el.find(t)).length&&t.get(0).scrollIntoView({behavior:"smooth",block:"center"})):e&&e.startsWith("#")?this.link.scrollToAnchor(e):-1!==n.href.indexOf("mailto:")?this.o_win.open(n.href).close():(n.target||(n.target="_self"),this.browser.msie||this.browser.edge?this.o_win.open(n.href,n.target):this.o_win.open(n.href,n.target,"noopener")),this.popups.hide("link.edit"))},plugin:"link"}),ct.DefineIcon("linkEdit",{NAME:"edit",SVG_KEY:"edit"}),ct.RegisterCommand("linkEdit",{title:"Edit Link",undo:!1,refreshAfterCallback:!1,popup:!0,callback:function(){this.link.update()},refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")},plugin:"link"}),ct.DefineIcon("linkRemove",{NAME:"unlink",SVG_KEY:"unlink"}),ct.RegisterCommand("linkRemove",{title:"Unlink",callback:function(){this.link.remove()},refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")},plugin:"link"}),ct.DefineIcon("linkBack",{NAME:"arrow-left",SVG_KEY:"back"}),ct.RegisterCommand("linkBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.link.back()},refresh:function(e){var t=this.link.get()&&this.doc.hasFocus();(this.image?this.image.get():null)||t||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))},plugin:"link"}),ct.DefineIcon("linkList",{NAME:"search",SVG_KEY:"search"}),ct.RegisterCommand("linkList",{title:"Choose Link",type:"dropdown",focus:!1,undo:!1,refreshAfterCallback:!1,html:function(){for(var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.linkList,n=0;n<t.length;n++)e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkList" data-param1="'.concat(n,'">').concat(t[n].displayText||t[n].text,"</a></li>");return e+="</ul>"},callback:function(e,t){this.link.usePredefined(t)},plugin:"link"}),ct.RegisterCommand("linkInsert",{focus:!1,refreshAfterCallback:!1,callback:function(){this.link.insertCallback()},refresh:function(e){this.link.get()?e.text(this.language.translate("Update")):e.text(this.language.translate("Insert"))},plugin:"link"}),ct.DefineIcon("imageLink",{NAME:"link",SVG_KEY:"insertLink"}),ct.RegisterCommand("imageLink",{title:"Insert Link",undo:!1,focus:!1,popup:!0,callback:function(){this.link.imageLink()},refresh:function(e){var t;this.link.get()?((t=e.prev()).hasClass("fr-separator")&&t.removeClass("fr-hidden"),e.addClass("fr-hidden")):((t=e.prev()).hasClass("fr-separator")&&t.addClass("fr-hidden"),e.removeClass("fr-hidden"))},plugin:"link"}),ct.DefineIcon("linkStyle",{NAME:"magic",SVG_KEY:"linkStyles"}),ct.RegisterCommand("linkStyle",{title:"Style",type:"dropdown",html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=this.opts.linkStyles;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkStyle" data-param1="'.concat(e,'">').concat(this.language.translate(n[e]),"</a></li>"));return t+="</ul>"},callback:function(e,t){this.link.applyStyle(t)},refreshOnShow:function(e,t){var n,a=this.$,r=this.link.get();r&&(n=a(r),t.find(".fr-command").each(function(){var e=a(this).data("param1"),e=n.hasClass(e);a(this).toggleClass("fr-active",e).attr("aria-selected",e)}))},refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")},plugin:"link"}),ct.DefineIcon("anchorList",{}),ct.RegisterCommand("anchorList",{title:"Anchor Link",type:"dropdown",focus:!0,undo:!1,icon:"",refreshAfterCallback:!0,html:function(){return this.link.getAllAnchorList()},callback:function(e,t){this.link.usePredefined(!1,{href:t,target:"_self",text:""})},refresh:function(e){this.link.getAllAnchorList()?e.show():e.hide()},refreshOnShow:function(e,t){t.find(".fr-dropdown-content")[0].innerHTML=this.link.getAllAnchorList();var n=t.parents(".fr-link-input-layer"),a=n.find(".fr-input-line");setTimeout(function(){t.css("top",a.height()-parseInt(a.css("padding-bottom"))),t.css("left",0),t.css("margin-left",0),t.css("width",n.width()),t.css("bottom","auto")},10)},plugin:"link"}),ct.DefineIcon("anchorListIcon",{NAME:"bookmark",SVG_KEY:"bookmark",VIEWBOX:"-10 -10 35 35"}),Object.assign(ct.DEFAULTS,{listAdvancedTypes:!0}),ct.PLUGINS.lists=function(S){var R=S.$;function g(e){return'<span class="fr-open-'.concat(e.toLowerCase(),'"></span>')}function h(e){return'<span class="fr-close-'.concat(e.toLowerCase(),'"></span>')}function o(e,t){for(var n=e,a=t,r=[],i=0;i<n.length;i++){var o=n[i].parentNode;"LI"==n[i].tagName&&o.tagName!=a&&r.indexOf(o)<0&&r.push(o)}for(var s=r.length-1;0<=s;s--){var l=R(r[s]);l.replaceWith("<".concat(a.toLowerCase()," ").concat(S.node.attributes(l.get(0)),">").concat(l.html(),"</").concat(a.toLowerCase(),">"))}var c,d=S.html.defaultTag(),f=null;e.length&&(c="rtl"==S.opts.direction||"rtl"==R(e[0]).css("direction")?"margin-right":"margin-left");for(var p=0;p<e.length;p++){var u=S.helpers.getPX(R(e[p]).css(c))||0,g=0<(f=(e[p].style.marginLeft=null)===f?u:f)?"<".concat(t,' style="').concat(c,": ").concat(f,'px ">'):"<".concat(t,">"),h="</".concat(t,">");if("TD"==e[p].tagName||"TH"==e[p].tagName)e[p].firstChild||R(e[p]).append("".concat(g,"<li>\u200b</li>").concat(h));else if("LI"!=e[p].tagName){for(u-=f;0<u/S.opts.indentMargin;)g+="</".concat(t,">"),h+=h,u-=S.opts.indentMargin;var m=function m(e){for(var t=1<arguments.length&&arguments[1]!==undefined?arguments[1]:"next",n="next"===t?e.nextSibling:e.previousSibling;n;){if(n.nodeType!==Node.ELEMENT_NODE||"SPAN"!==n.tagName||!n.classList.contains("fr-marker"))return!0;n="next"===t?n.nextSibling:n.previousSibling}return!1},v=R(e[p]),b=v.find("strong");if(d&&e[p].tagName.toLowerCase()==d){var E=S.node.attributes(e[p]);if(0<b.length&&S.node.blockParent(b[0])===v[0]){for(var y=b[0].previousSibling,w=b[0].nextSibling,_=!y&&!w,C=Array.from(v[0].childNodes).every(function(e){return e.nodeType===Node.ELEMENT_NODE&&("STRONG"===e.tagName||"BR"===e.tagName)||e.nodeType===Node.TEXT_NODE&&!e.nodeValue.trim()}),A=b.parent();A.is("u")||A.is("em");)A=A.parent();var C=_&&!A.is("span")||w&&"BR"===w.tagName&&!w.nextSibling||C,_=_&&A.is("span")&&!m(A[0],"next")&&!m(A[0],"prev"),T=y&&!m(b[0],"prev"),k=w&&!m(b[0],"next");(C||_||T&&k||T&&!w||k&&!y)&&(E.includes("style=")?E=E.replace(/style="([^"]*)"/,function(e,t){var n;return t.includes("font-weight:")?(n=t.replace(/font-weight:\s*[^;]+/,"font-weight: bold"),'style="'.concat(n,'"')):(n=t.trim().endsWith(";")?" ":"; ",'style="'.concat(t).concat(n,'font-weight: bold;"'))}):E+=' style="font-weight: bold;"',b.each(function(){this.replaceWith.apply(this,Ce(this.childNodes))}))}v.replaceWith("".concat(g,"<li").concat(E,">").concat(v[0].innerHTML,"</li>").concat(h))}else"STRONG"!==v.parent()[0].tagName||m(v[0],"next")||m(v[0],"prev")?1!=b.length||m(b[0],"next")||m(b[0],"prev")?v.wrap("".concat(g,"<li></li>").concat(h)):(b[0].outerHTML=b[0].innerHTML,v.wrap("".concat(g,'<li style="font-weight: bold;"></li>').concat(h))):(v.unwrap(),v.wrap("".concat(g,'<li style="font-weight: bold;"></li>').concat(h)))}}S.clean.lists()}function y(c){for(var e,t=[],d=c.length-1;0<=d;d--)for(e=d-1;0<=e;e--){if(R(c[e]).find(c[d]).length||c[e]==c[d]){R(c[d]).addClass("fr-removed-block-".concat(d)),t.push(d),c.splice(d,1);break}if(R(c[e]).contains(c[d])){R(c[e]).addClass("fr-removed-block-".concat(e)),t.push(e),c.splice(e,1);break}}var f=[],p=!1,u=function u(){var e,t,n,a,r,i=R(c[d]),o=c[d].parentNode,s=i.attr("class"),l=i.attr("style");i.is(":first-child")&&(p=!0,R(o.parentNode).removeAttr("start")),i.before(h(o.tagName)),"LI"==o.parentNode.tagName?(i.is(":last-child")&&(e=i.find("> ul, > ol").last()).length&&e.wrap("<".concat(o.tagName,">")),i.before(h("LI")),i.after(g("LI"))):"OL"==o.parentNode.tagName?p||(i.before(h("OL")),i.after(g("OL"))):"UL"==o.parentNode.tagName?p||(i.before(h("UL")),i.after(g("UL"))):(e="",n=t=!1,l&&(e+=l.trim().replace(/;?$/,";")),l="rtl"===S.opts.direction||"rtl"===i.css("direction")?"margin-right":"margin-left",(r=S.helpers.getPX(R(o).css(l)))&&(R(o).attr("style")||"").includes("".concat(l,":"))&&(e+="".concat(l,":").concat(r,"px;")),e=(e=(e=e.replace(/font-weight\s*:\s*bold\s*;?/i,function(){return t=!0,""})).replace(/font-style\s*:\s*italic\s*;?/i,function(){return n=!0,""})).trim().length?e.trim().replace(/;{2,}/g,";").replace(/;$/,"")+";":"",a=function a(e,t,n){e.prepend(g(n)),e.append(h(n)),t.each(function(){var e=R(this);e.before(h(n)),e.prepend(g(n)),e.append(h(n)),e.after(g(n))})},l=i.find(S.html.blockTagsQuery()),t&&a(i,l,"STRONG"),n&&a(i,l,"EM"),S.html.defaultTag()&&0===i.find(S.html.blockTagsQuery()).length&&((r=R(document.createElement(S.html.defaultTag()))).attr(e?{style:e}:null),s&&r.addClass(s),r.append(i.contents()),i[0].innerHTML=r[0].outerHTML),S.node.isEmpty(i.get(0),!0)||0!==i.find(S.html.blockTagsQuery()).length||("DIV"==o.parentNode.tagName&&S.html.defaultTag()?(i.prepend(g(S.html.defaultTag())),i.append(h(S.html.defaultTag()))):i.append("<br>")),i.append(g("LI")),i.prepend(h("LI"))),i.after(g(o.tagName)),"LI"==o.parentNode.tagName&&(o=o.parentNode.parentNode),f.indexOf(o)<0&&f.push(o)};for(d=0;d<c.length;d++)u();var a=function a(){var e=R(f[d]),t=e.html(),n=S.helpers.getPX(e.css("margin-left"))||0;t=(t=t.replace(/<span class="fr-open-([a-z]*)"><\/span>/g,function(e,t){return 0<n?"<".concat(t,' style="margin-left:').concat(n,'px;">'):"<".concat(t,">")})).replace(/<span class="fr-close-([a-z]*)"><\/span>/g,"</$1>"),e.replaceWith(S.node.openTagString(e.get(0))+t+S.node.closeTagString(e.get(0)))};for(d=0;d<f.length;d++)a();return S.$el.find("li").filter(function(){if(0<this.children.length)return!1;var e,t=_e(this.childNodes);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.nodeType===Node.TEXT_NODE&&""!==n.textContent.trim())return!1}}catch(a){t.e(a)}finally{t.f()}return!0}).remove(),S.$el.find("ul:empty, ol:empty").remove(),S.$el.find("strong:empty, em:empty").remove(),S.clean.lists(),S.$el.find("ul:empty, ol:empty").remove(),S.html.wrap(),t}function w(e,t){var n=R(document.createElement("li"));if(e.childNodes.length)for(var a=e.childNodes[0].attributes,r=0;r<a.length;r++){var i=a[r];"style"===i.name&&(n[0].style.cssText+=i.value)}R(e).prepend(n),R(e).removeAttr("start");for(var o=S.node.contents(t)[0];o&&!S.node.isList(o);){var s=o.nextSibling;n.append(o),o=s}}function e(e){if("indent"==e||"outdent"==e){var t=!1,n=S.selection.blocks(!1,!0),a=[],r=n[0].previousSibling||n[0].parentElement;if("outdent"==e){if("UL"!=n[0].parentNode.tagName&&"UL"!=r.parentNode.tagName&&"OL"!=r.parentNode.tagName&&"LI"!=r.parentNode.tagName)return;if(!n[0].previousSibling&&"none"==r.parentNode.style.listStyleType){var i=r;for(S.selection.save();0<i.childNodes.length;)i.parentNode.parentNode.append(i.childNodes[0]);return S.clean.lists(),void S.selection.restore()}}else{if("UL"!=n[0].parentElement.tagName&&"OL"!=n[0].parentElement.tagName&&"LI"!=n[0].parentElement.tagName)return;if(S.node.isBlock(n[0])&&"LI"!==n[0].tagName&&0<R(n[0]).parentsUntil(S.$el,"LI").length&&(n[0]=n[0].parentElement,r=n[0].parentElement),!n[0].previousSibling||"LI"!=n[0].previousSibling.tagName){if(r&&["UL","OL"].includes(r.tagName)){var o=r,s=(S.selection.save(),"OL"==o.tagName?document.createElement("ol"):document.createElement("ul"));for(R(s).css("list-style-type",R(o).css("list-style-type"));0<o.childNodes.length;)s.append(o.childNodes[0]);r=R(document.createElement("li"));return r.css("list-style-type","none"),r.append(s),o.append(r.get(0)),S.clean.lists(),void S.selection.restore()}t=!0}}for(var l=0;l<n.length;l++)"LI"==n[l].tagName?(t=!0,a.push(n[l])):"LI"==n[l].parentNode.tagName&&a.indexOf(n[l].parentNode)<0&&(t=!0,a.push(n[l].parentNode));if(t){if("indent"==e){var c=a;S.selection.save();for(var d=!1,f=0;f<c.length;f++){var p,u,g,h=c[f].previousElementSibling;h&&"LI"==h.tagName&&!d?(p=R(c[f]).find("> ul, > ol").last().get(0))?(w(p,c[f]),R(h).append(R(p)),R(c[f]).remove()):((p=R(h).find("> ul, > ol").last().get(0))?R(p):(p=R("<".concat(c[f].parentNode.tagName,">")),R(h).append(p),p)).append(R(c[f])):!h||"OL"!=h.tagName&&"UL"!=h.tagName?(d=!0,"UL"!=(p=c[f].parentNode).tagName&&"OL"!=p.tagName||(g=R(c[f]).find("> ol, > ul"),u=null==c[f].previousSibling,g.length?(w(g=g.first().get(0),c[f]),u?R(p).prepend(R(g)):R(p).append(R(g)),R(c[f]).remove()):R(c[f]).wrap("<".concat(p.tagName,">")),u&&0<R(p).find("> li").length&&R(p).attr("start","2"))):(g=R(c[f]).find("> ol, > ul").first().get(0))?(w(g,c[f]),R(h).append(R(g).children()),R(c[f]).remove(),R(g).remove()):R(h).append(R(c[f]))}S.clean.lists()}else{var m,v=a;S.selection.save();do{m=y(v),v=[];for(var b=0;b<m.length;b++){var E=S.$el.find(".fr-removed-block-".concat(m[b])).first().get(0);R(E).removeClass("fr-removed-block-".concat(m[b])),""==R(E).attr("class")&&R(E).removeAttr("class"),v.push(E)}}while(0<m.length)}S.selection.restore()}}}return{_init:function(){S.events.on("commands.after",e),S.events.on("keydown",function(e){if(e.which==ct.KEYCODE.TAB||(e.ctrlKey||e.metaKey)&&"]"===e.key){if(!e.shiftKey&&S.$tb.find('[data-cmd="indent"]').hasClass("fr-disabled"))return e.preventDefault(),e.stopPropagation(),!1;for(var t=S.selection.blocks(),n=[],a=0;a<t.length;a++)"LI"==t[a].tagName?n.push(t[a]):"LI"==t[a].parentNode.tagName&&n.push(t[a].parentNode);return 1<=n.length||n.length&&(S.selection.info(n[0]).atStart||S.node.isEmpty(n[0]))?(e.preventDefault(),e.stopPropagation(),e.shiftKey?S.commands.outdent():S.commands.indent(),!1):void 0}},!0),S.events.on("keydown",function(e){if(e.which==ct.KEYCODE.ENTER&&!e.ctrlKey&&!e.metaKey){e=S.markers.insert();if(!e)return!0;var t=e.parentNode,n="STRONG"===t.tagName,a=t.parentNode,r="LI"===a.tagName;!n||!r||t.previousSibling||t.nextSibling&&(t.nextSibling,"BR"!==t.nextSibling.tagName||t.nextSibling.nextSibling)||(t.outerHTML=t.innerHTML,R(a).css("font-weight","bold")),R(e).remove()}})},format:function(e,t){var n,a=S.selection.blocks(!0),r=1<a.length&&a[a.length-1],i=S.selection.ranges();for(r&&r.firstChild&&i.length&&S.node.isEmpty(r)&&!i[0].endOffset&&i[0].setEndAfter(r.firstChild,1),S.html.syncInputs(),S.selection.save(),S.browser.safari&&S.helpers.getSafariVersion()<17&&(r=S.selection.ranges(),i)&&i[0].endContainer&&r&&r[0].endContainer&&!i[0].endContainer.isSameNode(r[0].endContainer)&&i[0].endContainer.previousSibling&&i[0].endContainer.previousSibling.isSameNode(r[0].endContainer)&&(r=R(r[0].endContainer).find('.fr-marker[data-type="false"]'),R(i[0].endContainer).append(r[0])),S.html.wrap(!0,!0,!0,!0),S.selection.restore(),a=S.selection.blocks(!0),n=0;n<a.length;n++)"LI"!=a[n].tagName&&"LI"==a[n].parentNode.tagName&&(a[n]=a[n].parentNode);if(S.selection.save(),!function(e,t){for(var n=!0,a=0;a<e.length;a++){if("LI"!=e[a].tagName)return;e[a].parentNode.tagName!=t&&(n=!1)}return n}(a=a.filter(function(e){return!R(e).closest(".fr-code-snippet").length}),e)?o(a,e):t||y(a),S.html.unwrap(),S.selection.restore(),t=t||"default"){for(a=S.selection.blocks(),n=0;n<a.length;n++)"LI"!=a[n].tagName&&"LI"==a[n].parentNode.tagName&&(a[n]=a[n].parentNode);for(n=0;n<a.length;n++)"LI"==a[n].tagName&&(R(a[n].parentNode).css("list-style-type","default"===t?"":t),0===(R(a[n].parentNode).attr("style")||"").length)&&R(a[n].parentNode).removeAttr("style")}},refresh:function(e,t){var n,a=R(S.selection.element());a.get(0)!=S.el&&(n=("LI"==(n=a.get(0)).tagName||!n.firstElementChild||"LI"==n.firstElementChild.tagName)&&("LI"==n.tagName||n.firstElementChild)?n.firstElementChild&&"LI"==n.firstElementChild.tagName?a.get(0).firstChild:a.get(0):a.parents("li").get(0))&&n.parentNode.tagName==t&&S.el.contains(n.parentNode)&&e.addClass("fr-active")}}},ct.DefineIcon("formatOLSimple",{NAME:"list-ol",SVG_KEY:"orderedList"}),ct.RegisterCommand("formatOLSimple",{title:"Ordered List",type:"button",options:{"default":"Default",circle:"Circle",disc:"Disc",square:"Square"},refresh:function(e){this.lists.refresh(e,"OL")},callback:function(e,t){this.lists.format("OL",t)},plugin:"lists"}),ct.RegisterCommand("formatUL",{title:"Unordered List",type:"button",hasOptions:function(){return this.opts.listAdvancedTypes},options:{"default":"Default",circle:"Circle",disc:"Disc",square:"Square"},refresh:function(e){this.lists.refresh(e,"UL")},callback:function(e,t){this.lists.format("UL",t)},plugin:"lists"}),ct.RegisterCommand("formatOL",{title:"Ordered List",hasOptions:function(){return this.opts.listAdvancedTypes},options:{"default":"Default","lower-alpha":"Lower Alpha","lower-greek":"Lower Greek","lower-roman":"Lower Roman","upper-alpha":"Upper Alpha","upper-roman":"Upper Roman"},refresh:function(e){this.lists.refresh(e,"OL")},callback:function(e,t){this.lists.format("OL",t)},plugin:"lists"}),ct.DefineIcon("formatUL",{NAME:"list-ul",SVG_KEY:"unorderedList"}),ct.DefineIcon("formatOL",{NAME:"list-ol",SVG_KEY:"orderedList"}),Object.assign(ct.DEFAULTS,{paragraphFormat:{N:"Normal",H1:"Heading 1",H2:"Heading 2",H3:"Heading 3",H4:"Heading 4",PRE:"Code"},paragraphFormatSelection:!1,paragraphDefaultSelection:"Paragraph Format"}),ct.PLUGINS.paragraphFormat=function(u){var g=u.$;return{apply:function(e){"N"==e&&(e=u.html.defaultTag()),u.selection.save(),u.html.wrap(!0,!0,!u.opts.paragraphFormat.BLOCKQUOTE,!0,!0),u.selection.restore();var t=u.helpers.selectionBlocks([".fr-code-snippet"]);u.selection.save(),u.$el.find("pre").attr("skip",!0);for(var n,a,r=0;r<t.length;r++)if(t[r].tagName!=e&&!u.node.isList(t[r])){var i,o=g(t[r]);if("LI"==t[r].tagName){p=f=d=c=l=s=void 0;var s=o,l=e,c=u.html.defaultTag();if(l&&l.toLowerCase()!=c)if(0<s.find("ul, ol").length)for(var d=g("<"+l+">"),f=(s.prepend(d),u.node.contents(s.get(0))[0]);f&&["UL","OL"].indexOf(f.tagName)<0;){var p=f.nextSibling;d.append(f),f=p}else s.html("<"+l+">"+s.html()+"</"+l+">")}else"LI"==t[r].parentNode.tagName&&t[r]?(c=o,l=e,s=void 0,s=u.html.defaultTag(),l&&l.toLowerCase()!=s||(l='div class="fr-temp-div"'),c.replaceWith(g("<"+l+">").html(c.html()))):0<=["TD","TH"].indexOf(t[r].parentNode.tagName)?(n=o,a=e,i=void 0,i=u.html.defaultTag(),(a=a||'div class="fr-temp-div"'+(u.node.isEmpty(n.get(0),!0)?' data-empty="true"':"")).toLowerCase()==i?(u.node.isEmpty(n.get(0),!0)||n.append("<br/>"),n.replaceWith(n.html())):n.replaceWith(g("<"+a+">").html(n.html()))):("PRE"===e&&null===o[0].nextSibling&&(i=g("<br>"),o[0].after(i[0])),a=o,("H1"==(n=(n=e)||'div class="fr-temp-div"'+(u.node.isEmpty(a.get(0),!0)?' data-empty="true"':""))||"H2"==n||"H3"==n||"H4"==n||"H5"==n)&&-1<u.node.attributes(a.get(0)).indexOf("font-size:")?a.replaceWith(g("<"+n+" "+u.node.attributes(a.get(0)).replace(/font-size:[0-9]+px;?/,"")+">").html(a.html()).removeAttr("data-empty")):a.replaceWith(g("<"+n+" "+u.node.attributes(a.get(0))+">").html(a.html()).removeAttr("data-empty")))}u.$el.find('pre:not([skip="true"]) + pre:not([skip="true"])').each(function(){g(this).prev().append("<br>"+g(this).html()),g(this).remove()}),u.$el.find("pre").removeAttr("skip"),u.html.unwrap(),u.selection.restore()},refreshOnShow:function(e,t){var n,a,r=u.selection.blocks();(r.length?(r=r[0],n="N",a=u.html.defaultTag(),r.tagName.toLowerCase()!=a&&r!=u.el&&(n=r.tagName),t.find('.fr-command[data-param1="'+n+'"]')):t.find('.fr-command[data-param1="N"]')).addClass("fr-active").attr("aria-selected",!0)},refresh:function(e){var t,n,a;u.opts.paragraphFormatSelection&&((t=u.selection.blocks()).length?(t=t[0],n="N",a=u.html.defaultTag(),t.tagName.toLowerCase()!=a&&t!=u.el&&(n=t.tagName),0<=["LI","TD","TH"].indexOf(n)&&(n="N"),e.find(">span").text(u.language.translate(u.opts.paragraphFormat[n]))):e.find(">span").text(u.language.translate(u.opts.paragraphFormat.N)))}}},ct.RegisterCommand("paragraphFormat",{type:"dropdown",displaySelection:function(e){return e.opts.paragraphFormatSelection},defaultSelection:function(e){return e.language.translate(e.opts.paragraphDefaultSelection)},displaySelectionWidth:80,html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=this.opts.paragraphFormat;for(e in n)n.hasOwnProperty(e)&&(this.shortcuts.get("paragraphFormat."+e),t+='<li role="presentation"><'+("N"==e?this.html.defaultTag()||"DIV":e)+' style="padding: 0 !important; margin: 0 !important; border: 0 !important; background-color: transparent !important; '+("PRE"==e||"N"==e?"font-size: 15px":"font-weight: bold !important; ")+("H1"==e?"font-size: 2em !important; ":"")+("H2"==e?"font-size: 1.5em !important; ":"")+("H3"==e?"font-size: 1.17em !important; ":"")+("H4"==e?"font-size: 15px !important;":"")+'"  role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="paragraphFormat" data-param1="'+e+'" title="'+this.language.translate(n[e])+'">'+this.language.translate(n[e])+"</a></"+("N"==e?this.html.defaultTag()||"DIV":e)+"></li>");return t+="</ul>"},title:"Paragraph Format",callback:function(e,t){this.paragraphFormat.apply(t)},refresh:function(e){this.paragraphFormat.refresh(e)},refreshOnShow:function(e,t){this.paragraphFormat.refreshOnShow(e,t)},plugin:"paragraphFormat"}),ct.DefineIcon("paragraphFormat",{NAME:"paragraph",SVG_KEY:"paragraphFormat"}),Object.assign(ct.DEFAULTS,{paragraphStyles:{"fr-text-gray":"Gray","fr-text-bordered":"Bordered","fr-text-spaced":"Spaced","fr-text-uppercase":"Uppercase"},paragraphMultipleStyles:!0}),ct.PLUGINS.paragraphStyle=function(s){var l=s.$;return{_init:function(){},apply:function(e,t,n){void 0===t&&(t=s.opts.paragraphStyles);for(var a="",r=((n=void 0===n?s.opts.paragraphMultipleStyles:n)||((a=Object.keys(t)).splice(a.indexOf(e),1),a=a.join(" ")),s.selection.save(),s.html.wrap(!0,!0,!0,!0),s.selection.restore(),s.helpers.selectionBlocks([".fr-code-snippet"])),i=(s.selection.save(),l(r[0]).hasClass(e)),o=0;o<r.length;o++)l(r[o]).removeClass(a).toggleClass(e,!i),l(r[o]).hasClass("fr-temp-div")&&l(r[o]).removeClass("fr-temp-div"),""===l(r[o]).attr("class")&&l(r[o]).removeAttr("class");1===r.length&&"fr-text-bordered"===e&&null===r[0].nextSibling&&(n=l("<br>"),r[0].after(n[0])),s.html.unwrap(),s.selection.restore()},refreshOnShow:function(e,t){var n,a=s.selection.blocks();a.length&&(n=l(a[0]),t.find(".fr-command").each(function(){var e=l(this).data("param1"),e=n.hasClass(e);l(this).toggleClass("fr-active",e).attr("aria-selected",e)}))}}},ct.RegisterCommand("paragraphStyle",{type:"dropdown",html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=this.opts.paragraphStyles;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command '.concat(e,'" tabIndex="-1" role="option" data-cmd="paragraphStyle" data-param1="').concat(e,'" title="').concat(this.language.translate(n[e]),'">').concat(this.language.translate(n[e]),"</a></li>"));return t+="</ul>"},title:"Paragraph Style",callback:function(e,t){this.paragraphStyle.apply(t)},refreshOnShow:function(e,t){this.paragraphStyle.refreshOnShow(e,t)},plugin:"paragraphStyle"}),ct.DefineIcon("paragraphStyle",{NAME:"magic",SVG_KEY:"paragraphStyle"}),Object.assign(ct.DEFAULTS,{html2pdf:window.html2pdf}),ct.PLUGINS.print=function(s){return{run:function(){var e=function(){setTimeout(function(){s.events.disableBlur(),window.frames["fr-print"].focus(),window.frames["fr-print"].print(),s.$win.get(0).focus(),s.events.disableBlur(),s.events.focus()},0)},t=((i=s.opts.useClasses)||s.$el.addClass("print"),s.html.get()),n=(i||s.$el.removeClass("print"),null);s.shared.print_iframe?n=s.shared.print_iframe:((n=document.createElement("iframe")).name="fr-print",n.style.position="fixed",n.style.top="0",n.style.left="-9999px",n.style.height="100%",n.style.width="0",n.style.overflow="hidden",n.style["z-index"]="2147483647",n.style.tabIndex="-1",s.events.on("shared.destroy",function(){n.remove()}),s.shared.print_iframe=n);try{document.body.removeChild(n)}catch(o){}document.body.appendChild(n);var a=function(){e(),n.removeEventListener("load",a)},r=(n.addEventListener("load",a),n.contentWindow),i=(r.document.open(),r.document.write("<!DOCTYPE html><html "+(s.opts.documentReady?'style="margin: 0; padding: 0;"':"")+"><head><title>"+document.title+"</title>"),Array.prototype.forEach.call(document.querySelectorAll("style"),function(e){e=e.cloneNode(!0),r.document.write(e.outerHTML)}),document.querySelectorAll("link[rel=stylesheet]"));Array.prototype.forEach.call(i,function(e){var t=document.createElement("link");t.rel=e.rel,t.href=e.href,t.media="print",t.type="text/css",t.media="all",r.document.write(t.outerHTML)}),r.document.write('</head><body style="height:auto;text-align: '+("rtl"==s.opts.direction?"right":"left")+"; direction: "+s.opts.direction+"; "+(s.opts.documentReady?" padding: 2cm; width: 17cm; margin: 0;":"")+'"><div class="fr-view">'),r.document.write(t),r.document.write("</div></body></html>"),r.document.close()},toPDF:function(){s.opts.html2pdf&&(s.$el.css("text-align","left"),s.$el.addClass("pdf-export"),s.opts.html2pdf().set({margin:[10,20],html2canvas:{useCORS:!0}}).from(s.el).save(),setTimeout(function(){s.$el.css("text-align",""),s.$el.removeClass("pdf-export")},100))}}},ct.DefineIcon("print",{NAME:"print",SVG_KEY:"print"}),ct.RegisterCommand("print",{title:"Print",undo:!1,focus:!1,plugin:"print",callback:function(){this.print.run()}}),ct.DefineIcon("getPDF",{NAME:"file-pdf-o",FA5NAME:"file-pdf",SVG_KEY:"pdfExport"}),ct.RegisterCommand("getPDF",{title:"Download PDF",type:"button",focus:!1,undo:!1,callback:function(){this.print.toPDF()}}),Object.assign(ct.DEFAULTS,{quickInsertButtons:["image","video","embedly","table","ul","ol","hr"],quickInsertTags:["p","div","h1","h2","h3","h4","h5","h6","pre","blockquote"],quickInsertEnabled:!0}),ct.QUICK_INSERT_BUTTONS={},ct.DefineIcon("quickInsert",{SVG_KEY:"add",template:"svg"}),ct.RegisterQuickInsertButton=function(e,t){ct.QUICK_INSERT_BUTTONS[e]=Object.assign({undo:!0},t)},ct.RegisterQuickInsertButton("image",{icon:"insertImage",requiredPlugin:"image",title:"Insert Image",undo:!1,callback:function(){var e=this,t=e.$;e.shared.$qi_image_input||(e.shared.$qi_image_input=t(document.createElement("input")).attr("accept","image/"+e.opts.imageAllowedTypes.join(", image/").toLowerCase()).attr("name","quickInsertImage".concat(this.id)).attr("style","display: none;").attr("type","file"),t("body").first().append(e.shared.$qi_image_input),e.events.$on(e.shared.$qi_image_input,"change",function(){var e=t(this).data("inst");this.files&&(e.quickInsert.hide(),e.image.upload(this.files)),t(this).val("")},!0)),e.$qi_image_input=e.shared.$qi_image_input,e.helpers.isMobile()&&e.selection.save(),e.events.disableBlur(),e.$qi_image_input.data("inst",e)[0].click()}}),ct.RegisterQuickInsertButton("video",{icon:"insertVideo",requiredPlugin:"video",title:"Insert Video",undo:!1,callback:function(){var e=prompt(this.language.translate("Paste the URL of the video you want to insert."));e&&this.video.insertByURL(e)}}),ct.RegisterQuickInsertButton("embedly",{icon:"embedly",requiredPlugin:"embedly",title:"Embed URL",undo:!1,callback:function(){var e=prompt(this.language.translate("Paste the URL of any web content you want to insert."));e&&this.embedly.add(e)}}),ct.RegisterQuickInsertButton("table",{icon:"insertTable",requiredPlugin:"table",title:"Insert Table",callback:function(){this.table.insert(2,2)}}),ct.RegisterQuickInsertButton("ol",{icon:"formatOL",requiredPlugin:"lists",title:"Ordered List",callback:function(){this.lists.format("OL")}}),ct.RegisterQuickInsertButton("ul",{icon:"formatUL",requiredPlugin:"lists",title:"Unordered List",callback:function(){this.lists.format("UL")}}),ct.RegisterQuickInsertButton("hr",{icon:"insertHR",title:"Insert Horizontal Line",callback:function(){this.commands.insertHR()}}),ct.PLUGINS.quickInsert=function(o){var s,l,c=o.$,d=!1;function t(e){var t,n,a=e.offset().top-o.$box.offset().top,r=(o.$iframe&&o.$iframe.offset().left||0)+e.offset().left-e.position().left-4<s.outerWidth()?e.offset().left+s.outerWidth():0-s.outerWidth();o.opts.enter!=ct.ENTER_BR?t=(s.outerHeight()-e.outerHeight())/2:(c(document.createElement("span")).html(ct.INVISIBLE_SPACE).insertAfter(e),t=(s.outerHeight()-e.next().outerHeight())/2,e.next().remove()),o.opts.iframe&&(n=o.helpers.getPX(o.$wp.find(".fr-iframe").css("padding-top")),a+=o.$iframe.offset().top+n),s.hasClass("fr-on")&&0<=a&&l.css("top",a-t),0<=a&&a-Math.abs(t)<=o.$box.outerHeight()-e.outerHeight()?(s.hasClass("fr-hidden")&&(s.hasClass("fr-on")&&f(),s.removeClass("fr-hidden")),s.css("top",a-t)):s.hasClass("fr-visible")&&!o.opts.toolbarInline&&(s.addClass("fr-hidden"),p()),s.css("left",r)}function r(e){if(!o.markdown||!o.markdown.isEnabled()){if(!s)o.shared.$quick_insert||(o.shared.$quick_insert=c(document.createElement("div")).attr("class","fr-quick-insert").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(o.language.translate("Quick Insert"),'">').concat(o.icon.create("quickInsert"),"</a>"))),s=o.shared.$quick_insert,o.tooltip.bind(o.$box,".fr-quick-insert > a.fr-floating-btn"),o.events.on("destroy",function(){c("body").first().append(s.removeClass("fr-on")),l&&(p(),c("body").first().append(l.css("left",-9999).css("top",-9999)))},!0),o.events.on("shared.destroy",function(){s.html("").removeData().remove(),s=null,l&&(l.html("").removeData().remove(),l=null)},!0),o.events.on("commands.before",i),o.events.on("commands.after",function(){o.popups.areVisible()||n()}),o.events.bindClick(o.$box,".fr-quick-insert > a",f),o.events.bindClick(o.$box,".fr-qi-helper > a.fr-btn",function(e){var t=c(e.currentTarget).data("cmd");if(!1===o.events.trigger("quickInsert.commands.before",[t]))return!1;ct.QUICK_INSERT_BUTTONS[t].callback.apply(o,[e.currentTarget]),ct.QUICK_INSERT_BUTTONS[t].undo&&o.undo.saveStep(),o.events.trigger("quickInsert.commands.after",[t]),o.quickInsert.hide()}),o.events.$on(o.$wp,"scroll",a),o.events.$on(o.$tb,"transitionend",".fr-more-toolbar",a);s.hasClass("fr-on")&&p(),o.$box.append(s),t(e),s.data("tag",e),s.addClass("fr-visible")}}function n(){var e,t,n;o.core.hasFocus()&&(e=o.selection.element(),o.opts.enter==ct.ENTER_BR||o.node.isBlock(e)||(e=o.node.blockParent(e)),o.opts.enter!=ct.ENTER_BR||o.node.isBlock(e)||(t=o.node.deepestParent(e))&&(e=t),n=function n(){return o.opts.enter==ct.ENTER_BR&&("BR"==e.tagName&&(!e.previousSibling||"BR"==e.previousSibling.tagName||o.node.isBlock(e.previousSibling))||o.node.isEmpty(e)&&(!e.previousSibling||"BR"==e.previousSibling.tagName||o.node.isBlock(e.previousSibling))&&(!e.nextSibling||"BR"==e.nextSibling.tagName||o.node.isBlock(e.nextSibling)))},e&&(function a(){return o.opts.enter!=ct.ENTER_BR&&o.node.isEmpty(e)&&0<=o.opts.quickInsertTags.indexOf(e.tagName.toLowerCase())}()||n())?s&&s.data("tag").is(c(e))&&s.hasClass("fr-on")?p():o.selection.isCollapsed()&&r(c(e)):i())}function i(){s&&!d&&(s.hasClass("fr-on")&&p(),s.removeClass("fr-visible fr-on"),s.css("left",-9999).css("top",-9999))}function f(e){if(e&&e.preventDefault(),s.hasClass("fr-on")&&!s.hasClass("fr-hidden"))p();else{if(!o.shared.$qi_helper){for(var t=o.opts.quickInsertButtons,n='<div class="fr-qi-helper">',a=0,r=0;r<t.length;r++){var i=ct.QUICK_INSERT_BUTTONS[t[r]];i&&(!i.requiredPlugin||ct.PLUGINS[i.requiredPlugin]&&0<=o.opts.pluginsEnabled.indexOf(i.requiredPlugin))&&(n+='<a class="fr-btn fr-floating-btn" role="button" title="'.concat(o.language.translate(i.title),'" tabIndex="-1" data-cmd="').concat(t[r],'" style="transition-delay: ').concat(.025*a++,'s;">').concat(o.icon.create(i.icon),"</a>"))}o.shared.$qi_helper=c(n+="</div>"),o.tooltip.bind(o.shared.$qi_helper,"a.fr-btn"),o.events.$on(o.shared.$qi_helper,"mousedown",function(e){e.preventDefault()},!0)}l=o.shared.$qi_helper,o.$box.append(l),d=!0,setTimeout(function(){d=!1,l.css("top",parseFloat(s.css("top"))),l.css("left",parseFloat(s.css("left"))+s.outerWidth()),l.find("a").addClass("fr-size-1"),s.addClass("fr-on")},10)}}function p(){var t=o.$box.find(".fr-qi-helper");if(t.length){for(var n=t.find("a"),e=0;e<n.length;e++)!function(e){setTimeout(function(){t.children().eq(n.length-1-e).removeClass("fr-size-1")},25*e)}(e);setTimeout(function(){t.css("left",-9999),s&&!s.hasClass("fr-hidden")&&s.removeClass("fr-on")},25*e)}}function a(){s.hasClass("fr-visible")&&t(s.data("tag"))}return{_init:function(){if(!o.$wp||!o.opts.quickInsertEnabled)return!1;o.popups.onShow("image.edit",i),o.events.on("mouseup",n),o.helpers.isMobile()&&o.events.$on(c(o.o_doc),"selectionchange",n),o.events.on("blur",i),o.events.on("keyup",n),o.events.on("keydown",function(){setTimeout(function(){n()},0)})},hide:i}},ct.PLUGINS.quote=function(r){var i=r.$;function o(){for(var e=r.selection.blocks(),t=0;t<e.length;t++)e[t]=function(e){for(;e.parentNode&&e.parentNode!=r.el;)e=e.parentNode;return e}(e[t]);r.selection.save();var n=i(document.createElement("blockquote"));for(n.insertBefore(e[0]),t=0;t<e.length;t++)n.append(e[t]);r.opts.trackChangesEnabled&&r.track_changes.addQuote(n),r.html.unwrap(),r.selection.restore()}return{apply:function(e){if(r.selection.save(),r.html.wrap(!0,!0,!0,!0),r.selection.restore(),"increase"==e)o();else if("decrease"==e){for(var t=r.opts.trackChangesEnabled,n=r.selection.blocks(),a=0;a<n.length;a++)"BLOCKQUOTE"!=n[a].tagName&&(n[a]=t&&i(n[a]).parentsUntil(r.$el,"[data-track-id^=pending]").get(0)||i(n[a]).parentsUntil(r.$el,"BLOCKQUOTE").get(0));for(r.selection.save(),a=0;a<n.length;a++)n[a]&&(t?r.track_changes.removeQuote(i(n[a]),a):i(n[a]).replaceWith(n[a].innerHTML));r.html.unwrap(),r.selection.restore()}}}},ct.RegisterShortcut(ct.KEYCODE.SINGLE_QUOTE,"quote","increase","'"),ct.RegisterShortcut(ct.KEYCODE.SINGLE_QUOTE,"quote","decrease","'",!0),ct.RegisterCommand("quote",{title:"Quote",type:"dropdown",html:function(){var e,t,n='<ul class="fr-dropdown-list" role="presentation">',a={increase:"Increase",decrease:"Decrease"};for(e in a)a.hasOwnProperty(e)&&(t=this.shortcuts.get("quote.".concat(e)),n+='<li role="presentation"><a class="fr-command fr-active '.concat(e,'" tabIndex="-1" role="option" data-cmd="quote" data-param1="').concat(e,'" title="').concat(a[e],'">').concat(this.language.translate(a[e])).concat(t?'<span class="fr-shortcut">'.concat(t,"</span>"):"","</a></li>"));return n+="</ul>"},callback:function(e,t){this.quote.apply(t)},plugin:"quote"}),ct.DefineIcon("quote",{NAME:"quote-left",SVG_KEY:"blockquote"}),Object.assign(ct.DEFAULTS,{saveInterval:1e4,saveURL:null,saveParams:{},saveParam:"body",saveMethod:"POST"}),ct.PLUGINS.save=function(o){var s=o.$,a=null,l=null,t=!1,c=1,d=2,n={};function f(e,t){o.events.trigger("save.error",[{code:e,message:n[e]},t])}function r(e){var a=e=void 0===e?o.html.get():e,t=o.events.trigger("save.before",[e]);if(!1===t)return!1;if("string"==typeof t&&(e=t),o.opts.saveURL){var n,r,i={};for(n in o.opts.saveParams)o.opts.saveParams.hasOwnProperty(n)&&(r=o.opts.saveParams[n],i[n]="function"==typeof r?r.call(this):r);t={};t[o.opts.saveParam]=e,s(this).ajax({method:o.opts.saveMethod,url:o.opts.saveURL,data:Object.assign(t,i),crossDomain:o.opts.requestWithCORS,withCredentials:o.opts.requestWithCredentials,headers:o.opts.requestHeaders,done:function(e,t,n){l=a,o.events.trigger("save.after",[e])},fail:function(e){f(d,e.response||e.responseText)}})}else f(c)}function i(){clearTimeout(a),a=setTimeout(function(){var e=o.html.get();l==e&&!t||(t=!1,r(l=e))},0)}return n[c]="Missing saveURL option.",n[d]="Something went wrong during save.",{_init:function(){if(o.opts.letteringClass)for(var e=o.opts.letteringClass,t=o.$el.find(".".concat(e)).length,n=0;n<t;n++)o.$el.find(".".concat(e))[n].innerHTML=o.$el.find(".".concat(e))[n].innerText.replace(/([\w'-]+|[?.",])/g,"<span class = 'fr-word-select'>$1</span>");o.opts.saveInterval&&(l=o.html.get(),o.events.on("contentChanged",function(){setTimeout(i,o.opts.saveInterval)}),o.events.on("keydown destroy",function(){clearTimeout(a)}))},save:r,reset:function(){i(),t=!1},force:function(){t=!0}}},ct.DefineIcon("save",{NAME:"floppy-o",FA5NAME:"save"}),ct.RegisterCommand("save",{title:"Save",undo:!1,focus:!1,refreshAfterCallback:!1,callback:function(){this.save.save()},plugin:"save"}),Object.assign(ct.DEFAULTS,{specialCharactersSets:[{title:"Latin","char":"&iexcl;",list:[{"char":"&iexcl;",desc:"INVERTED EXCLAMATION MARK"},{"char":"&cent;",desc:"CENT SIGN"},{"char":"&pound;",desc:"POUND SIGN"},{"char":"&curren;",desc:"CURRENCY SIGN"},{"char":"&yen;",desc:"YEN SIGN"},{"char":"&brvbar;",desc:"BROKEN BAR"},{"char":"&sect;",desc:"SECTION SIGN"},{"char":"&uml;",desc:"DIAERESIS"},{"char":"&copy;",desc:"COPYRIGHT SIGN"},{"char":"&trade;",desc:"TRADEMARK SIGN"},{"char":"&ordf;",desc:"FEMININE ORDINAL INDICATOR"},{"char":"&laquo;",desc:"LEFT-POINTING DOUBLE ANGLE QUOTATION MARK"},{"char":"&not;",desc:"NOT SIGN"},{"char":"&reg;",desc:"REGISTERED SIGN"},{"char":"&macr;",desc:"MACRON"},{"char":"&deg;",desc:"DEGREE SIGN"},{"char":"&plusmn;",desc:"PLUS-MINUS SIGN"},{"char":"&sup2;",desc:"SUPERSCRIPT TWO"},{"char":"&sup3;",desc:"SUPERSCRIPT THREE"},{"char":"&acute;",desc:"ACUTE ACCENT"},{"char":"&micro;",desc:"MICRO SIGN"},{"char":"&para;",desc:"PILCROW SIGN"},{"char":"&middot;",desc:"MIDDLE DOT"},{"char":"&cedil;",desc:"CEDILLA"},{"char":"&sup1;",desc:"SUPERSCRIPT ONE"},{"char":"&ordm;",desc:"MASCULINE ORDINAL INDICATOR"},{"char":"&raquo;",desc:"RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK"},{"char":"&frac14;",desc:"VULGAR FRACTION ONE QUARTER"},{"char":"&frac12;",desc:"VULGAR FRACTION ONE HALF"},{"char":"&frac34;",desc:"VULGAR FRACTION THREE QUARTERS"},{"char":"&iquest;",desc:"INVERTED QUESTION MARK"},{"char":"&Agrave;",desc:"LATIN CAPITAL LETTER A WITH GRAVE"},{"char":"&Aacute;",desc:"LATIN CAPITAL LETTER A WITH ACUTE"},{"char":"&Acirc;",desc:"LATIN CAPITAL LETTER A WITH CIRCUMFLEX"},{"char":"&Atilde;",desc:"LATIN CAPITAL LETTER A WITH TILDE"},{"char":"&Auml;",desc:"LATIN CAPITAL LETTER A WITH DIAERESIS "},{"char":"&Aring;",desc:"LATIN CAPITAL LETTER A WITH RING ABOVE"},{"char":"&AElig;",desc:"LATIN CAPITAL LETTER AE"},{"char":"&Ccedil;",desc:"LATIN CAPITAL LETTER C WITH CEDILLA"},{"char":"&Egrave;",desc:"LATIN CAPITAL LETTER E WITH GRAVE"},{"char":"&Eacute;",desc:"LATIN CAPITAL LETTER E WITH ACUTE"},{"char":"&Ecirc;",desc:"LATIN CAPITAL LETTER E WITH CIRCUMFLEX"},{"char":"&Euml;",desc:"LATIN CAPITAL LETTER E WITH DIAERESIS"},{"char":"&Igrave;",desc:"LATIN CAPITAL LETTER I WITH GRAVE"},{"char":"&Iacute;",desc:"LATIN CAPITAL LETTER I WITH ACUTE"},{"char":"&Icirc;",desc:"LATIN CAPITAL LETTER I WITH CIRCUMFLEX"},{"char":"&Iuml;",desc:"LATIN CAPITAL LETTER I WITH DIAERESIS"},{"char":"&ETH;",desc:"LATIN CAPITAL LETTER ETH"},{"char":"&Ntilde;",desc:"LATIN CAPITAL LETTER N WITH TILDE"},{"char":"&Ograve;",desc:"LATIN CAPITAL LETTER O WITH GRAVE"},{"char":"&Oacute;",desc:"LATIN CAPITAL LETTER O WITH ACUTE"},{"char":"&Ocirc;",desc:"LATIN CAPITAL LETTER O WITH CIRCUMFLEX"},{"char":"&Otilde;",desc:"LATIN CAPITAL LETTER O WITH TILDE"},{"char":"&Ouml;",desc:"LATIN CAPITAL LETTER O WITH DIAERESIS"},{"char":"&times;",desc:"MULTIPLICATION SIGN"},{"char":"&Oslash;",desc:"LATIN CAPITAL LETTER O WITH STROKE"},{"char":"&Ugrave;",desc:"LATIN CAPITAL LETTER U WITH GRAVE"},{"char":"&Uacute;",desc:"LATIN CAPITAL LETTER U WITH ACUTE"},{"char":"&Ucirc;",desc:"LATIN CAPITAL LETTER U WITH CIRCUMFLEX"},{"char":"&Uuml;",desc:"LATIN CAPITAL LETTER U WITH DIAERESIS"},{"char":"&Yacute;",desc:"LATIN CAPITAL LETTER Y WITH ACUTE"},{"char":"&THORN;",desc:"LATIN CAPITAL LETTER THORN"},{"char":"&szlig;",desc:"LATIN SMALL LETTER SHARP S"},{"char":"&agrave;",desc:"LATIN SMALL LETTER A WITH GRAVE"},{"char":"&aacute;",desc:"LATIN SMALL LETTER A WITH ACUTE "},{"char":"&acirc;",desc:"LATIN SMALL LETTER A WITH CIRCUMFLEX"},{"char":"&atilde;",desc:"LATIN SMALL LETTER A WITH TILDE"},{"char":"&auml;",desc:"LATIN SMALL LETTER A WITH DIAERESIS"},{"char":"&aring;",desc:"LATIN SMALL LETTER A WITH RING ABOVE"},{"char":"&aelig;",desc:"LATIN SMALL LETTER AE"},{"char":"&ccedil;",desc:"LATIN SMALL LETTER C WITH CEDILLA"},{"char":"&egrave;",desc:"LATIN SMALL LETTER E WITH GRAVE"},{"char":"&eacute;",desc:"LATIN SMALL LETTER E WITH ACUTE"},{"char":"&ecirc;",desc:"LATIN SMALL LETTER E WITH CIRCUMFLEX"},{"char":"&euml;",desc:"LATIN SMALL LETTER E WITH DIAERESIS"},{"char":"&igrave;",desc:"LATIN SMALL LETTER I WITH GRAVE"},{"char":"&iacute;",desc:"LATIN SMALL LETTER I WITH ACUTE"},{"char":"&icirc;",desc:"LATIN SMALL LETTER I WITH CIRCUMFLEX"},{"char":"&iuml;",desc:"LATIN SMALL LETTER I WITH DIAERESIS"},{"char":"&eth;",desc:"LATIN SMALL LETTER ETH"},{"char":"&ntilde;",desc:"LATIN SMALL LETTER N WITH TILDE"},{"char":"&ograve;",desc:"LATIN SMALL LETTER O WITH GRAVE"},{"char":"&oacute;",desc:"LATIN SMALL LETTER O WITH ACUTE"},{"char":"&ocirc;",desc:"LATIN SMALL LETTER O WITH CIRCUMFLEX"},{"char":"&otilde;",desc:"LATIN SMALL LETTER O WITH TILDE"},{"char":"&ouml;",desc:"LATIN SMALL LETTER O WITH DIAERESIS"},{"char":"&divide;",desc:"DIVISION SIGN"},{"char":"&oslash;",desc:"LATIN SMALL LETTER O WITH STROKE"},{"char":"&ugrave;",desc:"LATIN SMALL LETTER U WITH GRAVE"},{"char":"&uacute;",desc:"LATIN SMALL LETTER U WITH ACUTE"},{"char":"&ucirc;",desc:"LATIN SMALL LETTER U WITH CIRCUMFLEX"},{"char":"&uuml;",desc:"LATIN SMALL LETTER U WITH DIAERESIS"},{"char":"&yacute;",desc:"LATIN SMALL LETTER Y WITH ACUTE"},{"char":"&thorn;",desc:"LATIN SMALL LETTER THORN"},{"char":"&yuml;",desc:"LATIN SMALL LETTER Y WITH DIAERESIS"}]},{title:"Greek","char":"&Alpha;",list:[{"char":"&Alpha;",desc:"GREEK CAPITAL LETTER ALPHA"},{"char":"&Beta;",desc:"GREEK CAPITAL LETTER BETA"},{"char":"&Gamma;",desc:"GREEK CAPITAL LETTER GAMMA"},{"char":"&Delta;",desc:"GREEK CAPITAL LETTER DELTA"},{"char":"&Epsilon;",desc:"GREEK CAPITAL LETTER EPSILON"},{"char":"&Zeta;",desc:"GREEK CAPITAL LETTER ZETA"},{"char":"&Eta;",desc:"GREEK CAPITAL LETTER ETA"},{"char":"&Theta;",desc:"GREEK CAPITAL LETTER THETA"},{"char":"&Iota;",desc:"GREEK CAPITAL LETTER IOTA"},{"char":"&Kappa;",desc:"GREEK CAPITAL LETTER KAPPA"},{"char":"&Lambda;",desc:"GREEK CAPITAL LETTER LAMBDA"},{"char":"&Mu;",desc:"GREEK CAPITAL LETTER MU"},{"char":"&Nu;",desc:"GREEK CAPITAL LETTER NU"},{"char":"&Xi;",desc:"GREEK CAPITAL LETTER XI"},{"char":"&Omicron;",desc:"GREEK CAPITAL LETTER OMICRON"},{"char":"&Pi;",desc:"GREEK CAPITAL LETTER PI"},{"char":"&Rho;",desc:"GREEK CAPITAL LETTER RHO"},{"char":"&Sigma;",desc:"GREEK CAPITAL LETTER SIGMA"},{"char":"&Tau;",desc:"GREEK CAPITAL LETTER TAU"},{"char":"&Upsilon;",desc:"GREEK CAPITAL LETTER UPSILON"},{"char":"&Phi;",desc:"GREEK CAPITAL LETTER PHI"},{"char":"&Chi;",desc:"GREEK CAPITAL LETTER CHI"},{"char":"&Psi;",desc:"GREEK CAPITAL LETTER PSI"},{"char":"&Omega;",desc:"GREEK CAPITAL LETTER OMEGA"},{"char":"&alpha;",desc:"GREEK SMALL LETTER ALPHA"},{"char":"&beta;",desc:"GREEK SMALL LETTER BETA"},{"char":"&gamma;",desc:"GREEK SMALL LETTER GAMMA"},{"char":"&delta;",desc:"GREEK SMALL LETTER DELTA"},{"char":"&epsilon;",desc:"GREEK SMALL LETTER EPSILON"},{"char":"&zeta;",desc:"GREEK SMALL LETTER ZETA"},{"char":"&eta;",desc:"GREEK SMALL LETTER ETA"},{"char":"&theta;",desc:"GREEK SMALL LETTER THETA"},{"char":"&iota;",desc:"GREEK SMALL LETTER IOTA"},{"char":"&kappa;",desc:"GREEK SMALL LETTER KAPPA"},{"char":"&lambda;",desc:"GREEK SMALL LETTER LAMBDA"},{"char":"&mu;",desc:"GREEK SMALL LETTER MU"},{"char":"&nu;",desc:"GREEK SMALL LETTER NU"},{"char":"&xi;",desc:"GREEK SMALL LETTER XI"},{"char":"&omicron;",desc:"GREEK SMALL LETTER OMICRON"},{"char":"&pi;",desc:"GREEK SMALL LETTER PI"},{"char":"&rho;",desc:"GREEK SMALL LETTER RHO"},{"char":"&sigmaf;",desc:"GREEK SMALL LETTER FINAL SIGMA"},{"char":"&sigma;",desc:"GREEK SMALL LETTER SIGMA"},{"char":"&tau;",desc:"GREEK SMALL LETTER TAU"},{"char":"&upsilon;",desc:"GREEK SMALL LETTER UPSILON"},{"char":"&phi;",desc:"GREEK SMALL LETTER PHI"},{"char":"&chi;",desc:"GREEK SMALL LETTER CHI"},{"char":"&psi;",desc:"GREEK SMALL LETTER PSI"},{"char":"&omega;",desc:"GREEK SMALL LETTER OMEGA"},{"char":"&thetasym;",desc:"GREEK THETA SYMBOL"},{"char":"&upsih;",desc:"GREEK UPSILON WITH HOOK SYMBOL"},{"char":"&straightphi;",desc:"GREEK PHI SYMBOL"},{"char":"&piv;",desc:"GREEK PI SYMBOL"},{"char":"&Gammad;",desc:"GREEK LETTER DIGAMMA"},{"char":"&gammad;",desc:"GREEK SMALL LETTER DIGAMMA"},{"char":"&varkappa;",desc:"GREEK KAPPA SYMBOL"},{"char":"&varrho;",desc:"GREEK RHO SYMBOL"},{"char":"&straightepsilon;",desc:"GREEK LUNATE EPSILON SYMBOL"},{"char":"&backepsilon;",desc:"GREEK REVERSED LUNATE EPSILON SYMBOL"}]},{title:"Cyrillic","char":"&#x400",list:[{"char":"&#x400",desc:"CYRILLIC CAPITAL LETTER IE WITH GRAVE"},{"char":"&#x401",desc:"CYRILLIC CAPITAL LETTER IO"},{"char":"&#x402",desc:"CYRILLIC CAPITAL LETTER DJE"},{"char":"&#x403",desc:"CYRILLIC CAPITAL LETTER GJE"},{"char":"&#x404",desc:"CYRILLIC CAPITAL LETTER UKRAINIAN IE"},{"char":"&#x405",desc:"CYRILLIC CAPITAL LETTER DZE"},{"char":"&#x406",desc:"CYRILLIC CAPITAL LETTER BYELORUSSIAN-UKRAINIAN I"},{"char":"&#x407",desc:"CYRILLIC CAPITAL LETTER YI"},{"char":"&#x408",desc:"CYRILLIC CAPITAL LETTER JE"},{"char":"&#x409",desc:"CYRILLIC CAPITAL LETTER LJE"},{"char":"&#x40A",desc:"CYRILLIC CAPITAL LETTER NJE"},{"char":"&#x40B",desc:"CYRILLIC CAPITAL LETTER TSHE"},{"char":"&#x40C",desc:"CYRILLIC CAPITAL LETTER KJE"},{"char":"&#x40D",desc:"CYRILLIC CAPITAL LETTER I WITH GRAVE"},{"char":"&#x40E",desc:"CYRILLIC CAPITAL LETTER SHORT U"},{"char":"&#x40F",desc:"CYRILLIC CAPITAL LETTER DZHE"},{"char":"&#x410",desc:"CYRILLIC CAPITAL LETTER A"},{"char":"&#x411",desc:"CYRILLIC CAPITAL LETTER BE"},{"char":"&#x412",desc:"CYRILLIC CAPITAL LETTER VE"},{"char":"&#x413",desc:"CYRILLIC CAPITAL LETTER GHE"},{"char":"&#x414",desc:"CYRILLIC CAPITAL LETTER DE"},{"char":"&#x415",desc:"CYRILLIC CAPITAL LETTER IE"},{"char":"&#x416",desc:"CYRILLIC CAPITAL LETTER ZHE"},{"char":"&#x417",desc:"CYRILLIC CAPITAL LETTER ZE"},{"char":"&#x418",desc:"CYRILLIC CAPITAL LETTER I"},{"char":"&#x419",desc:"CYRILLIC CAPITAL LETTER SHORT I"},{"char":"&#x41A",desc:"CYRILLIC CAPITAL LETTER KA"},{"char":"&#x41B",desc:"CYRILLIC CAPITAL LETTER EL"},{"char":"&#x41C",desc:"CYRILLIC CAPITAL LETTER EM"},{"char":"&#x41D",desc:"CYRILLIC CAPITAL LETTER EN"},{"char":"&#x41E",desc:"CYRILLIC CAPITAL LETTER O"},{"char":"&#x41F",desc:"CYRILLIC CAPITAL LETTER PE"},{"char":"&#x420",desc:"CYRILLIC CAPITAL LETTER ER"},{"char":"&#x421",desc:"CYRILLIC CAPITAL LETTER ES"},{"char":"&#x422",desc:"CYRILLIC CAPITAL LETTER TE"},{"char":"&#x423",desc:"CYRILLIC CAPITAL LETTER U"},{"char":"&#x424",desc:"CYRILLIC CAPITAL LETTER EF"},{"char":"&#x425",desc:"CYRILLIC CAPITAL LETTER HA"},{"char":"&#x426",desc:"CYRILLIC CAPITAL LETTER TSE"},{"char":"&#x427",desc:"CYRILLIC CAPITAL LETTER CHE"},{"char":"&#x428",desc:"CYRILLIC CAPITAL LETTER SHA"},{"char":"&#x429",desc:"CYRILLIC CAPITAL LETTER SHCHA"},{"char":"&#x42A",desc:"CYRILLIC CAPITAL LETTER HARD SIGN"},{"char":"&#x42B",desc:"CYRILLIC CAPITAL LETTER YERU"},{"char":"&#x42C",desc:"CYRILLIC CAPITAL LETTER SOFT SIGN"},{"char":"&#x42D",desc:"CYRILLIC CAPITAL LETTER E"},{"char":"&#x42E",desc:"CYRILLIC CAPITAL LETTER YU"},{"char":"&#x42F",desc:"CYRILLIC CAPITAL LETTER YA"},{"char":"&#x430",desc:"CYRILLIC SMALL LETTER A"},{"char":"&#x431",desc:"CYRILLIC SMALL LETTER BE"},{"char":"&#x432",desc:"CYRILLIC SMALL LETTER VE"},{"char":"&#x433",desc:"CYRILLIC SMALL LETTER GHE"},{"char":"&#x434",desc:"CYRILLIC SMALL LETTER DE"},{"char":"&#x435",desc:"CYRILLIC SMALL LETTER IE"},{"char":"&#x436",desc:"CYRILLIC SMALL LETTER ZHE"},{"char":"&#x437",desc:"CYRILLIC SMALL LETTER ZE"},{"char":"&#x438",desc:"CYRILLIC SMALL LETTER I"},{"char":"&#x439",desc:"CYRILLIC SMALL LETTER SHORT I"},{"char":"&#x43A",desc:"CYRILLIC SMALL LETTER KA"},{"char":"&#x43B",desc:"CYRILLIC SMALL LETTER EL"},{"char":"&#x43C",desc:"CYRILLIC SMALL LETTER EM"},{"char":"&#x43D",desc:"CYRILLIC SMALL LETTER EN"},{"char":"&#x43E",desc:"CYRILLIC SMALL LETTER O"},{"char":"&#x43F",desc:"CYRILLIC SMALL LETTER PE"},{"char":"&#x440",desc:"CYRILLIC SMALL LETTER ER"},{"char":"&#x441",desc:"CYRILLIC SMALL LETTER ES"},{"char":"&#x442",desc:"CYRILLIC SMALL LETTER TE"},{"char":"&#x443",desc:"CYRILLIC SMALL LETTER U"},{"char":"&#x444",desc:"CYRILLIC SMALL LETTER EF"},{"char":"&#x445",desc:"CYRILLIC SMALL LETTER HA"},{"char":"&#x446",desc:"CYRILLIC SMALL LETTER TSE"},{"char":"&#x447",desc:"CYRILLIC SMALL LETTER CHE"},{"char":"&#x448",desc:"CYRILLIC SMALL LETTER SHA"},{"char":"&#x449",desc:"CYRILLIC SMALL LETTER SHCHA"},{"char":"&#x44A",desc:"CYRILLIC SMALL LETTER HARD SIGN"},{"char":"&#x44B",desc:"CYRILLIC SMALL LETTER YERU"},{"char":"&#x44C",desc:"CYRILLIC SMALL LETTER SOFT SIGN"},{"char":"&#x44D",desc:"CYRILLIC SMALL LETTER E"},{"char":"&#x44E",desc:"CYRILLIC SMALL LETTER YU"},{"char":"&#x44F",desc:"CYRILLIC SMALL LETTER YA"},{"char":"&#x450",desc:"CYRILLIC SMALL LETTER IE WITH GRAVE"},{"char":"&#x451",desc:"CYRILLIC SMALL LETTER IO"},{"char":"&#x452",desc:"CYRILLIC SMALL LETTER DJE"},{"char":"&#x453",desc:"CYRILLIC SMALL LETTER GJE"},{"char":"&#x454",desc:"CYRILLIC SMALL LETTER UKRAINIAN IE"},{"char":"&#x455",desc:"CYRILLIC SMALL LETTER DZE"},{"char":"&#x456",desc:"CYRILLIC SMALL LETTER BYELORUSSIAN-UKRAINIAN I"},{"char":"&#x457",desc:"CYRILLIC SMALL LETTER YI"},{"char":"&#x458",desc:"CYRILLIC SMALL LETTER JE"},{"char":"&#x459",desc:"CYRILLIC SMALL LETTER LJE"},{"char":"&#x45A",desc:"CYRILLIC SMALL LETTER NJE"},{"char":"&#x45B",desc:"CYRILLIC SMALL LETTER TSHE"},{"char":"&#x45C",desc:"CYRILLIC SMALL LETTER KJE"},{"char":"&#x45D",desc:"CYRILLIC SMALL LETTER I WITH GRAVE"},{"char":"&#x45E",desc:"CYRILLIC SMALL LETTER SHORT U"},{"char":"&#x45F",desc:"CYRILLIC SMALL LETTER DZHE"}]},{title:"Punctuation","char":"&ndash;",list:[{"char":"&ndash;",desc:"EN DASH"},{"char":"&mdash;",desc:"EM DASH"},{"char":"&lsquo;",desc:"LEFT SINGLE QUOTATION MARK"},{"char":"&rsquo;",desc:"RIGHT SINGLE QUOTATION MARK"},{"char":"&sbquo;",desc:"SINGLE LOW-9 QUOTATION MARK"},{"char":"&ldquo;",desc:"LEFT DOUBLE QUOTATION MARK"},{"char":"&rdquo;",desc:"RIGHT DOUBLE QUOTATION MARK"},{"char":"&bdquo;",desc:"DOUBLE LOW-9 QUOTATION MARK"},{"char":"&dagger;",desc:"DAGGER"},{"char":"&Dagger;",desc:"DOUBLE DAGGER"},{"char":"&bull;",desc:"BULLET"},{"char":"&hellip;",desc:"HORIZONTAL ELLIPSIS"},{"char":"&permil;",desc:"PER MILLE SIGN"},{"char":"&prime;",desc:"PRIME"},{"char":"&Prime;",desc:"DOUBLE PRIME"},{"char":"&lsaquo;",desc:"SINGLE LEFT-POINTING ANGLE QUOTATION MARK"},{"char":"&rsaquo;",desc:"SINGLE RIGHT-POINTING ANGLE QUOTATION MARK"},{"char":"&oline;",desc:"OVERLINE"},{"char":"&frasl;",desc:"FRACTION SLASH"}]},{title:"Currency","char":"&#x20A0",list:[{"char":"&#x20A0",desc:"EURO-CURRENCY SIGN"},{"char":"&#x20A1",desc:"COLON SIGN"},{"char":"&#x20A2",desc:"CRUZEIRO SIGN"},{"char":"&#x20A3",desc:"FRENCH FRANC SIGN"},{"char":"&#x20A4",desc:"LIRA SIGN"},{"char":"&#x20A5",desc:"MILL SIGN"},{"char":"&#x20A6",desc:"NAIRA SIGN"},{"char":"&#x20A7",desc:"PESETA SIGN"},{"char":"&#x20A8",desc:"RUPEE SIGN"},{"char":"&#x20A9",desc:"WON SIGN"},{"char":"&#x20AA",desc:"NEW SHEQEL SIGN"},{"char":"&#x20AB",desc:"DONG SIGN"},{"char":"&#x20AC",desc:"EURO SIGN"},{"char":"&#x20AD",desc:"KIP SIGN"},{"char":"&#x20AE",desc:"TUGRIK SIGN"},{"char":"&#x20AF",desc:"DRACHMA SIGN"},{"char":"&#x20B0",desc:"GERMAN PENNY SYMBOL"},{"char":"&#x20B1",desc:"PESO SIGN"},{"char":"&#x20B2",desc:"GUARANI SIGN"},{"char":"&#x20B3",desc:"AUSTRAL SIGN"},{"char":"&#x20B4",desc:"HRYVNIA SIGN"},{"char":"&#x20B5",desc:"CEDI SIGN"},{"char":"&#x20B6",desc:"LIVRE TOURNOIS SIGN"},{"char":"&#x20B7",desc:"SPESMILO SIGN"},{"char":"&#x20B8",desc:"TENGE SIGN"},{"char":"&#x20B9",desc:"INDIAN RUPEE SIGN"}]},{title:"Arrows","char":"&#x2190",list:[{"char":"&#x2190",desc:"LEFTWARDS ARROW"},{"char":"&#x2191",desc:"UPWARDS ARROW"},{"char":"&#x2192",desc:"RIGHTWARDS ARROW"},{"char":"&#x2193",desc:"DOWNWARDS ARROW"},{"char":"&#x2194",desc:"LEFT RIGHT ARROW"},{"char":"&#x2195",desc:"UP DOWN ARROW"},{"char":"&#x2196",desc:"NORTH WEST ARROW"},{"char":"&#x2197",desc:"NORTH EAST ARROW"},{"char":"&#x2198",desc:"SOUTH EAST ARROW"},{"char":"&#x2199",desc:"SOUTH WEST ARROW"},{"char":"&#x219A",desc:"LEFTWARDS ARROW WITH STROKE"},{"char":"&#x219B",desc:"RIGHTWARDS ARROW WITH STROKE"},{"char":"&#x219C",desc:"LEFTWARDS WAVE ARROW"},{"char":"&#x219D",desc:"RIGHTWARDS WAVE ARROW"},{"char":"&#x219E",desc:"LEFTWARDS TWO HEADED ARROW"},{"char":"&#x219F",desc:"UPWARDS TWO HEADED ARROW"},{"char":"&#x21A0",desc:"RIGHTWARDS TWO HEADED ARROW"},{"char":"&#x21A1",desc:"DOWNWARDS TWO HEADED ARROW"},{"char":"&#x21A2",desc:"LEFTWARDS ARROW WITH TAIL"},{"char":"&#x21A3",desc:"RIGHTWARDS ARROW WITH TAIL"},{"char":"&#x21A4",desc:"LEFTWARDS ARROW FROM BAR"},{"char":"&#x21A5",desc:"UPWARDS ARROW FROM BAR"},{"char":"&#x21A6",desc:"RIGHTWARDS ARROW FROM BAR"},{"char":"&#x21A7",desc:"DOWNWARDS ARROW FROM BAR"},{"char":"&#x21A8",desc:"UP DOWN ARROW WITH BASE"},{"char":"&#x21A9",desc:"LEFTWARDS ARROW WITH HOOK"},{"char":"&#x21AA",desc:"RIGHTWARDS ARROW WITH HOOK"},{"char":"&#x21AB",desc:"LEFTWARDS ARROW WITH LOOP"},{"char":"&#x21AC",desc:"RIGHTWARDS ARROW WITH LOOP"},{"char":"&#x21AD",desc:"LEFT RIGHT WAVE ARROW"},{"char":"&#x21AE",desc:"LEFT RIGHT ARROW WITH STROKE"},{"char":"&#x21AF",desc:"DOWNWARDS ZIGZAG ARROW"},{"char":"&#x21B0",desc:"UPWARDS ARROW WITH TIP LEFTWARDS"},{"char":"&#x21B1",desc:"UPWARDS ARROW WITH TIP RIGHTWARDS"},{"char":"&#x21B2",desc:"DOWNWARDS ARROW WITH TIP LEFTWARDS"},{"char":"&#x21B3",desc:"DOWNWARDS ARROW WITH TIP RIGHTWARDS"},{"char":"&#x21B4",desc:"RIGHTWARDS ARROW WITH CORNER DOWNWARDS"},{"char":"&#x21B5",desc:"DOWNWARDS ARROW WITH CORNER LEFTWARDS"},{"char":"&#x21B6",desc:"ANTICLOCKWISE TOP SEMICIRCLE ARROW"},{"char":"&#x21B7",desc:"CLOCKWISE TOP SEMICIRCLE ARROW"},{"char":"&#x21B8",desc:"NORTH WEST ARROW TO LONG BAR"},{"char":"&#x21B9",desc:"LEFTWARDS ARROW TO BAR OVER RIGHTWARDS ARROW TO BAR"},{"char":"&#x21BA",desc:"ANTICLOCKWISE OPEN CIRCLE ARROW"},{"char":"&#x21BB",desc:"CLOCKWISE OPEN CIRCLE ARROW"},{"char":"&#x21BC",desc:"LEFTWARDS HARPOON WITH BARB UPWARDS"},{"char":"&#x21BD",desc:"LEFTWARDS HARPOON WITH BARB DOWNWARDS"},{"char":"&#x21BE",desc:"UPWARDS HARPOON WITH BARB RIGHTWARDS"},{"char":"&#x21BF",desc:"UPWARDS HARPOON WITH BARB LEFTWARDS"},{"char":"&#x21C0",desc:"RIGHTWARDS HARPOON WITH BARB UPWARDS"},{"char":"&#x21C1",desc:"RIGHTWARDS HARPOON WITH BARB DOWNWARDS"},{"char":"&#x21C2",desc:"DOWNWARDS HARPOON WITH BARB RIGHTWARDS"},{"char":"&#x21C3",desc:"DOWNWARDS HARPOON WITH BARB LEFTWARDS"},{"char":"&#x21C4",desc:"RIGHTWARDS ARROW OVER LEFTWARDS ARROW"},{"char":"&#x21C5",desc:"UPWARDS ARROW LEFTWARDS OF DOWNWARDS ARROW"},{"char":"&#x21C6",desc:"LEFTWARDS ARROW OVER RIGHTWARDS ARROW"},{"char":"&#x21C7",desc:"LEFTWARDS PAIRED ARROWS"},{"char":"&#x21C8",desc:"UPWARDS PAIRED ARROWS"},{"char":"&#x21C9",desc:"RIGHTWARDS PAIRED ARROWS"},{"char":"&#x21CA",desc:"DOWNWARDS PAIRED ARROWS"},{"char":"&#x21CB",desc:"LEFTWARDS HARPOON OVER RIGHTWARDS HARPOON"},{"char":"&#x21CC",desc:"RIGHTWARDS HARPOON OVER LEFTWARDS HARPOON"},{"char":"&#x21CD",desc:"LEFTWARDS DOUBLE ARROW WITH STROKE"},{"char":"&#x21CE",desc:"LEFT RIGHT DOUBLE ARROW WITH STROKE"},{"char":"&#x21CF",desc:"RIGHTWARDS DOUBLE ARROW WITH STROKE"},{"char":"&#x21D0",desc:"LEFTWARDS DOUBLE ARROW"},{"char":"&#x21D1",desc:"UPWARDS DOUBLE ARROW"},{"char":"&#x21D2",desc:"RIGHTWARDS DOUBLE ARROW"},{"char":"&#x21D3",desc:"DOWNWARDS DOUBLE ARROW"},{"char":"&#x21D4",desc:"LEFT RIGHT DOUBLE ARROW"},{"char":"&#x21D5",desc:"UP DOWN DOUBLE ARROW"},{"char":"&#x21D6",desc:"NORTH WEST DOUBLE ARROW"},{"char":"&#x21D7",desc:"NORTH EAST DOUBLE ARROW"},{"char":"&#x21D8",desc:"SOUTH EAST DOUBLE ARROW"},{"char":"&#x21D9",desc:"SOUTH WEST DOUBLE ARROW"},{"char":"&#x21DA",desc:"LEFTWARDS TRIPLE ARROW"},{"char":"&#x21DB",desc:"RIGHTWARDS TRIPLE ARROW"},{"char":"&#x21DC",desc:"LEFTWARDS SQUIGGLE ARROW"},{"char":"&#x21DD",desc:"RIGHTWARDS SQUIGGLE ARROW"},{"char":"&#x21DE",desc:"UPWARDS ARROW WITH DOUBLE STROKE"},{"char":"&#x21DF",desc:"DOWNWARDS ARROW WITH DOUBLE STROKE"},{"char":"&#x21E0",desc:"LEFTWARDS DASHED ARROW"},{"char":"&#x21E1",desc:"UPWARDS DASHED ARROW"},{"char":"&#x21E2",desc:"RIGHTWARDS DASHED ARROW"},{"char":"&#x21E3",desc:"DOWNWARDS DASHED ARROW"},{"char":"&#x21E4",desc:"LEFTWARDS ARROW TO BAR"},{"char":"&#x21E5",desc:"RIGHTWARDS ARROW TO BAR"},{"char":"&#x21E6",desc:"LEFTWARDS WHITE ARROW"},{"char":"&#x21E7",desc:"UPWARDS WHITE ARROW"},{"char":"&#x21E8",desc:"RIGHTWARDS WHITE ARROW"},{"char":"&#x21E9",desc:"DOWNWARDS WHITE ARROW"},{"char":"&#x21EA",desc:"UPWARDS WHITE ARROW FROM BAR"},{"char":"&#x21EB",desc:"UPWARDS WHITE ARROW ON PEDESTAL"},{"char":"&#x21EC",desc:"UPWARDS WHITE ARROW ON PEDESTAL WITH HORIZONTAL BAR"},{"char":"&#x21ED",desc:"UPWARDS WHITE ARROW ON PEDESTAL WITH VERTICAL BAR"},{"char":"&#x21EE",desc:"UPWARDS WHITE DOUBLE ARROW"},{"char":"&#x21EF",desc:"UPWARDS WHITE DOUBLE ARROW ON PEDESTAL"},{"char":"&#x21F0",desc:"RIGHTWARDS WHITE ARROW FROM WALL"},{"char":"&#x21F1",desc:"NORTH WEST ARROW TO CORNER"},{"char":"&#x21F2",desc:"SOUTH EAST ARROW TO CORNER"},{"char":"&#x21F3",desc:"UP DOWN WHITE ARROW"},{"char":"&#x21F4",desc:"RIGHT ARROW WITH SMALL CIRCLE"},{"char":"&#x21F5",desc:"DOWNWARDS ARROW LEFTWARDS OF UPWARDS ARROW"},{"char":"&#x21F6",desc:"THREE RIGHTWARDS ARROWS"},{"char":"&#x21F7",desc:"LEFTWARDS ARROW WITH VERTICAL STROKE"},{"char":"&#x21F8",desc:"RIGHTWARDS ARROW WITH VERTICAL STROKE"},{"char":"&#x21F9",desc:"LEFT RIGHT ARROW WITH VERTICAL STROKE"},{"char":"&#x21FA",desc:"LEFTWARDS ARROW WITH DOUBLE VERTICAL STROKE"},{"char":"&#x21FB",desc:"RIGHTWARDS ARROW WITH DOUBLE VERTICAL STROKE"},{"char":"&#x21FC",desc:"LEFT RIGHT ARROW WITH DOUBLE VERTICAL STROKE"},{"char":"&#x21FD",desc:"LEFTWARDS OPEN-HEADED ARROW"},{"char":"&#x21FE",desc:"RIGHTWARDS OPEN-HEADED ARROW"},{"char":"&#x21FF",desc:"LEFT RIGHT OPEN-HEADED ARROW"}]},{title:"Math","char":"&forall;",list:[{"char":"&forall;",desc:"FOR ALL"},{"char":"&part;",desc:"PARTIAL DIFFERENTIAL"},{"char":"&exist;",desc:"THERE EXISTS"},{"char":"&empty;",desc:"EMPTY SET"},{"char":"&nabla;",desc:"NABLA"},{"char":"&isin;",desc:"ELEMENT OF"},{"char":"&notin;",desc:"NOT AN ELEMENT OF"},{"char":"&ni;",desc:"CONTAINS AS MEMBER"},{"char":"&prod;",desc:"N-ARY PRODUCT"},{"char":"&sum;",desc:"N-ARY SUMMATION"},{"char":"&minus;",desc:"MINUS SIGN"},{"char":"&lowast;",desc:"ASTERISK OPERATOR"},{"char":"&radic;",desc:"SQUARE ROOT"},{"char":"&prop;",desc:"PROPORTIONAL TO"},{"char":"&infin;",desc:"INFINITY"},{"char":"&ang;",desc:"ANGLE"},{"char":"&and;",desc:"LOGICAL AND"},{"char":"&or;",desc:"LOGICAL OR"},{"char":"&cap;",desc:"INTERSECTION"},{"char":"&cup;",desc:"UNION"},{"char":"&int;",desc:"INTEGRAL"},{"char":"&there4;",desc:"THEREFORE"},{"char":"&sim;",desc:"TILDE OPERATOR"},{"char":"&cong;",desc:"APPROXIMATELY EQUAL TO"},{"char":"&asymp;",desc:"ALMOST EQUAL TO"},{"char":"&ne;",desc:"NOT EQUAL TO"},{"char":"&equiv;",desc:"IDENTICAL TO"},{"char":"&le;",desc:"LESS-THAN OR EQUAL TO"},{"char":"&ge;",desc:"GREATER-THAN OR EQUAL TO"},{"char":"&sub;",desc:"SUBSET OF"},{"char":"&sup;",desc:"SUPERSET OF"},{"char":"&nsub;",desc:"NOT A SUBSET OF"},{"char":"&sube;",desc:"SUBSET OF OR EQUAL TO"},{"char":"&supe;",desc:"SUPERSET OF OR EQUAL TO"},{"char":"&oplus;",desc:"CIRCLED PLUS"},{"char":"&otimes;",desc:"CIRCLED TIMES"},{"char":"&perp;",desc:"UP TACK"}]},{title:"Misc","char":"&spades;",list:[{"char":"&spades;",desc:"BLACK SPADE SUIT"},{"char":"&clubs;",desc:"BLACK CLUB SUIT"},{"char":"&hearts;",desc:"BLACK HEART SUIT"},{"char":"&diams;",desc:"BLACK DIAMOND SUIT"},{"char":"&#x2669",desc:"QUARTER NOTE"},{"char":"&#x266A",desc:"EIGHTH NOTE"},{"char":"&#x266B",desc:"BEAMED EIGHTH NOTES"},{"char":"&#x266C",desc:"BEAMED SIXTEENTH NOTES"},{"char":"&#x266D",desc:"MUSIC FLAT SIGN"},{"char":"&#x266E",desc:"MUSIC NATURAL SIGN"},{"char":"&#x2600",desc:"BLACK SUN WITH RAYS"},{"char":"&#x2601",desc:"CLOUD"},{"char":"&#x2602",desc:"UMBRELLA"},{"char":"&#x2603",desc:"SNOWMAN"},{"char":"&#x2615",desc:"HOT BEVERAGE"},{"char":"&#x2618",desc:"SHAMROCK"},{"char":"&#x262F",desc:"YIN YANG"},{"char":"&#x2714",desc:"HEAVY CHECK MARK"},{"char":"&#x2716",desc:"HEAVY MULTIPLICATION X"},{"char":"&#x2744",desc:"SNOWFLAKE"},{"char":"&#x275B",desc:"HEAVY SINGLE TURNED COMMA QUOTATION MARK ORNAMENT"},{"char":"&#x275C",desc:"HEAVY SINGLE COMMA QUOTATION MARK ORNAMENT"},{"char":"&#x275D",desc:"HEAVY DOUBLE TURNED COMMA QUOTATION MARK ORNAMENT"},{"char":"&#x275E",desc:"HEAVY DOUBLE COMMA QUOTATION MARK ORNAMENT"},{"char":"&#x2764",desc:"HEAVY BLACK HEART"}]}],specialCharButtons:["specialCharBack","|"]}),Object.assign(ct.POPUP_TEMPLATES,{specialCharacters:"[_BUTTONS_][_CUSTOM_LAYER_]"}),ct.PLUGINS.specialCharacters=function(f){var p=f.$,r=f.opts.specialCharactersSets,i=f.opts.specialCharactersSets[0],a="";function o(){return'\n        <div class="fr-buttons fr-tabs fr-tabs-scroll">\n          '.concat((n=i,a="",r.forEach(function(e){var t=e.title===n.title,e={elementClass:t?"fr-active fr-active-tab":"",title:e.title,dataParam1:e.title,desc:e["char"]};a+='<button class="fr-command fr-btn fr-special-character-category '.concat(e.elementClass,'" \n      title="').concat(e.title,'" data-cmd="setSpecialCharacterCategory" data-param1="').concat(e.dataParam1,'" aria-pressed="').concat(t,'">\n      <span>').concat(e.desc,"</span></button>")}),a),'\n        </div>\n        <div class="fr-icon-container fr-sc-container" style="outline: none;">\n          ').concat((t="",i.list.forEach(function(e){e={dataParam1:e["char"],title:e.desc,splCharValue:e["char"]};t+='<span class="fr-command fr-special-character fr-icon" role="button" \n      data-cmd="insertSpecialCharacter" data-param1="'.concat(e.dataParam1,'" tabindex="0"\n      title="').concat(e.title,'">').concat(e.splCharValue,"</span>")}),t),"\n        </div>");var t,n,a}return{setSpecialCharacterCategory:function(t){var e;i=r.filter(function(e){return e.title===t})[0],f.popups.get("specialCharacters").html(a+o()),e=f.popups.get("specialCharacters").children().not(".fr-buttons"),f.accessibility.registerPopup("specialCharacters"),f.accessibility.focusContent(e)},showSpecialCharsPopup:function(){var e,t,n=f.popups.get("specialCharacters");if(!n){f.opts.toolbarInline&&0<f.opts.specialCharButtons.length&&(a='<div class="fr-buttons fr-tabs">'.concat(f.button.buildList(f.opts.specialCharButtons),"</div>")),e={buttons:a,custom_layer:o()};var d=e=f.popups.create("specialCharacters",e);f.events.on("popup.tab",function(e){var t,n,a,r,i,o,s,l,c=p(e.currentTarget);return!f.popups.isVisible("specialCharacters")||!c.is("span, a")||(t=e.which,i=window.getComputedStyle(d.find(".fr-icon-container")[0]).getPropertyValue("grid-template-columns").split(" ").length,ct.KEYCODE.TAB==t?(r=d.find("span.fr-special-character"),(c.is(r.first())&&e.shiftKey||c.is(r.last())&&!e.shiftKey)&&(r=d.find(".fr-buttons"),a=!f.accessibility.focusToolbar(r,!!e.shiftKey)),!1!==a&&((r=d.find("span.fr-special-character")).add(d.find("button.fr-btn")),s=r.index(c),s=e.shiftKey?((s-1)%r.length+r.length)%r.length:(s+1)%r.length,n=r.get(s),f.events.disableBlur(),n.focus(),a=!1)):ct.KEYCODE.ARROW_UP==t||ct.KEYCODE.ARROW_DOWN==t||ct.KEYCODE.ARROW_LEFT==t||ct.KEYCODE.ARROW_RIGHT==t?c.is("span.fr-icon")&&(s=(r=c.parent().find("span.fr-icon")).index(c),i=i,o=Math.ceil(r.length/i),l=s%i,s=Math.floor(s/i)*i+l,l=o*i,ct.KEYCODE.ARROW_UP==t?s=((s-i)%l+l)%l:ct.KEYCODE.ARROW_DOWN==t?s=(s+i)%l:ct.KEYCODE.ARROW_LEFT==t?s=((s-1)%l+l)%l:ct.KEYCODE.ARROW_RIGHT==t&&(s=(s+1)%l),n=p(r.get(s)),f.events.disableBlur(),n.focus(),a=!1):ct.KEYCODE.ENTER==t&&(c.is("a")?c[0].click():f.button.exec(c),a=!1),!1===a&&(e.preventDefault(),e.stopPropagation()),a)},!0),n=e}n.hasClass("fr-active")||(f.popups.refresh("specialCharacters"),f.popups.setContainer("specialCharacters",f.$tb),e=f.$tb.find('.fr-command[data-cmd="specialCharacters"]'),t=(n=f.button.getPosition(e)).left,f.popups.show("specialCharacters",t,n.top,outerHeight))},back:function(){f.popups.hide("specialCharacters"),f.toolbar.showInline()}}},ct.DefineIcon("specialCharacters",{NAME:"dollar-sign",SVG_KEY:"symbols"}),ct.RegisterCommand("specialCharacters",{title:"Special Characters",icon:"specialCharacters",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,plugin:"specialCharacters",showOnMobile:!0,callback:function(){this.popups.isVisible("specialCharacters")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("specialCharacters")):this.specialCharacters.showSpecialCharsPopup()}}),ct.RegisterCommand("insertSpecialCharacter",{callback:function(e,t){this.undo.saveStep(),this.html.insert(t),this.undo.saveStep(),this.popups.hide("specialCharacters")}}),ct.RegisterCommand("setSpecialCharacterCategory",{undo:!1,focus:!1,callback:function(e,t){this.specialCharacters.setSpecialCharacterCategory(t)}}),ct.DefineIcon("specialCharBack",{NAME:"arrow-left",SVG_KEY:"back"}),ct.RegisterCommand("specialCharBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.specialCharacters.back()}}),Object.assign(ct.POPUP_TEMPLATES,{"table.insert":"[_BUTTONS_][_ROWS_COLUMNS_]","table.edit":"[_BUTTONS_]","table.colors":"[_BUTTONS_][_COLORS_][_CUSTOM_COLOR_]","table.cellProperties":"[_CELL_PROPERTIES_FORM_][_BUTTONS_]","table.tableProperties":"[_TABLE_PROPERTIES_FORM_][_BUTTONS_]"}),Object.assign(ct.DEFAULTS,{tableInsertMaxSize:10,tableEditButtons:["tableHeader","tableFooter","tableRemove","tableRows","tableColumns","tableProperties","-","tableCells","tableCellProperties","tableCellVerticalAlign","tableCellHorizontalAlign","tableCellStyle"],tableInsertButtons:["tableBack","|"],tableResizer:!0,tableDefaultWidth:"50%",tableDefaultAlign:"center",tableDefaultHeight:"100px",tableDefaultBGColor:"",tableDefaultBorderColor:"",tableDefaultBorderWidth:"",tableDefaultBorderStyle:"",tableBorderStyle:["solid","dashed","dotted","double","groove","ridge","inset","outset"],tableResizerOffset:5,tableResizingLimit:30,tableColorsButtons:["tableBack","|"],tableColors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],tableColorsStep:7,tableCellStyles:{"fr-highlighted":"Highlighted","fr-thick":"Thick"},tableStyles:{"fr-dashed-borders":"Dashed Borders","fr-alternate-rows":"Alternate Rows"},tableCellMultipleStyles:!0,tableMultipleStyles:!0,tableInsertHelper:!0,keepTextFormatOnTable:!1,tableInsertHelperOffset:15,proportionalTableResize:!0,enableTableSelection:!0}),ct.PLUGINS.table=function(k){var S,h,p,u,r,R,g,l,x=k.$;function m(){var e,t=L();t&&(k.popups.get("table.edit")||$())&&(k.popups.setContainer("table.edit",k.$sc),e=(t=_(t)).left+(t.right-t.left)/2,k.popups.show("table.edit",e,t.bottom,t.bottom-t.top,!0),k.edit.isDisabled())&&(k.$el.removeClass("fr-no-selection"),k.edit.on(),k.button.bulkRefresh(),k.selection.setAtEnd(k.$el.find(".fr-selected-cell").last().get(0)),k.selection.restore())}function t(){0===N().length&&k.toolbar.enable()}function o(e){return e?(k.popups.onHide("table.insert",function(){k.popups.get("table.insert").find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseover")}),!0):(e="",e={buttons:e=0<k.opts.tableInsertButtons.length?'<div class="fr-buttons fr-tabs">'.concat(k.button.buildList(k.opts.tableInsertButtons),"</div>"):e,rows_columns:function(){for(var e='<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',t=1;t<=k.opts.tableInsertMaxSize;t++){for(var n=1;n<=k.opts.tableInsertMaxSize;n++){var a="inline-block",r=(2<t&&!k.helpers.isMobile()&&(a="none"),"fr-table-cell ");1==t&&1==n&&(r+=" hover"),e+='<span class="fr-command '.concat(r,'" tabIndex="-1" data-cmd="tableInsert" data-row="').concat(t,'" data-col="').concat(n,'" data-param1="').concat(t,'" data-param2="').concat(n,'" style="display: ').concat(a,';" role="button"><span></span><span class="fr-sr-only">').concat(t," &times; ").concat(n,"&nbsp;&nbsp;&nbsp;</span></span>")}e+='<div class="new-line"></div>'}return e+="</div></div>"}()},e=k.popups.create("table.insert",e),k.events.$on(e,"mouseover",".fr-table-size .fr-select-table-size .fr-table-cell",function(e){s(x(e.currentTarget))},!0),k.events.$on(e,"focus","[tabIndex]",function(e){s(x(e.currentTarget))}),k.events.on("popup.tab",function(e){var t,n,a,r,i,o=x(e.currentTarget);return!k.popups.isVisible("table.insert")||!o.is("span, a")||(t=e.which,ct.KEYCODE.ARROW_UP==t||ct.KEYCODE.ARROW_DOWN==t||ct.KEYCODE.ARROW_LEFT==t||ct.KEYCODE.ARROW_RIGHT==t?o.is("span.fr-table-cell")&&(r=(i=(n=o.parent().find("span.fr-table-cell")).index(o))%(a=k.opts.tableInsertMaxSize),i=Math.floor(i/a),ct.KEYCODE.ARROW_UP==t?i=Math.max(0,i-1):ct.KEYCODE.ARROW_DOWN==t?i=Math.min(k.opts.tableInsertMaxSize-1,i+1):ct.KEYCODE.ARROW_LEFT==t?r=Math.max(0,r-1):ct.KEYCODE.ARROW_RIGHT==t&&(r=Math.min(k.opts.tableInsertMaxSize-1,r+1)),s(i=x(n.get(i*a+r))),k.events.disableBlur(),i.focus(),a=!1):ct.KEYCODE.ENTER==t&&(k.button.exec(o),a=!1),!1===a&&(e.preventDefault(),e.stopPropagation()),a)},!0),e)}function s(e){var t=e.data("row"),n=(null!==t&&(t=parseInt(t)),e.data("col")),a=(null!==n&&(n=parseInt(n)),e.parent());a.siblings(".fr-table-size-info").html("".concat(t," &times; ").concat(n)),a.find("> span").removeClass("hover fr-active-item");for(var r=1;r<=k.opts.tableInsertMaxSize;r++)for(var i=0;i<=k.opts.tableInsertMaxSize;i++){var o=a.find('> span[data-row="'.concat(r,'"][data-col="').concat(i,'"]'));r<=t&&i<=n?o.addClass("hover"):r<=t+1||r<=2&&!k.helpers.isMobile()?o.css("display","inline-block"):2<r&&!k.helpers.isMobile()&&o.css("display","none")}e.addClass("fr-active-item")}function $(e){return e?(k.popups.onHide("table.edit",t),!0):(e="",0<k.opts.tableEditButtons.length&&(e='<div class="fr-buttons">'.concat(k.button.buildList(k.opts.tableEditButtons),"</div>"),e=k.popups.create("table.edit",{buttons:e}),k.events.$on(k.$wp,"scroll.table-edit",function(){k.popups.isVisible("table.edit")&&m()}),e))}function v(e,t,n){e=x(e),t=x(t);n&&"REMOVE"!==n&&"transparent"!==n&&"rgba(0, 0, 0, 0)"!==n?(e.css("background-color",n),t.css("display","none")):(e.css("background-color","transparent"),t.css("display","block"))}function K(){var e,t=k.popups.get("table.cellProperties");return t||(e={cell_properties_form:'\n          <div class="fr-cell-properties-form">\n            <div class="fr-cell-properties-section">\n              <label>'.concat(k.language.translate("Background"),'</label>\n              <div class="fr-cell-bg-container">\n                <input type="text" id="fr-cell-bg" class="fr-input" tabIndex="1" title="').concat(k.language.translate("Color"),'" placeholder="').concat(k.language.translate("Color"),'">\n                <button type="button" title="').concat(k.language.translate("Color"),'" class="fr-command fr-btn-cell-bg-color" tabIndex="2" data-param1="cell" data-cmd="openColorPicker">\n                  <div class="fr-color-preview">\n                    <div class="fr-color-preview-indicator"></div>\n                  </div>\n                </button>\n              </div>\n            </div>\n        \n            <div class="fr-cell-dimensions-container">\n              <div class="fr-cell-dimension-section">\n                <label>').concat(k.language.translate("Dimensions"),'</label>\n                <div class="fr-dimension-inputs">\n                  <input type="text" id="fr-cell-width" tabIndex="3" title="').concat(k.language.translate("Width"),'" placeholder="').concat(k.language.translate("Width"),'">\n                  <span class="fr-dimension-separator">\xd7</span>\n                  <input type="text" id="fr-cell-height" tabIndex="4" title="').concat(k.language.translate("Height"),'" placeholder="').concat(k.language.translate("Height"),'">\n                  <label for="fr-cell-height"></label>\n                </div>\n              </div>\n        \n              <div class="fr-cell-padding-section">\n                <label>').concat(k.language.translate("Padding"),'</label>\n                <div>\n                  <input type="text" id="fr-cell-padding" tabIndex="5" title="').concat(k.language.translate("Size"),'" placeholder="').concat(k.language.translate("Size"),'">\n                  <label for="fr-cell-padding"></label>\n                </div>\n              </div>\n            </div>\n        \n            <div class="fr-cell-properties-buttons">\n              <button type="button" class="fr-command fr-enable-accessibility fr-cancel-button" tabIndex="6" data-cmd="onCancel">').concat(k.language.translate("Cancel"),'</button>\n              <button type="button" class="fr-command fr-enable-accessibility fr-save-button" tabIndex="7" data-cmd="applyCellProperties">').concat(k.language.translate("Save"),"</button>\n            </div>\n          </div>"),buttons:""},t=k.popups.create("table.cellProperties",e),b(),k.events.$on(t,"input","#fr-cell-bg",function(){t.data("bg-modified",!0)}),k.events.$on(t,"input","#fr-cell-width",function(){t.data("width-modified",!0)}),k.events.$on(t,"input","#fr-cell-height",function(){t.data("height-modified",!0)}),k.events.$on(t,"input","#fr-cell-padding",function(){t.data("padding-modified",!0)})),t}function b(){var e=k.popups.get("table.cellProperties");e&&(e.data("bg-modified",!1),e.data("width-modified",!1),e.data("height-modified",!1),e.data("padding-modified",!1))}function a(e){var t,n,a,r,i,o=k.popups.get("table.colors").data("type");"table"===o?(t=(a=k.popups.get("table.tableProperties")).find(".fr-color-preview"),n=a.find(".fr-color-preview-indicator"),a=a.find("#fr-table-bg")):"cell"===o?(t=(r=k.popups.get("table.cellProperties")).find(".fr-color-preview"),n=r.find(".fr-color-preview-indicator"),a=r.find("#fr-cell-bg"),r=k.popups.get("table.cellProperties")):"border"===o&&(t=(i=k.popups.get("table.tableProperties")).find(".fr-border-color-preview"),n=i.find(".fr-border-color-preview-indicator"),a=i.find("#fr-table-border-color")),"string"==typeof e&&(k.helpers.isRGBColor(e)&&(e=k.helpers.RGBToHex(e).toUpperCase()),k.helpers.isValidHexColor(e)||"transparent"===e||""===e)&&(x(a).val(e),x(a).focus(),"cell"===o&&x(r).data("bg-modified",!0),v(t,n,e))}function z(e){var t=k.doc.createRange(),e=e.get(0).querySelector("td, th"),e=(t.setStart(e,0),t.collapse(!0),k.selection.get());e.removeAllRanges(),e.addRange(t)}function W(e){var t={startTag:"",closeTag:""};return{startTag:(t=k.opts.keepTextFormatOnTable?V(function(e){var t=new Set,n=e.textContent,a=0,r=[e.firstChild];for(;0<r.length;){var i=r.pop();if(i&&(t.has(i)||(0===a&&n!==i.textContent&&(n=i.textContent,a++),t.add(i)),i.hasChildNodes()))for(var o=0;o<i.childNodes.length;){if(3===i.childNodes[o].nodeType)return Ce(t);if(i.childNodes[o].textContent){if(0===a&&i.childNodes[o].textContent!==n){n=i.childNodes[o].textContent,r.push(i.childNodes[o]),a++;break}i.childNodes[o].textContent===n&&r.push(i.childNodes[o])}o++}}return Ce(t)}(e).reverse()):t).startTag,closeTag:t.closeTag}}function V(e){var t="",n="",a=["br","#text","#comment","font"];if(0<e.length)for(var r=e.length-1;0<=r;r--){var i=e[r],o=k.node.isBlock(i),s=a.indexOf(i.nodeName.toLowerCase());if(!o&&s<0){var l=i.style,c="";if(l&&l.length){for(var d=0;d<l.length;d++)c+=l[d]+": "+l[l[d]].replace(/"/gi,"")+"; ";c=c.trim()}t+=c?"<"+i.nodeName.toLowerCase()+' style="'+c+'">':"<"+i.nodeName.toLowerCase()+">",n="</"+i.nodeName.toLowerCase()+">"+n}}return{startTag:t,closeTag:n}}function E(){var e=D(),t=N(),n=0<t.length,a=0<e.length;(n||a)&&(n&&(k.selection.setBefore(t[0])||k.selection.setAfter(t[0]),k.selection.restore(),k.popups.hide("table.edit")),z(e),k.undo.saveStep(),y(),e.remove(),k.$el.focus())}function G(e){var t=D();if(0<t.length&&!(0<k.$el.find("thead .fr-selected-cell").length&&"above"==e||0<k.$el.find("tfoot td.fr-selected-cell").length&&"below"==e)){var n=L(),a=w(n);if(null!=a){for(var r,i,o="above"==e?a.min_i:a.max_i,s="<tr>",l=0;l<n[o].length;l++)"below"==e&&o<n.length-1&&n[o][l]==n[o+1][l]||"above"==e&&0<o&&n[o][l]==n[o-1][l]?(0===l||0<l&&n[o][l]!=n[o][l-1])&&(r=x(n[o][l])).attr("rowspan",parseInt(r.attr("rowspan"),10)+1):"TH"==(r=x(n[o][l])).attr("tagName").toUpperCase()?s+='<th style="'+r.attr("style")+'" ><br></th>':(i=W(n[o][l]),s+='<td style="'+r.attr("style")+'" >'+i.startTag+"<br>"+i.closeTag+"</td>");s+="</tr>",a=0<k.$el.find("thead .fr-selected-cell").length&&"below"==e||0<k.$el.find("tfoot td.fr-selected-cell").length&&"above"==e?x(t.find("tbody").not(t.find("> table tbody"))):(a=(a=x(t.find("tr").not(t.find("> table tr")))).filter(function(){return x(this).closest("table")[0]===t[0]}),x(a.get(o))),"below"==e?"TBODY"==a.attr("tagName")?a.prepend(s):a[0].parentNode&&a[0].insertAdjacentHTML("afterend",s):"above"==e&&("TBODY"==a.attr("tagName")?a.append(s):a.before(s),k.popups.isVisible("table.edit"))&&m()}}}function Y(e,t,n){var a,r,i,o,s,l=0,c=L(n);if(e<(t=Math.min(t,c[0].length-1)))for(r=e;r<=t;r++)if(!(e<r&&c[0][r]==c[0][r-1])&&1<(o=Math.min(parseInt(c[0][r].getAttribute("colspan"),10)||1,t-e+1))&&c[0][r]==c[0][r+1])for(l=o-1,a=1;a<c.length;a++)if(c[a][r]!=c[a-1][r]){for(i=r;i<r+o;i++)if(c[a][i]!==undefined)if(1<(s=parseInt(c[a][i].getAttribute("colspan"),10)||1)&&c[a][i]==c[a][i+1])i+=l=Math.min(l,s-1);else if(!(l=Math.max(0,l-1)))break;if(!l)break}l&&q(c,l,"colspan",0,c.length-1,e,t)}function j(e,t,n){var a,r,i,o,s,l=0,c=L(n);if(e<(t=Math.min(t,c.length-1)))for(a=e;a<=t;a++)if(!(e<a&&c[a][0]==c[a-1][0])&&c[a][0]!==undefined&&1<(o=Math.min(parseInt(c[a][0].getAttribute("rowspan"),10)||1,t-e+1))&&c[a][0]==c[a+1][0])for(l=o-1,r=1;r<c[0].length;r++)if(c[a][r]!=c[a][r-1]){for(i=a;i<a+o;i++)if(c[i][r]!==undefined)if(1<(s=parseInt(c[i][r].getAttribute("rowspan"),10)||1)&&c[i][r]==c[i+1][r])i+=l=Math.min(l,s-1);else if(!(l=Math.max(0,l-1)))break;if(!l)break}l&&q(c,l,"rowspan",e,t,0,c[0].length-1)}function q(e,t,n,a,r,i,o){for(var s,l,c=a;c<=r;c++)for(s=i;s<=o;s++)a<c&&e[c][s]==e[c-1][s]||i<s&&e[c][s]==e[c][s-1]||e[c][s]!==undefined&&1<(l=parseInt(e[c][s].getAttribute(n),10)||1)&&(1<l-t?e[c][s].setAttribute(n,l-t):e[c][s].removeAttribute(n))}function X(e,t,n,a,r){j(e,t,r),Y(n,a,r)}function Z(e){e.style.removeProperty("border"),e.style.removeProperty("border-top"),e.style.removeProperty("border-bottom"),e.style.removeProperty("border-left"),e.style.removeProperty("border-right")}function L(e){var c=[];if(e=null==(e=e||null)&&0<N().length?D():e){if(!e.find("tr").html().match(/xl[0-9]+/gi)){for(var n=e.find("tr:empty"),t=n.length-1;0<=t;t--)x(n[t]).remove();n.length&&e.find("td[rowspan]").each(function(){var e=x(this),t=parseInt(e.attr("rowspan"),10)-n.length;1<t?e.attr("rowspan",t):e.removeAttr("rowspan")})}e.find("tr").not(e.find("> table tr")).filter(function(){return x(this).closest("table")[0]===e[0]}).each(function(s,e){var e=x(e),l=0;e.find("> th, > td").each(function(e,t){for(var n=x(t),a=parseInt(n.attr("colspan"),10)||1,r=parseInt(n.attr("rowspan"),10)||1,i=s;i<s+r;i++)for(var o=l;o<l+a;o++)c[i]||(c[i]=[]),c[i][o]?l++:c[i][o]=t;l+=a})})}return c}function I(e,t){for(var n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)if(t[n][a]==e)return{row:n,col:a}}function O(e,t,n){for(var a=e+1,r=t+1;a<n.length;){if(n[a][t]!=n[e][t]){a--;break}a++}for(a==n.length&&a--;r<n[e].length;){if(n[e][r]!=n[e][t]){r--;break}r++}return r==n[e].length&&r--,{row:a,col:r}}function Q(){k.el.querySelector(".fr-cell-fixed")&&k.el.querySelector(".fr-cell-fixed").classList.remove("fr-cell-fixed"),k.el.querySelector(".fr-cell-handler")&&k.el.querySelector(".fr-cell-handler").classList.remove("fr-cell-handler")}function y(){var e=k.$el.find(".fr-selected-cell");0<e.length&&e.each(function(){var e=x(this);e.removeClass("fr-selected-cell"),""===e.attr("class")&&e.removeAttr("class")}),Q()}function c(){k.events.disableBlur(),k.selection.clear(),k.$el.addClass("fr-no-selection"),k.$el.blur(),k.events.enableBlur()}function w(e){var t=k.$el.find(".fr-selected-cell");if(0<t.length){for(var n=e.length,a=0,r=e[0].length,i=0,o=0;o<t.length;o++)var s=I(t[o],e),l=O(s.row,s.col,e),n=Math.min(s.row,n),a=Math.max(l.row,a),r=Math.min(s.col,r),i=Math.max(l.col,i);return{min_i:n,max_i:a,min_j:r,max_j:i}}return null}function _(e){var t,n,a=w(e);if(null!=a)return t=x(e[a.min_i][a.min_j]),n=x(e[a.min_i][a.max_j]),a=x(e[a.max_i][a.min_j]),{left:t.length&&t.offset().left,right:n.length&&n.offset().left+n.outerWidth(),top:t.length&&t.offset().top,bottom:a.length&&a.offset().top+a.outerHeight()}}function f(e,t){if(x(e).is(t))y(),x(e).addClass("fr-selected-cell");else{c(),k.edit.off();var n=L(),a=I(e,n),r=I(t,n);if(a&&r){var i=function u(e,t,n,a,r){for(var i,o,s,l=e,c=t,d=n,f=a,p=l;p<=c;p++)(1<(parseInt(x(r[p][d]).attr("rowspan"),10)||1)||1<(parseInt(x(r[p][d]).attr("colspan"),10)||1))&&(s=O((o=I(r[p][d],r)).row,o.col,r),l=Math.min(o.row,l),c=Math.max(s.row,c),d=Math.min(o.col,d),f=Math.max(s.col,f)),(1<(parseInt(x(r[p][f]).attr("rowspan"),10)||1)||1<(parseInt(x(r[p][f]).attr("colspan"),10)||1))&&(s=O((o=I(r[p][f],r)).row,o.col,r),l=Math.min(o.row,l),c=Math.max(s.row,c),d=Math.min(o.col,d),f=Math.max(s.col,f));for(i=d;i<=f;i++)(1<(parseInt(x(r[l][i]).attr("rowspan"),10)||1)||1<(parseInt(x(r[l][i]).attr("colspan"),10)||1))&&(s=O((o=I(r[l][i],r)).row,o.col,r),l=Math.min(o.row,l),c=Math.max(s.row,c),d=Math.min(o.col,d),f=Math.max(s.col,f)),(1<(parseInt(x(r[c][i]).attr("rowspan"),10)||1)||1<(parseInt(x(r[c][i]).attr("colspan"),10)||1))&&(s=O((o=I(r[c][i],r)).row,o.col,r),l=Math.min(o.row,l),c=Math.max(s.row,c),d=Math.min(o.col,d),f=Math.max(s.col,f));return l==e&&c==t&&d==n&&f==a?{min_i:e,max_i:t,min_j:n,max_j:a}:u(l,c,d,f,r)}(Math.min(a.row,r.row),Math.max(a.row,r.row),Math.min(a.col,r.col),Math.max(a.col,r.col),n);y(),e.classList.add("fr-cell-fixed"),t.classList.add("fr-cell-handler");for(var o=i.min_i;o<=i.max_i;o++)for(var s=i.min_j;s<=i.max_j;s++)x(e).closest("table").is(x(n[o][s]).closest("table"))&&x(n[o][s]).addClass("fr-selected-cell")}}}function C(e){var t=null,n=x(e.target);return"TD"==e.target.tagName||"TH"==e.target.tagName?t=e.target:0<n.closest("th",n.closest("thead")[0]).length?t=n.closest("th",n.closest("thead")[0]).get(0):0<n.closest("td",n.closest("tr")[0]).length&&(t=n.closest("td",n.closest("tr")[0]).get(0)),-1===k.$el.html.toString().search(t)?null:t}function A(){y(),k.popups.hide("table.edit")}function e(e){var t,n,a=C(e);if("false"==x(a).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable"))return!0;0<N().length&&!a&&A(),k.edit.isDisabled()&&!k.popups.isVisible("table.edit")||(t=!1,1==e.which&&x(a).hasClass("fr-selected-cell")&&(x(a).removeClass("fr-selected-cell"),t=!0),1!=e.which||1==e.which&&k.helpers.isMac()&&e.ctrlKey?(3==e.which||1==e.which&&k.helpers.isMac()&&e.ctrlKey)&&a&&A():(u=!0,a&&(0<N().length&&!e.shiftKey&&A(),e.stopPropagation(),k.events.trigger("image.hideResizer"),k.events.trigger("video.hideResizer"),p=!0,n=a.tagName.toLowerCase(),e.shiftKey&&0<k.$el.find("".concat(n,".fr-selected-cell")).length?x(k.$el.find("".concat(n,".fr-selected-cell")).closest("table")).is(x(a).closest("table"))?f(r,a):c():((k.keys.ctrlKey(e)||e.shiftKey)&&"TD"===e.currentTarget.tagName&&(1<N().length||0===x(a).find(k.selection.element()).length&&!x(a).is(k.selection.element()))&&c(),r=a,0<k.opts.tableEditButtons.length&&!t&&f(r,r)))))}function i(e){var t,n,a,r,i,o,s,l,c,d,f=k.popups.areVisible();return!(k.edit.isDisabled()||!f||f.hasClass("fr-do-not-hide"))||(e.target===document?null:(f=C(e),1===N().length&&null===f&&(k.toolbar.enable(),y()),(1===N().length&&f&&"TD"!==f.tagName&&"TH"!==f.tagName||!p&&!k.$tb.is(e.target)&&!k.$tb.is(x(e.target).closest(".fr-toolbar")))&&(k.toolbar.enable(),setTimeout(function(){y()},100)),("BODY"===e.target.tagName||"HTML"===e.target.tagName)&&!f&&0<N().length&&k.toolbar.enable(),void(1!=e.which||1==e.which&&k.helpers.isMac()&&e.ctrlKey||(u=!1,p&&(p=!1,C(e)||1!=N().length?0<N().length?k.selection.isCollapsed()?(m(),k.toolbar.enable()):(y(),k.edit.on()):N().length||(k.$el.removeClass("fr-no-selection"),k.edit.on()):y()),g&&(g=!1,S.removeClass("fr-moving"),k.$el.removeClass("fr-no-selection"),k.edit.on(),S.hasClass("fr-table-col-resizer")?(f=parseFloat(S.css("left"))+k.opts.tableResizerOffset+k.$wp.offset().left,k.opts.iframe&&(f-=k.$iframe.offset().left),S.data("release-position",f),S.removeData("max-left"),S.removeData("max-right")):(e=parseFloat(S.css("top")),S.data("release-position",e),S.removeData("max-top"),S.removeData("max-bottom")),f=S.data("origin"),e=S.data("release-position"),f!==e&&(d=S.data("first"),t=S.data("second"),n=S.data("table"),s=n.outerWidth(),k.undo.canDo()||k.undo.saveStep(),S.hasClass("fr-table-col-resizer")?(l=L(n),a=l[0]?l[0].length:0,a=B(n,a),(-1==d||-1==t)&&k.opts.proportionalTableResize||(l=function(e,t,n){for(var a=t[0]?t[0].length:0,r=e.outerWidth(),i=[],o=[],s=n.find("col"),l=0;l<a;l++){var c=s.eq(l),d=void 0,f=parseFloat(c.attr("width")||c.css("width"));d=f&&!isNaN(f)?(c.attr("width")||"").includes("%")||(c.css("width")||"").includes("%")?f/100*r:f:x(t[0][l]).outerWidth(),i[l]=d,o[l]=d/r*100}return{currentWidths:i,currentPercentages:o}}(n,l,a),c=l.currentWidths,i=Ce(l=l.currentPercentages),r=(e-f)/s*100,k.opts.proportionalTableResize?(c=(l[d]*(c[d]+e-f)/c[d]).toFixed(4),l=(l[d]+l[t]-c).toFixed(4),i[d]=+c,i[t]=+l):(i[d]+=r,i[t]-=r,i[d]<1&&(c=1-i[d],i[d]=1,i[t]-=c),i[t]<1&&(l=1-i[t],i[t]=1,i[d]-=l)),U(a,i)),r=a.find("col"),c=-1==d&&0==t,l=d==r.length-1&&-1==t,(c||l)&&(i=n.parent(),a=parseFloat(i.css("padding-left")),r=parseFloat(i.css("padding-right")),c=a+r,l=s/(i.width()-c)*100,"rtl"==k.opts.direction&&0===t||"rtl"!=k.opts.direction&&0!==t?o=(s+e-f)/s*l:("rtl"==k.opts.direction&&0!==t||"rtl"!=k.opts.direction&&0===t)&&(o=(s-e+f)/s*l),n.css("width","".concat(Math.round(o).toFixed(4),"%")))):(a=n.find("tr"),r=Math.round(e-f),i=n.height(),-1!=d&&-1!=t?(c=a.eq(d),s=c.outerHeight(),l=Math.max(s+r,k.opts.tableResizingLimit),n.css("height",""),c.css("height",l+"px"),n.css("height",n.height()+"px")):(o=-1==d&&0==t,k.opts.proportionalTableResize?ge(n,(o?-r:r)+i):(n.css("height",""),o?(e=a.eq(0),f=e.outerHeight(),s=Math.max(f-r,k.opts.tableResizingLimit),e.css("height",s+"px")):(l=a.eq(a.length-1),c=l.outerHeight(),d=Math.max(c+r,k.opts.tableResizingLimit),l.css("height",d+"px")),n.css("height",n.height()+"px"))),k.opts.iframe&&k.$iframe.height(k.iframe_document.scrollingElement.offsetHeight)),k.selection.restore(),k.undo.saveStep(),k.events.trigger("table.resized",[n.get(0)])),S.removeData("origin"),S.removeData("release-position"),S.removeData("first"),S.removeData("second"),S.removeData("table"),M())))))}function J(e){(x(e.currentTarget).is(x(e.originalEvent.relatedTarget))||e.currentTarget.contains(e.originalEvent.relatedTarget)||e.originalEvent.relatedTarget&&e.originalEvent.relatedTarget.contains(e.currentTarget))&&!e.currentTarget.querySelector("input, textarea")||(k.events.$on(x("input, textarea"),"click",n),!0===p&&0<k.opts.tableEditButtons.length&&(x(e.currentTarget).closest("table").is(D())?f(r,e.currentTarget):"TD"!==e.currentTarget.tagName&&"TH"!==e.currentTarget.tagName&&c()))}function ee(e,t,n,a){for(var r,i=t;i!=k.el&&"TD"!=i.tagName&&"TH"!=i.tagName&&("up"==a?r=i.previousElementSibling:"down"==a&&(r=i.nextElementSibling),!r);)i=i.parentNode;if("TD"==i.tagName||"TH"==i.tagName){for(var o,t=i,s=a,l=t;l&&"TABLE"!=l.tagName&&l.parentNode!=k.el;)l=l.parentNode;l&&"TABLE"==l.tagName&&(o=L(x(l)),"up"==s?te(I(t,o),l,o):"down"==s&&ne(I(t,o),l,o))}else r&&("up"==a&&k.selection.setAtEnd(r),"down"==a)&&k.selection.setAtStart(r)}function te(e,t,n){0<x(".tribute-container").length&&"none"!=x(".tribute-container").css("display")||(0<e.row?k.selection.setAtEnd(n[e.row-1][e.col]):ee(0,t,0,"up"))}function ne(e,t,n){var a;0<x(".tribute-container").length&&"none"!=x(".tribute-container").css("display")||(a=parseInt(n[e.row][e.col].getAttribute("rowspan"),10)||1,e.row<n.length-a?k.selection.setAtStart(n[e.row+a][e.col]):ee(0,t,0,"down"))}function ae(e){var t=e.which,n=k.selection.blocks();if(n.length&&("TD"==(n="P"!==(n=n[0]).tagName&&"DIV"!==n.tagName?n:n.parentNode).tagName||"TH"==n.tagName)){for(var a=n;a&&"TABLE"!=a.tagName&&a.parentNode!=k.el;)a=a.parentNode;!a||"TABLE"!=a.tagName||ct.KEYCODE.ARROW_LEFT!=t&&ct.KEYCODE.ARROW_UP!=t&&ct.KEYCODE.ARROW_RIGHT!=t&&ct.KEYCODE.ARROW_DOWN!=t||(0<N().length&&A(),k.browser.webkit&&(ct.KEYCODE.ARROW_UP==t||ct.KEYCODE.ARROW_DOWN==t)&&function(e,t,n){if(e){var a="TD"===e.tagName||"TH"===e.tagName?e:x(e).parentsUntil(k.el,"td, th").get(0);if(a){if(a.textContent.trim().length<=0&&1===a.children.length&&"BR"===a.children[0].tagName)return 1;"TD"!==a.tagName&&"TH"!==a.tagName||!e||e.nodeType===Node.TEXT_NODE||(e.children&&0<e.children.length?(o=t>e.children.length?e.children.length-1:t-1,(o=e.children[o]||e.firstChild)&&"string"==typeof o.textContent&&(t=(e=o).textContent.trim().length-1)):e.firstChild&&"string"==typeof e.firstChild.textContent&&(e=e.firstChild,t=e.textContent.trim().length-1));var r,i,o=document.createRange(),o=(o.selectNodeContents(a),o.getBoundingClientRect());r=(e.textContent.trim().length<=0&&e.getBoundingClientRect?e:((r=e).nodeType!==Node.TEXT_NODE&&(r=function(e){var t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),n=null;for(;t.nextNode();)n=t.currentNode;return n}(e),t=r&&"up"===n?r.textContent.length:0),(i=document.createRange()).setStart(r||e,t),i.collapse(!0),i)).getBoundingClientRect();if("up"===n){if("BR"===e.tagName){if(a.firstChild.isSameNode(e))return 1;if(e.previousSibling&&(k.node.isBlock(e.previousSibling)||k.node.isVoid(e.previousSibling)))return}return Math.abs(r.top-o.top)<=6}if("down"===n){if("BR"===e.tagName){if(a.lastChild.isSameNode(e))return 1;if(e.nextSibling&&(k.node.isBlock(e.nextSibling)||k.node.isVoid(e.nextSibling)))return a.lastChild.isSameNode(e.nextSibling)||!1}return Math.abs(o.bottom-r.bottom)<=6}}}return}(k.selection.ranges(0).startContainer,k.selection.ranges(0).startOffset,ct.KEYCODE.ARROW_UP==t?"up":"down")&&(e.preventDefault(),e.stopPropagation(),n=I(n,e=L(x(a))),ct.KEYCODE.ARROW_UP==t?te(n,a,e):ct.KEYCODE.ARROW_DOWN==t&&ne(n,a,e),k.selection.restore()))}}function re(){k.shared.$table_resizer||(k.shared.$table_resizer=x(document.createElement("div")).attr("class","fr-table-resizer").html("<div></div>")),S=k.shared.$table_resizer,k.events.$on(S,"mousedown",function(e){return!k.core.sameInstance(S)||(0<N().length&&A(),1==e.which?(k.selection.save(),g=!0,S.addClass("fr-moving"),c(),k.edit.off(),S.find("div").css("opacity",1),!1):void 0)}),k.events.$on(S,"mousemove",function(e){if(!k.core.sameInstance(S))return!0;g&&(k.opts.iframe&&(e.pageX-=k.$iframe.offset().left,e.pageY-=k.$iframe.offset().top),ce(e))});var t=function t(e){g&&i(e)};window.addEventListener("mouseup",t,!0),k.events.on("destroy",function(){window.removeEventListener("mouseup",t,!0)},!0),k.events.on("shared.destroy",function(){S.html("").removeData().remove(),S=null},!0),k.events.on("destroy",function(){k.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"),x("body").first().append(S.hide())},!0)}function M(){S&&(S.find("div").css("opacity",0),S.css("top",0),S.css("left",0),S.css("height",0),S.css("width",0),S.find("div").css("height",0),S.find("div").css("width",0),S.css("padding-top",0),S.css("padding-bottom",0),S.css("padding-left",0),S.css("padding-right",0),S.hide())}function T(){h&&h.removeClass("fr-visible").css("left","-9999px")}function ie(e,t){if(0===N().length){var n,a,r,i,o,s,l,c,d,f,p,u,g;if(t&&("HTML"==t.tagName||"BODY"==t.tagName||k.node.isElement(t)))for(n=1;n<=k.opts.tableInsertHelperOffset;n++){if(c=k.doc.elementFromPoint(e.pageX-k.win.pageXOffset,e.pageY-k.win.pageYOffset+n),x(c).hasClass("fr-tooltip"))return;if(c&&("TH"==c.tagName||"TD"==c.tagName||"TABLE"==c.tagName)&&(x(c).parents(".fr-wrapper").length||k.opts.iframe)&&"false"!=x(c).closest("table").attr("contenteditable"))return l=e,c=x(c).closest("table"),void(k.$box.find(".fr-line-breaker").isVisible()||(h||de(),k.$box.append(h),h.data("instance",k),c=x(c).find("tr").first(),a=l.pageX,i=r=0,k.opts.iframe&&(l=k.helpers.getPX(k.$wp.find(".fr-iframe").css("padding-top")),o=k.helpers.getPX(k.$wp.find(".fr-iframe").css("padding-left")),r+=k.$iframe.offset().left-k.helpers.scrollLeft()+o,i+=k.$iframe.offset().top-k.helpers.scrollTop()+l),c.find("th, td").each(function(){var e=x(this);return e.offset().left<=a&&a<e.offset().left+e.outerWidth()/2?(s=parseInt(h.find("a").css("width"),10),h.css("top",i+e.offset().top-k.$box.offset().top-s-5),h.css("left",r+e.offset().left-k.$box.offset().left-s/2),h.data("selected-cell",e),h.data("position","before"),h.addClass("fr-visible"),!1):e.offset().left+e.outerWidth()/2<=a&&a<e.offset().left+e.outerWidth()?(s=parseInt(h.find("a").css("width"),10),h.css("top",i+e.offset().top-k.$box.offset().top-s-5),h.css("left",r+e.offset().left-k.$box.offset().left+e.outerWidth()-s/2),h.data("selected-cell",e),h.data("position","after"),h.addClass("fr-visible"),!1):void 0})));if(o=k.doc.elementFromPoint(e.pageX-k.win.pageXOffset+n,e.pageY-k.win.pageYOffset),x(o).hasClass("fr-tooltip"))return;if(o&&("TH"==o.tagName||"TD"==o.tagName||"TABLE"==o.tagName)&&(x(o).parents(".fr-wrapper").length||k.opts.iframe)&&"false"!=x(o).closest("table").attr("contenteditable"))return l=e,c=x(o).closest("table"),void(k.$box.find(".fr-line-breaker").isVisible()||(h||de(),k.$box.append(h),h.data("instance",k),c=x(c),d=l.pageY,p=f=0,k.opts.iframe&&(l=k.helpers.getPX(k.$wp.find(".fr-iframe").css("padding-top")),u=k.helpers.getPX(k.$wp.find(".fr-iframe").css("padding-left")),f+=k.$iframe.offset().left-k.helpers.scrollLeft()+u,p+=k.$iframe.offset().top-k.helpers.scrollTop()+l),c.find("tr").each(function(){var e=x(this),t=(g=parseInt(h.find("a").css("width"),10),f+e.offset().left-k.$box.offset().left),t=0!==k.$box.offset().left?t-g-5:t+g-5;return e.offset().top<=d&&d<e.offset().top+e.outerHeight()/2?(h.css("top",p+e.offset().top-k.$box.offset().top-g/2),h.css("left",t),h.data("selected-cell",e.find("td").first()),h.data("position","above"),h.addClass("fr-visible"),!1):e.offset().top+e.outerHeight()/2<=d&&d<e.offset().top+e.outerHeight()?(h.css("top",p+e.offset().top-k.$box.offset().top+e.outerHeight()-g/2),h.css("left",t),h.data("selected-cell",e.find("td").first()),h.data("position","below"),h.addClass("fr-visible"),!1):void 0})))}k.core.sameInstance(h)&&T()}}function d(e,t){e=x(e);e.removeClass(t),e.length&&e.get(0).hasAttribute("class")&&!e.attr("class").trim()&&e.removeAttr("class")}function oe(e){R=null;var t,n,a,r,i,o,s,l,c,d,f,p,u,g,h,m,v,b,E,y,w,_,C,A,T=k.doc.elementFromPoint(e.pageX-k.win.pageXOffset,e.pageY-k.win.pageYOffset);if(0===x(T).length)return!1;k.opts.tableResizer&&(!k.popups.areVisible()||k.popups.areVisible()&&k.popups.isVisible("table.edit"))&&(t=e,C=x(n=T),A=(a=C?C.closest("table"):a).parent(),n&&"TD"!=n.tagName&&"TH"!=n.tagName&&(0<C.closest("td").length?n=C.closest("td"):0<C.closest("th").length&&(n=C.closest("th"))),!n||"TD"!=n.tagName&&"TH"!=n.tagName?S&&C.get(0)!=S.get(0)&&C.parent().get(0)!=S.get(0)&&k.core.sameInstance(S)&&M():(C=x(n),0!==k.$el.find(C).length&&(l=(y=C.offset().left-1)+C.outerWidth(),i=(r=C.offset().top-1)+C.outerHeight(),Math.abs(t.pageX-y)<=k.opts.tableResizerOffset||Math.abs(l-t.pageX)<=k.opts.tableResizerOffset?(E=O((c=I(n,d=L(a))).row,c.col,d),h=a.offset().top,o=a.outerHeight()-1,"rtl"!=k.opts.direction?t.pageX-y<=k.opts.tableResizerOffset?(s=y,0<c.col?(w=y-F(c.col-1,d)+k.opts.tableResizingLimit,_=y+F(c.col,d)-k.opts.tableResizingLimit,f=c.col-1,g=c.col):(f=-1,g=0,w=k.$wp.offset().left-1+parseFloat(A.css("padding-left")),_=k.opts.proportionalTableResize?a.offset().left-1+a.width()-d[0].length*k.opts.tableResizingLimit:y+F(c.col,d)-k.opts.tableResizingLimit)):l-t.pageX<=k.opts.tableResizerOffset&&(s=l,E.col<d[E.row].length&&d[E.row][E.col+1]?(w=l-F(E.col,d)+k.opts.tableResizingLimit,_=l+F(E.col+1,d)-k.opts.tableResizingLimit,f=E.col,g=E.col+1):(f=E.col,g=-1,w=k.opts.proportionalTableResize?a.offset().left-1+d[0].length*k.opts.tableResizingLimit:l-F(E.col,d)+k.opts.tableResizingLimit,_=A.offset().left-1+A.width()-parseFloat(A.css("padding-left")))):l-t.pageX<=k.opts.tableResizerOffset?(s=l,0<c.col?(w=l-F(c.col,d)+k.opts.tableResizingLimit,_=l+F(c.col-1,d)-k.opts.tableResizingLimit,f=c.col,g=c.col-1):(f=null,g=0,w=a.offset().left+d[0].length*k.opts.tableResizingLimit,_=A.offset().left-1+A.width()+parseFloat(A.css("padding-left")))):t.pageX-y<=k.opts.tableResizerOffset&&(s=y,E.col<d[E.row].length&&d[E.row][E.col+1]?(w=y-F(E.col+1,d)+k.opts.tableResizingLimit,_=y+F(E.col,d)-k.opts.tableResizingLimit,f=E.col+1,g=E.col):(f=E.col,g=null,w=A.offset().left+parseFloat(A.css("padding-left")),_=a.offset().left-1+a.width()-d[0].length*k.opts.tableResizingLimit)),S||re(),M(),S.removeClass("fr-table-row-resizer"),S.addClass("fr-table-col-resizer"),S.data("table",a),S.data("first",f),S.data("second",g),S.data("instance",k),k.$wp.append(S),l=s-k.win.pageXOffset-k.opts.tableResizerOffset-k.$wp.offset().left,c=h-k.$wp.offset().top+k.$wp.scrollTop(),k.opts.iframe&&(y=k.helpers.getPX(k.$wp.find(".fr-iframe").css("padding-top")),E=k.helpers.getPX(k.$wp.find(".fr-iframe").css("padding-left")),l+=k.$iframe.offset().left+E,c+=k.$iframe.offset().top+y,w+=k.$iframe.offset().left,_+=k.$iframe.offset().left),S.data("max-left",w),S.data("max-right",_),S.data("origin",s-k.win.pageXOffset),S.css("top",c),S.css("left",l),S.css("height",o),S.find("div").css("height",o),S.css("padding-left",k.opts.tableResizerOffset),S.css("padding-right",k.opts.tableResizerOffset),S.show()):Math.abs(t.pageY-r)<=k.opts.tableResizerOffset||Math.abs(i-t.pageY)<=k.opts.tableResizerOffset?(f=O((d=I(n,A=L(a))).row,d.col,A),g=a.offset().left,h=a.outerWidth()-1,t.pageY-r<=k.opts.tableResizerOffset?(m=r,0<d.row?(v=r-le(d.row-1,A),b=k.win.outerHeight,p=d.row-1,u=d.row):(p=-1,u=0,v=k.$el.offset().top-1+parseInt(a.css("margin-top"),10),b=k.opts.proportionalTableResize?a.offset().top-1+a.height()-A.length*k.opts.tableResizingLimit:a.offset().top+C.height())):i-t.pageY<=k.opts.tableResizerOffset&&(m=i,f.row<A.length-1?(v=i-le(f.row,A),b=k.win.outerHeight,p=f.row,u=f.row+1):(p=f.row,u=-1,v=k.opts.proportionalTableResize?a.offset().top-1+A.length*k.opts.tableResizingLimit:i-le(f.row,A),b=k.win.outerHeight)),S||re(),M(),S.removeClass("fr-table-col-resizer"),S.addClass("fr-table-row-resizer"),S.data("table",a),S.data("first",p),S.data("second",u),S.data("instance",k),k.$wp.append(S),E=g-k.$wp.offset().left,y=m-k.$wp.offset().top+k.$wp.scrollTop()-k.opts.tableResizerOffset,k.opts.iframe&&(w=k.helpers.getPX(k.$wp.find(".fr-iframe").css("padding-top")),_=k.helpers.getPX(k.$wp.find(".fr-iframe").css("padding-left")),E+=k.$iframe.offset().left+_,y+=k.$iframe.offset().top+w,v+=k.$iframe.offset().top,b+=k.$iframe.offset().top),S.data("max-top",v-k.$wp.offset().top+k.$wp.scrollTop()-k.opts.tableResizerOffset),S.data("max-bottom",b-k.$wp.offset().top+k.$wp.scrollTop()-k.opts.tableResizerOffset),S.data("origin",y),S.css("top",y),S.css("left",E),S.css("width",h),S.find("div").css("width",h),S.css("padding-top",k.opts.tableResizerOffset),S.css("padding-bottom",k.opts.tableResizerOffset),S.show()):k.core.sameInstance(S)&&M()))),!k.opts.tableInsertHelper||k.popups.areVisible()||k.$tb.hasClass("fr-inline")&&k.$tb.isVisible()||ie(e,T)}function se(){var e,t;g&&(e=S.data("table").offset().top-k.win.pageYOffset,k.opts.iframe&&(t=k.helpers.getPX(k.$wp.find(".fr-iframe").css("padding-top")),e+=k.$iframe.offset().top-k.helpers.scrollTop()+t),S.css("top",e))}function F(e,t){for(var n=x(t[0][e]).outerWidth(),a=1;a<t.length;a++)n=Math.min(n,x(t[a][e]).outerWidth());return n}function le(e,t){for(var n=x(t[e][0]).outerHeight(),a=1;a<t[e].length;a++)n=Math.min(n,x(t[e][a]).outerHeight());return n}function ce(e){var t,n,a,r;1<N().length&&u&&c(),!1===u&&!1===p&&!1===g?(R&&clearTimeout(R),k.edit.isDisabled()&&!k.popups.isVisible("table.edit")||(R=setTimeout(oe,30,e))):g?S.hasClass("fr-table-col-resizer")?(t=e.pageX-k.win.pageXOffset,k.opts.iframe&&(t+=k.$iframe.offset().left),r=S.data("max-left"),n=S.data("max-right"),r<=t&&t<=n?S.css("left",t-k.opts.tableResizerOffset-k.$wp.offset().left):t<r&&parseFloat(S.css("left"),10)>r-k.opts.tableResizerOffset?S.css("left",r-k.opts.tableResizerOffset-k.$wp.offset().left):n<t&&parseFloat(S.css("left"),10)<n-k.opts.tableResizerOffset&&S.css("left",n-k.opts.tableResizerOffset-k.$wp.offset().left)):(r=e.pageY-k.win.pageYOffset,k.opts.iframe&&(r+=k.$iframe.offset().top),t=S.data("max-top"),n=S.data("max-bottom"),r=k.opts.height?(a=r-k.opts.tableResizerOffset-k.$wp.offset().top+k.$wp.scrollTop(),k.opts.iframe&&(n=k.win.innerHeight),a):(a=r-k.opts.tableResizerOffset-k.$wp.offset().top+k.helpers.scrollTop(),k.opts.iframe&&(a=r-k.opts.tableResizerOffset-k.$wp.offset().top),n=k.win.innerHeight,e.clientY),t<=a&&r<=n&&S.css("top",a)):u&&T()}function P(e){k.node.isEmpty(e.get(0))?k.opts.keepTextFormatOnTable&&k.browser.mozilla?e.append(ct.MARKERS):e.prepend(ct.MARKERS):e.prepend(ct.START_MARKER).append(ct.END_MARKER)}function de(){k.shared.$ti_helper||(k.shared.$ti_helper=x(document.createElement("div")).attr("class","fr-insert-helper").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(k.language.translate("Insert"),'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a>')),k.events.bindClick(k.shared.$ti_helper,"a",function(){var e=h.data("selected-cell"),t=h.data("position"),n=h.data("instance")||k;"before"==t||"after"==t?(k.undo.saveStep(),e.addClass("fr-selected-cell"),n.table.insertColumn(t),e.removeClass("fr-selected-cell"),k.undo.saveStep()):"above"!=t&&"below"!=t||(k.undo.saveStep(),e.addClass("fr-selected-cell"),n.table.insertRow(t),e.removeClass("fr-selected-cell"),k.undo.saveStep()),T()}),k.events.on("shared.destroy",function(){k.shared.$ti_helper.html("").removeData().remove(),k.shared.$ti_helper=null},!0),k.events.$on(k.shared.$ti_helper,"mousemove",function(e){e.stopPropagation()},!0),k.events.$on(x(k.o_win),"scroll",function(){T()},!0),k.events.$on(k.$wp,"scroll",function(){T()},!0)),h=k.shared.$ti_helper,k.events.on("destroy",function(){h=null}),k.tooltip.bind(k.$box,".fr-insert-helper > a.fr-floating-btn")}function fe(){r=null,clearTimeout(R)}function N(){return k.el.querySelectorAll(".fr-selected-cell")}function D(){var e=N(),t=k.$el.find("table.fr-selection-handle-selected");if(e.length){for(var n=e[0];n&&"TABLE"!=n.tagName&&n.parentNode!=k.el;)n=n.parentNode;return n&&"TABLE"==n.tagName?x(n):x([])}return t.length?x(t.get(0)):x([])}function pe(e){var t=k.popups.get("table.tableProperties"),n=t.find(".fr-table-alignment-container"),a=n.find(".fr-table-".concat(e,"-align")).get(0);n.find(".fr-table-left-align").get(0).innerHTML=k.icon.create("leftTableAlign"),n.find(".fr-table-center-align").get(0).innerHTML=k.icon.create("centerTableAlign"),n.find(".fr-table-right-align").get(0).innerHTML=k.icon.create("rightTableAlign"),a.innerHTML=k.icon.create("".concat(e,"TableAlignActive")),a.focus(),t.data("tableAlign",e)}function ue(){var t,e={buttons:"",table_properties_form:'\n         <div class="fr-table-properties-form">\n            <div class="fr-table-properties-section">\n              <label>'.concat(k.language.translate("Background"),'</label>\n              <div class="fr-table-bg-container">\n                <div class="fr-input-line">\n                  <input type="text" title="').concat(k.language.translate("Custom background color input"),'" id="fr-table-bg" class="fr-input" placeholder="').concat(k.language.translate("Color"),'" tabIndex="1" aria-required="true">\n                </div>\n                <button title="').concat(k.language.translate("Background color picker"),'" role="button" type="button" class="fr-command fr-enable-accessibility fr-btn-table-bg-color" data-param1="table" tabIndex="2" data-cmd="openColorPicker">\n                  <div class="fr-color-preview">\n                    <div class="fr-color-preview-indicator"></div>\n                  </div>\n                </button>\n              </div>\n              <label>').concat(k.language.translate("Border"),'</label>\n              <div class="fr-table-border-container">\n                <div class="fr-input-line">\n                  <label class="fr-field-lable">').concat(k.language.translate("Style"),'</label>\n                  <div class= "fr-buttons fr-border-style"> ').concat(k.button.build("tableBorderStyle",ct.COMMANDS.tableBorderStyle,!0),'</div>\n                </div>\n                <div class="fr-input-line">\n                  <input  title="').concat(k.language.translate("Custom border color input"),'" id="fr-table-border-color" class="fr-input" type="text" placeholder="').concat(k.language.translate("Color"),'" tabIndex="3" aria-required="true">\n                </div>\n                <button  title="').concat(k.language.translate("Border color picker"),'" role="button" type="button" class="fr-command fr-btn-table-border-bg-color fr-enable-accessibility" tabIndex="4" data-param1="border" data-cmd="openColorPicker">\n                  <div class="fr-border-color-preview">\n                    <div class="fr-border-color-preview-indicator"></div>\n                  </div>\n                </button>\n                <div class="fr-input-line">\n                  <input  title="').concat(k.language.translate("Border width"),'" id="fr-table-border-width" type="text" class="fr-input" placeholder="').concat(k.language.translate("Width"),'" tabIndex="5" aria-required="true">\n                </div>\n              </div>\n              <div class="fr-table-dimensions-section">\n                <div>\n                  <label>').concat(k.language.translate("Dimensions"),'</label>\n                  <div class="fr-table-dimensions-container">\n                    <div class="fr-input-line">\n                      <input title="').concat(k.language.translate("Table width"),'" type="text" id="fr-table-width" placeholder="').concat(k.language.translate("Width"),'" tabIndex="6">\n                    </div>\n                    <span class="fr-dimension-separator">\xd7</span>\n                    <div class="fr-input-line">\n                      <input title="').concat(k.language.translate("Table height"),'" type="text" id="fr-table-height" placeholder="').concat(k.language.translate("Height"),'" tabIndex="7">\n                    </div>\n                  </div>\n                </div>\n                <div class="fr-table-alignment-section">\n                  <label>').concat(k.language.translate("Alignment"),'</label>\n                  <div class="fr-table-alignment-container">\n                    <button title="').concat(k.language.translate("Left align"),'" class="fr-enable-accessibility fr-command fr-table-left-align" data-param1="left" data-cmd="tableAlign" tabIndex="8">').concat(k.icon.create("leftTableAlign"),'</button>\n                    <button title="').concat(k.language.translate("Center align"),'" class="fr-enable-accessibility fr-command fr-table-center-align" data-param1="center" data-cmd="tableAlign" tabIndex="9">').concat(k.icon.create("centerTableAlign"),'</button>\n                    <button title="').concat(k.language.translate("Right align"),'" class="fr-enable-accessibility fr-command fr-table-right-align" data-param1="right" data-cmd="tableAlign" tabIndex="10">').concat(k.icon.create("rightTableAlign"),"</button>\n                  </div>\n                </div>\n              </div>\n              <label>").concat(k.language.translate("Table Style"),'</label>\n              <div class="fr-table-style-container">\n                <div class="fr-input-line">\n                  <label class="fr-field-lable">').concat(k.language.translate("Style"),'</label>\n                  <div class= "fr-buttons fr-table-style"> ').concat(k.button.build("tableStyle",ct.COMMANDS.tableStyle,!0),'</div>\n                </div>\n              </div>\n            </div>\n            <div class="fr-table-properties-buttons">\n              <button role="button" type="button" class="fr-enable-accessibility fr-command fr-cancel-button" tabIndex="11" data-cmd="onCancel">').concat(k.language.translate("Cancel"),'</button>\n              <button role="button" type="button" class="fr-enable-accessibility fr-command fr-save-button" tabIndex="12" data-cmd="applyTableProperties">').concat(k.language.translate("Save"),"</button>\n            </div>\n          </div>\n        ")},i=k.popups.create("table.tableProperties",e);return(t=function t(e,a,r){i.find(e).on("keydown",function(t){var e=x(t.target),n=t.which;n!==ct.KEYCODE.ENTER&&n!==ct.KEYCODE.ARROW_DOWN&&n!==ct.KEYCODE.SPACE||e.hasClass("fr-active")||!e.is("button")||(a&&r&&k.button.click(e),t.preventDefault(),t.stopPropagation()),setTimeout(function(){var e;n===ct.KEYCODE.TAB&&a&&r&&((e=t.shiftKey?i.find(a):i.find(r))&&e.length&&e.focus(),t.preventDefault(),t.stopPropagation())},10)})})(".fr-border-style > button",".fr-btn-table-bg-color","#fr-table-border-color"),t(".fr-border-style > .fr-dropdown-menu li",".fr-btn-table-bg-color","#fr-table-border-color"),t(".fr-table-style > button",".fr-table-right-align",".fr-cancel-button"),t(".fr-table-style > .fr-dropdown-menu li",".fr-table-right-align",".fr-cancel-button"),t(".fr-save-button",".fr-cancel-button","#fr-table-bg"),i}function n(){p=!1}function B(e,t){var n=e.find("colgroup"),a=(0===n.length&&(n=x(k.doc.createElement("colgroup")),e.prepend(n)),n.find("col").length);if(a<t)for(var r=a;r<t;r++)n.append(x(k.doc.createElement("col")));else t<a&&n.find("col").slice(t).remove();return U(n,H(e)),e.find("th, td").each(function(){x(this).css("width","")}),n}function H(e){var t=[];return e.find("colgroup").find("col").each(function(){var e=Math.round(x(this).width())||0;t.push(e)}),t}function U(e,t){var n,e=e.find("col"),a=t.reduce(function(e,t){return e+t},0);.01<Math.abs(a-100)&&(n=100/a,t=t.map(function(e){return e*n})),e.each(function(e){e<t.length&&x(this).css("width",t[e].toFixed(4)+"%")})}function ge(e,t){e.css("height","");var n=e.height(),a=e.find("tr"),r=(t-n)/a.length;a.each(function(){var e=x(this),t=e.outerHeight(),t=Math.max(t+r,k.opts.tableResizingLimit);e.css("height",t+"px")}),e.css("height","".concat(t,"px"))}function he(){d(k.$el.find("table.fr-selection-handle-selected"),"fr-selection-handle-selected fr-selection-handle-hover"),k.$box.find(".fr-selection-handle").addClass("fr-selection-handle-inactive")}return{_init:function(){if(!k.$wp)return!1;var t,n,a;k.helpers.isMobile()&&(k.events.$on(k.$el,"mousedown",e),k.events.$on(k.$win,"mouseup",i)),k.helpers.isMobile()||(g=p=u=!1,k.events.$on(k.$el,"mousedown",e),k.popups.onShow("image.edit",function(){y(),p=u=!1}),k.popups.onShow("link.edit",function(){y(),p=u=!1}),k.events.$on(k.$el,"mouseover","th, td",J),k.events.$on(k.$win,"mouseup",i),k.opts.iframe&&k.events.$on(x(k.o_win),"mouseup",i),k.events.$on(k.$win,"mousemove",ce),k.events.$on(x(k.o_win),"scroll",se),k.events.on("contentChanged",function(){0<N().length&&!k.popups.isVisible("table.tableProperties")&&(m(),k.$el.find("img").on("load.selected-cells",function(){x(this).off("load.selected-cells"),0<N().length&&m()}))}),k.events.$on(x(k.o_win),"resize",function(){y()}),k.events.on("toolbar.esc",function(){if(0<N().length)return k.events.disableBlur(),k.events.focus(),!1},!0),k.events.$on(x(k.o_win),"keydown",function(){u&&p&&(p=u=!1,k.$el.removeClass("fr-no-selection"),k.edit.on(),k.selection.setAtEnd(k.$el.find(".fr-selected-cell").last().get(0)),k.selection.restore(),y())}),k.events.$on(k.$el,"keydown",function(e){e.shiftKey?!1===function(e){var t=N();if(null!=t&&0<t.length){var n,a=L(),e=e.which,t=1==t.length?n=t[0]:(n=k.el.querySelector(".fr-cell-fixed"),k.el.querySelector(".fr-cell-handler")),t=I(t,a);if(ct.KEYCODE.ARROW_RIGHT==e){if(t.col<a[0].length-1)return f(n,a[t.row][t.col+1]),!1}else if(ct.KEYCODE.ARROW_DOWN==e){if(t.row<a.length-1)return f(n,a[t.row+1][t.col]),!1}else if(ct.KEYCODE.ARROW_LEFT==e){if(0<t.col)return f(n,a[t.row][t.col-1]),!1}else if(ct.KEYCODE.ARROW_UP==e&&0<t.row)return f(n,a[t.row-1][t.col]),!1}}(e)&&setTimeout(function(){m()},0):ae(e)}),k.events.on("keydown",function(e){if(!1===function(e){var t,n=e.which;if(n==ct.KEYCODE.TAB&&(0<N().length?t=k.$el.find(".fr-selected-cell").last():"TD"==(n=k.selection.element()).tagName||"TH"==n.tagName?t=x(n):n!=k.el&&(0<x(n).parentsUntil(k.$el,"td").length?t=x(n).parents("td").first():0<x(n).parentsUntil(k.$el,"th").length&&(t=x(n).parents("th").first())),t))return e.preventDefault(),!!(0===k.selection.get().focusOffset&&0<x(k.selection.element()).parentsUntil(k.$el,"ol, ul").length&&(0<x(k.selection.element()).closest("li").prev().length||x(k.selection.element()).is("li")&&0<x(k.selection.element()).prev().length))||(A(),e.shiftKey?0<t.prev().length?P(t.prev()):0<t.closest("tr").length&&0<t.closest("tr").prev().length?P(t.closest("tr").prev().find("td").last()):0<t.closest("tbody").length&&0<t.closest("table").find("thead tr").length&&P(t.closest("table").find("thead tr th").last()):0<t.next().length?P(t.next()):0<t.closest("tr").length&&0<t.closest("tr").next().length?P(t.closest("tr").next().find("td").first()):0<t.closest("thead").length&&0<t.closest("table").find("tbody tr").length?P(t.closest("table").find("tbody tr td").first()):(t.addClass("fr-selected-cell"),G("below"),y(),P(t.closest("tr").next().find("td").first())),k.selection.restore(),!1)}(e))return!1;var t,n,a=function a(){y(),he(),e.preventDefault(),e.stopPropagation()},r=k.$el.find("table.fr-selection-handle-selected"),i=e.which;if(r.length&&!k.keys.isArrow(e.which)&&i!==ct.KEYCODE.TAB&&i!==ct.KEYCODE.ALT&&i!==ct.KEYCODE.ESC){if(e.ctrlKey||e.metaKey||i===ct.KEYCODE.SHIFT)return!0;E(),k.undo.saveStep(),a();var o,s,l=k.html.defaultTag();return(i===ct.KEYCODE.ENTER||k.keys.isCharacter(i)&&!e.ctrlKey&&!e.metaKey)&&(o=i===ct.KEYCODE.ENTER,l=l?(o?"<".concat(l,' id="cursor-marker"></'):"<".concat(l,' id="cursor-marker"> ').concat(i===ct.KEYCODE.SPACE?"&nbsp;":e.key,"</")).concat(l,">"):o?'<br id="cursor-marker">':"".concat(i===ct.KEYCODE.SPACE?"&nbsp;":e.key,' <br id="cursor-marker">'),k.html.insert(l,!0,!0),(s=k.$el.find("#cursor-marker").get(0))&&s.parentNode&&setTimeout(function(){var e=k.doc.createRange(),t=(e.setStart(s,o?0:1),e.setEnd(s,o?0:1),e.collapse(!0),k.selection.get());t.removeAllRanges(),t.addRange(e),k.$el.focus()},0),s)&&s.removeAttribute("id"),!1}if(r.length&&k.keys.isArrow(e.which))return i=e.which===ct.KEYCODE.ARROW_DOWN||e.which===ct.KEYCODE.ARROW_RIGHT,l=e.which===ct.KEYCODE.ARROW_UP||e.which===ct.KEYCODE.ARROW_LEFT,(i||l)&&(l=i?r.next():r.prev())&&l.length&&l[0].nodeType===Node.ELEMENT_NODE&&("UL"!==(t=l[0]).tagName&&"OL"!==t.tagName||0<(n=t.querySelectorAll("li")).length&&(t=n[n.length-1]),n=k.doc.createRange(),i?n.setStartBefore(l[0]):(n.selectNodeContents(t),n.collapse(!1)),(i=k.selection.get()).removeAllRanges(),i.addRange(n),setTimeout(function(){k.events.disableBlur(),k.$el[0].focus(),k.events.enableBlur()},0)),a(),!1;e.ctrlKey||e.metaKey||!r.length||(y(),he());var c=N();if(0<c.length){if(0<c.length&&k.keys.ctrlKey(e)&&e.which==ct.KEYCODE.A)return y(),k.popups.isVisible("table.edit")&&k.popups.hide("table.edit"),c=[],!0;if(e.which==ct.KEYCODE.ESC&&k.popups.isVisible("table.edit"))return y(),k.popups.hide("table.edit"),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!(c=[]);if(1<c.length&&(e.which==ct.KEYCODE.BACKSPACE||e.which==ct.KEYCODE.DELETE)){k.undo.saveStep();for(var d=0;d<c.length;d++)x(c[d]).html("<br>"),d==c.length-1&&x(c[d]).prepend(ct.MARKERS);return k.selection.restore(),k.undo.saveStep(),!(c=[])}return 1<c.length&&e.which!=ct.KEYCODE.F10&&!k.keys.isBrowserAction(e)?(e.preventDefault(),!(c=[])):void 0}return!(c=[])!==function(e){if(e.altKey&&e.which==ct.KEYCODE.SPACE){var t,n=k.selection.element();if("TD"==n.tagName||"TH"==n.tagName?t=n:0<x(n).closest("td").length?t=x(n).closest("td").get(0):0<x(n).closest("th").length&&(t=x(n).closest("th").get(0)),t)return e.preventDefault(),f(t,t),m(),!1}}(e)&&void 0},!0),t=null,n=[],k.events.on("html.beforeGet",function(){n=N();for(var e=0;e<n.length;e++)n[e].className=(n[e].className||"").replace(/fr-selected-cell/g,"");(t=k.$el.find("table.fr-selection-handle-selected"))&&t.length&&d(t,"fr-selection-handle-selected")}),k.events.on("html.afterGet",function(){for(var e=0;e<n.length;e++)n[e].className=(n[e].className?n[e].className.trim()+" ":"")+"fr-selected-cell";n=[],t&&t.length&&t.addClass("fr-selection-handle-selected")}),k.events.on("dragover",A),k.events.on("element.dropped",function(e){e&&(A(),p=u=!1,e=C({target:e.get(0)}))&&(f(e,e),m())}),k.el.addEventListener("copy",function(e){var t,n,a,r,i,o,s,l,c=(l=N())&&0!==l.length?(c=(o=l[0]).parentElement,s=(l=l[l.length-1]).parentElement,t=c.closest("table"),n=(t=Array.from(t.rows)).indexOf(c),a=t.indexOf(s),r=Array.from(c.cells).indexOf(o),i=Array.from(s.cells).indexOf(l),{rows:t.slice(n,a+1).map(function(e){return Array.from(e.cells).slice(r,i+1)})}):null;c&&(o=c.rows.map(function(e){return"<tr>"+e.map(function(e){var t=e.tagName.toLowerCase(),n=e.getAttribute("style");return"<".concat(t).concat(n?' style="'.concat(n,'"'):"",">").concat(e.innerHTML,"</").concat(t,">")}).join("")+"</tr>"}).join(""),s=c.rows.map(function(e){return e.map(function(e){return e.textContent.trim()}).join("\t")}).join("\n"),l="<table>".concat(o,"</table>"),k.paste.saveCopiedText(l,s),e.clipboardData.setData("text/html",l),e.preventDefault())}),k.events.on("commands.after",function(e){var t;"applyTableProperties"===e&&(t=!!(e=k.$el.find(".fr-selected-cell").closest("table")).length&&parseFloat(e[0].style.height))&&ge(e,t)}),a=k.language.translate("The content you are pasting does not contain a table.\nPlease ensure the copied content is in table format."),k.events.on("paste.before",function(e,t){if(k.popups.hideAll(),k.$el.find("table.fr-selection-handle-selected").length){t=t||e&&e.clipboardData;if(t&&t.items){t=(t||window.clipboardData).getData("text/html")||"";if(!t||-1===t.indexOf("<table"))return alert(a),e.preventDefault(),e.stopPropagation(),!1}}return!0}),k.events.on("html.beforeInsert",function(e){var t,n;if(!l)return t=k.$el.find("table.fr-selection-handle-selected"),!(t=(n=N()).length&&!t.length&&e.startsWith("<table")?x(n[0].closest("table")):t).length||((n=function(e){for(var t=k.doc.createElement("div"),n=(t.innerHTML=e,t.firstChild);n;){var a=n.nextSibling;(n.nodeType===Node.TEXT_NODE&&""===n.textContent.replace(/\u200b/g,"").trim()||n.nodeType===Node.COMMENT_NODE||"SPAN"===n.tagName&&""===n.textContent.replace(/\u200b/g,"").trim())&&n.remove(),n=a}return 1===t.childNodes.length&&"TABLE"===t.childNodes[0].tagName&&t.childNodes[0]}(e))?(function(e,t){for(var n=t.get(0),r=(t=(N().length?N():n.rows[0].cells)[0])&&t.parentNode?t.parentNode.rowIndex:0,i=t?t.cellIndex:0,o=n.rows,s=e.rows,l=0;l<s.length;l++){if(!o[r+l])for(var a=o[o.length-1].cells.length,c=n.insertRow(),d=0;d<a;d++)c.insertCell();for(var f=o[r+l],p=function p(){if(!f.cells[i+u])for(var e=0;e<o.length;e++)o[e].insertCell();var t=f.cells[i+u],n=s[l].cells[u],a=(t.outerHTML=n.outerHTML,o[r+l].cells[i+u]);setTimeout(function(){k.events.trigger("cell.replaced",[t,a])},10)},u=0;u<s[l].cells.length;u++)p()}return!0}(n,t)&&setTimeout(function(){k.$el.find(".fr-selected-cell").removeClass("fr-selected-cell");var e=k.snapshot.get();k.undo_stack[k.undo_index-1]=e},20),k.keys.positionCaret(),k.popups.hideAll(),k.events.trigger("html.inserted")):alert(a),!1);l=!1}),o(!0),$(!0),k.dragSelectControls._init()),k.events.on("destroy",fe)},insert:function(e,t){var n,a,r=function(){var e={startTag:"",closeTag:""};{var t;k.opts.keepTextFormatOnTable&&(t=x(k.selection.element().firstChild).parentsUntil(k.$el),e=V(t))}return{startTag:e.startTag,closeTag:e.closeTag}}(),i=[];k.opts.tableDefaultWidth&&i.push("width: "+k.opts.tableDefaultWidth+";"),k.opts.tableDefaultHeight&&i.push("height: "+k.opts.tableDefaultHeight+";"),i.push("margin: auto;"),"left"===k.opts.tableDefaultAlign?i.push("float: left;"):"right"===k.opts.tableDefaultAlign&&i.push("float: right;"),k.opts.tableDefaultBorderColor&&i.push("border-color: "+k.opts.tableDefaultBorderColor+";"),k.opts.tableDefaultBorderWidth&&i.push("border-width: "+k.opts.tableDefaultBorderWidth+";"),k.opts.tableDefaultBorderStyle&&i.push("border-style: "+k.opts.tableDefaultBorderStyle+";"),k.opts.tableDefaultBGColor&&i.push("background-color: "+k.opts.tableDefaultBorderStyle+";");var o="<table "+((i=i.join(" "))?'style="'+i+'"':"")+' class="fr-inserted-table">',s=100/t;for(o+="<colgroup>",a=0;a<t;a++)o+="<col"+(k.opts.tableDefaultWidth?' style="width: '+s.toFixed(4)+'%;"':"")+">";for(o=o+"</colgroup>"+"<tbody>",n=0;n<e;n++){for(o+="<tr>",a=0;a<t;a++)o+="<td>"+r.startTag,0===n&&0===a&&(o+=ct.MARKERS),o+="<br>"+r.closeTag+"</td>";o+="</tr>"}o+="</tbody></table>",k.opts.trackChangesEnabled?(k.edit.on(),k.events.focus(!0),k.selection.restore(),k.undo.saveStep(),k.markers.insert(),k.html.wrap(),i=k.$el.find(".fr-marker"),k.node.isLastSibling(i)&&i.parent().hasClass("fr-deletable")&&i.insertAfter(i.parent()),i.replaceWith(o),k.selection.clear()):(l=!0,k.html.insert(o)),k.selection.restore(),d(i=k.$el.find(".fr-inserted-table"),"fr-inserted-table"),k.events.trigger("table.inserted",[i.get(0)])},remove:E,insertRow:G,deleteRow:function(){var e=D();if(0<e.length){var t,n=L(),a=w(n);if(null!=a)if(0===a.min_i&&a.max_i==n.length-1)E();else{for(t=a.max_i;t>=a.min_i;t--){for(var r=(r=e.find("tr").not(e.find("> table tr"))).filter(function(){return x(this).closest("table")[0]===e[0]}),i=x(r.get(t)),o=0;o<n[t].length;o++)if(0===o||n[t][o]!=n[t][o-1]){var s=x(n[t][o]);if(s.attr("rowspan")&&1<parseInt(s.attr("rowspan"),10)&&(1==(l=parseInt(s.attr("rowspan"),10)-1)?s.removeAttr("rowspan"):s.attr("rowspan",l)),t<n.length-1&&n[t][o]==n[t+1][o]&&(0===t||n[t][o]!=n[t-1][o])){for(var l=n[t][o],c=o;0<c&&n[t][c]==n[t][c-1];)c--;0===c?x(r.get(t+1)).prepend(l):x(n[t+1][c-1])[0].parentNode&&x(n[t+1][c-1])[0].insertAdjacentElement("afterend",l)}}var d=i.parent();i.remove(),0===d.find("tr").length&&d.remove(),n=L(e)}X(0,n.length-1,0,n[0].length-1,e),0<a.min_i?k.selection.setAtEnd(n[a.min_i-1][0]):k.selection.setAtEnd(n[0][0]),k.selection.restore(),k.popups.hide("table.edit")}}},insertColumn:function(l){var c,d,t,e,n,a,r,i,o,s,f=D();0<f.length&&(i=w(c=L()),d="before"==l?i.min_j:i.max_j,B(f,c[0].length),i=function(e){var t=e.reduce(function(e,t){return e+t},0);{var n;return 0<t?e.map(function(e){return e/t*100}):(n=100/e.length,new Array(e.length).fill(n))}}(i=H(f)),r=100/(c[0].length+1),t=(100-r)/100,i=i.map(function(e){return e*t}),f.find("th, td").each(function(){(e=x(this)).data("old-width",e.outerWidth()/f.outerWidth()*100)}),o=l,s=d,n=r,a=i,i=(r=(r=f).find("colgroup")).find("col"),o="before"===o?s:s+1,(s=x(k.doc.createElement("col"))).css("width",n.toFixed(4)+"%"),o<i.length?i.eq(o).before(s):r.append(s),i.each(function(e){e=a[e]||n;x(this).css("width",e.toFixed(4)+"%")}),f.find("tr").not(f.find("> table tr")).filter(function(){return x(this).closest("table")[0]===f[0]}).each(function(e){for(var t,n=x(this),a=0,r=0;a-1<d;){if(!(t=n.find("> th, > td").get(r))){t=null;break}t==c[e][a]?(a+=parseInt(x(t).attr("colspan"),10)||1,r++):(a+=parseInt(x(c[e][a]).attr("colspan"),10)||1,"after"==l&&(t=0===r?-1:n.find("> th, > td").get(r-1)))}var i,o,s=x(t);"after"==l&&d<a-1||"before"==l&&0<d&&c[e][d]==c[e][d-1]?(0===e||0<e&&c[e][d]!=c[e-1][d])&&(i=parseInt(s.attr("colspan"),10)+1,s.attr("colspan",i),s.removeData("old-width")):(i=(s.get(0)||"").tagName,o=0<n.find("th").length&&"TH"===i?"<th><br></th>":(i=W(c[e][d]),o=s.attr("style")||"","<td".concat(o?' style="'.concat(o,'"'):"",">")+i.startTag+"<br>"+i.closeTag+"</td>"),x(o).append("<br>"),-1==t?n.prepend(o):null==t?n.append(o):"before"==l?s.before(o):"after"==l&&s.after(o))}),f.find("th, td").each(function(){x(this).removeData("old-width")}),k.popups.isVisible("table.edit"))&&m()},deleteColumn:function(){if(0<(d=D()).length){var e,t=L(),n=(B(d,t[0].length),w(t));if(null!=n)if(0===n.min_j&&n.max_j==t[0].length-1)E();else{for(var a,r,i=H(d),o=n.max_j;o>=n.min_j;o--)for(e=0;e<t.length;e++)0!==e&&t[e][o]==t[e-1][o]||(r=x(t[e][o]),1<(parseInt(r.attr("colspan"),10)||1)?(1==(a=parseInt(r.attr("colspan"),10)-1)?r.removeAttr("colspan"):r.attr("colspan",a),r.removeData("old-width")):(a=x(r.parent().get(0)),r.remove(),0===a.find("> th, > td").length&&(0===a.prev().length||0===a.next().length||a.prev().find("> th[rowspan], > td[rowspan]").length<a.prev().find("> th, > td").length)&&a.remove()));X(0,t.length-1,0,t[0].length-1,d);var s=n.min_j,l=n.max_j,c=i,i=c.length-(l-s+1);if(0<i){for(var d=B(d,i),f=0,p=0;p<c.length;p++)(p<s||l<p)&&(f+=c[p]);for(var u,g=[],h=0;h<c.length;h++)(h<s||l<h)&&(u=100*c[h]/f,g.push(u));U(d,g)}0<n.min_j?k.selection.setAtEnd(t[n.min_i][n.min_j-1]):k.selection.setAtEnd(t[n.min_i][0]),k.selection.restore(),k.popups.hide("table.edit")}}},mergeCells:function(){if(1<N().length&&(0===k.$el.find("th.fr-selected-cell").length||0===k.$el.find("td.fr-selected-cell").length)){Q();var e=L(),t=w(e);if(null!=t){var n,a=k.$el.find(".fr-selected-cell"),r=x(a[0]),i=r.closest("table"),o=r.html(),s=H(i);for(t.min_j<t.max_j&&r.attr("colspan",t.max_j-t.min_j+1),t.min_i<t.max_i&&r.attr("rowspan",t.max_i-t.min_i+1),c=1;c<a.length;c++)"<br>"!=(n=x(a[c])).html()&&""!==n[0].innerText.trim()&&(/<\/(p|div|h[1-6]|table|ul|ol|blockquote)>$/i.test(o.trim())||(o+="<br>"),o+=n.html()),n.remove();r.html(o),k.selection.setAtEnd(r.get(0)),k.selection.restore(),k.toolbar.enable(),j(t.min_i,t.max_i,i);for(var l=i.find("tr:empty"),c=l.length-1;0<=c;c--)x(l[c]).remove();Y(t.min_j,t.max_j,i);var d,r=L(i),t=r[0]?r[0].length:0;e[0].length>t&&(r=i.find("colgroup"),d=(e=e[0].map(function(e,t){return x(e).is(".fr-selected-cell")?t:null}).filter(function(e){return null!==e})).reduce(function(e,t){return e+s[t]},0),U(r,[].concat(Ce(s.slice(0,Math.min.apply(Math,Ce(e)))),[d],Ce(s.slice(Math.max.apply(Math,Ce(e))+1))))),B(i,t),m()}}},splitCellVertically:function(){if(1==N().length){var e=k.$el.find(".fr-selected-cell"),t=parseInt(e.attr("colspan"),10)||1,n=e.parent().outerWidth(),a=e.outerWidth(),r=e.parents("table"),i=e.clone().html("<br>"),o=L(),s=I(e.get(0),o);if(1<t)f=Math.ceil(t/2),a=function(e,t,n){var a,r=0;for(a=e;a<=t;a++)r+=F(a,n);return r}(s.col,s.col+f-1,o)/n*100,1<f?e.attr("colspan",f):e.removeAttr("colspan"),1<t-f?i.attr("colspan",t-f):i.removeAttr("colspan");else{for(var l,c,d=0;d<o.length;d++)0!==d&&o[d][s.col]==o[d-1][s.col]||(l=x(o[d][s.col])).is(e)||(c=(parseInt(l.attr("colspan"),10)||1)+1,l.attr("colspan",c));a=a/n*100/2}e[0].parentNode&&e[0].insertAdjacentElement("afterend",i[0]);var f=r,n=s,i=t,r=a,t=o,a=f.find("colgroup");0===a.length&&(a=B(f,t[0].length)),t=a.find("col"),1<i?(i=H(f),U(a,i)):(f=r,(i=t.eq(n.col)).length&&i.css("width",f.toFixed(4)+"%"),(r=x(k.doc.createElement("col"))).css("width",f.toFixed(4)+"%"),n.col+1<t.length?t.eq(n.col+1).before(r):a.append(r)),y(),k.popups.hide("table.edit")}},splitCellHorizontally:function(){if(1==N().length){var e=k.$el.find(".fr-selected-cell"),t=e.parent(),n=e.closest("table"),a=parseInt(e.attr("rowspan"),10),r=L(),i=I(e.get(0),r),o=e.clone().html("<br>");if(1<a){for(var s=Math.ceil(a/2),l=(1<s?e.attr("rowspan",s):e.removeAttr("rowspan"),1<a-s?o.attr("rowspan",a-s):o.removeAttr("rowspan"),i.row+s),c=0===i.col?i.col:i.col-1;0<=c&&(r[l][c]==r[l][c-1]||0<l&&r[l][c]==r[l-1][c]);)c--;-1==c?(a=(a=n.find("tr").not(n.find("> table tr"))).filter(function(){return x(this).closest("table")[0]===n[0]}),x(a.get(l)).prepend(o)):x(r[l][c])[0].parentNode&&x(r[l][c])[0].insertAdjacentElement("afterend",o[0])}else{for(var d,s=x(document.createElement("tr")).append(o),f=0;f<r[0].length;f++)0!==f&&r[i.row][f]==r[i.row][f-1]||(d=x(r[i.row][f])).is(e)||d.attr("rowspan",(parseInt(d.attr("rowspan"),10)||1)+1);t[0].parentNode&&t[0].insertAdjacentElement("afterend",s[0])}y(),k.popups.hide("table.edit")}},addHeader:function(){var e=D();if(0<e.length&&0===e.find("> th").length){var t,n="<thead><tr>",a=0,a=e.find("tr").first().find("> th").length;for(e.find("tr").first().find("> td").each(function(){var e=x(this);a+=parseInt(e.attr("colspan"),10)||1}),t=0;t<a;t++)n+="<th><br></th>";e.prepend(n+="</tr></thead>"),m()}},addFooter:function(){var e=D();if(0<e.length&&0===e.find("tfoot").length){var t="<tfoot><tr>",n=0,a=e.find("thead tr").first();(a=0===a.length?e.find("tbody tr").first():a).find("th, td").each(function(){n+=parseInt(x(this).attr("colspan"),10)||1});for(var r=0;r<n;r++)t+="<td><br></td>";e.append(t+="</tr></tfoot>"),m()}},removeHeader:function(){var e=D(),t=e.find("> thead");0<(t=x(t)).length&&(0===e.find("tbody tr").length?E():(t.remove(),0<N().length?m():(k.popups.hide("table.edit"),(t=e.find("tbody tr").first().find("td").first().get(0))&&(k.selection.setAtEnd(t),k.selection.restore()))))},removeFooter:function(){var e=D(),t=e.find("tfoot");0<t.length&&(0===e.find("tbody tr").length?E():(t.remove(),0<N().length?m():(k.popups.hide("table.edit"),(t=e.find("tbody tr").first().find("td").first().get(0))&&(k.selection.setAtEnd(t),k.selection.restore()))))},setBackground:function(e){var t=k.$el.find(".fr-selected-cell");"REMOVE"!=e?t.css("background-color",k.helpers.HEXtoRGB(e)):t.css("background-color","")},showInsertPopup:function(){var e,t,n=k.$tb.find('.fr-command[data-cmd="insertTable"]');(k.popups.get("table.insert")||o()).hasClass("fr-active")||(k.popups.refresh("table.insert"),k.popups.setContainer("table.insert",k.$tb),t=(e=k.button.getPosition(n)).left,k.popups.show("table.insert",t,e.top,n.outerHeight()))},showEditPopup:m,showColorsPopup:function(e){var t,n,a,r,i,o,s,l=L();l&&((k.popups.get("table.colors")||function(){var e="",t=0;0<k.opts.tableColorsButtons.length&&(e='<div class="fr-buttons fr-colors-buttons fr-tabs">'.concat(k.button.buildList(k.opts.tableColorsButtons),"</div>"));var n="";k.opts.colorsHEXInput&&(n='<div class="fr-color-hex-layer fr-table-colors-hex-layer fr-active fr-layer" id="fr-table-colors-hex-layer-'.concat(k.id,'">\n        <div class="fr-input-line">\n        <input maxlength="7" id="fr-table-colors-hex-layer-text" data-cmd="applyCustomColor" tabIndex="').concat(++t,'" type="text" placeholder="').concat(k.language.translate("HEX Color"),'" aria-required="true">\n        </div>\n        <div class="fr-action-buttons">\n        <button type="button" class="fr-command fr-submit" tabIndex="').concat(2,'" data-cmd="applyCustomColor" role="button">\n        ').concat(k.language.translate("OK"),"\n        </button>\n        </div>\n        </div>"));t={buttons:e,colors:function(){for(var e='<div class="fr-color-set fr-table-colors">',t=0;t<k.opts.tableColors.length;t++)0!==t&&t%k.opts.tableColorsStep==0&&(e+="<br>"),"REMOVE"!=k.opts.tableColors[t]?e+='<span class="fr-command fr-select-color" style="background: '.concat(k.opts.tableColors[t],';" tabIndex="-1" aria-selected="false" role="button" data-cmd=\'onSelectColor\' data-param1="').concat(k.opts.tableColors[t],'"><span class="fr-sr-only">').concat(k.language.translate("Color")," ").concat(k.opts.tableColors[t],"&nbsp;&nbsp;&nbsp;</span></span>"):e+='<span class="fr-command fr-select-color" data-cmd=\'onColorClear\' tabIndex="-1" role="button" title="'.concat(k.language.translate("Clear Formatting"),'">').concat(k.icon.create("tableColorRemove"),'<span class="fr-sr-only">').concat(k.language.translate("Clear Formatting"),"</span></span>");return e+="</div>"}(),custom_color:n},e=k.popups.create("table.colors",t);return function(c){k.events.on("popup.tab",function(e){var t,n,a,r,i,o,s,l=x(e.currentTarget);return!k.popups.isVisible("table.colors")||!l.is("span, input, button")||(t=e.which,n=!0,ct.KEYCODE.TAB==t?(a=c.find("span.fr-select-color"),(l.is(a.first())&&e.shiftKey||l.is(c.find("span.fr-submit"))&&!e.shiftKey)&&(a=c.find(".fr-buttons"),n=!k.accessibility.focusToolbar(a,!!e.shiftKey)),!1!==n&&((a=c.find("span.fr-select-color")).add(c.find("input")),a.add(c.find("button.fr-submit")),i=a.index(l),i=e.shiftKey?((i-1)%a.length+a.length)%a.length:(i+1)%a.length,i=a.get(i),k.events.disableBlur(),i.focus(),n=!1)):ct.KEYCODE.ARROW_UP==t||ct.KEYCODE.ARROW_DOWN==t||ct.KEYCODE.ARROW_LEFT==t||ct.KEYCODE.ARROW_RIGHT==t?(i=(a=l.parent().find("span.fr-command")).index(l),r=k.opts.colorsStep,s=Math.floor(a.length/r),o=i%r,i=Math.floor(i/r)*r+o,o=s*r,ct.KEYCODE.ARROW_UP==t?i=((i-r)%o+o)%o:ct.KEYCODE.ARROW_DOWN==t?i=(i+r)%o:ct.KEYCODE.ARROW_LEFT==t?i=((i-1)%o+o)%o:ct.KEYCODE.ARROW_RIGHT==t&&(i=(i+1)%o),s=x(a.get(i)),k.events.disableBlur(),s.focus(),n=!1):ct.KEYCODE.ENTER==t&&(k.button.exec(l),n=!1),!1===n&&(e.preventDefault(),e.stopPropagation()),n)},!0)}(e),e}()).data("type",e),k.popups.setContainer("table.colors",k.$sc),l=((e=_(l)).left+e.right)/2,t=e.bottom,n=k.popups.get("table.colors"),a=k.$el.find(".fr-selected-cell").first(),r=n.find(".fr-table-colors-hex-layer input"),i=n.data("type"),o=k.popups.get("table.cellProperties"),s="","tableCellBackground"===i?(a.removeClass("fr-selected-cell"),s=(s=a.css("background-color"))&&"rgba(0, 0, 0, 0)"!==s&&"transparent"!==s?k.helpers.RGBToHex(s):"",a.addClass("fr-selected-cell")):"cell"===i&&o.length&&(s=o.find(".fr-cell-bg-container input").val()),n.find(".fr-selected-color").removeClass("fr-selected-color fr-active-item"),n.find('span[data-param1="'.concat(s,'"]')).addClass("fr-selected-color fr-active-item"),r.val(s).trigger("change"),k.popups.show("table.colors",l,t,e.bottom-e.top,!0))},showTableProperties:function(){var r,e,t,n,a,i,o,s,l,c,d,f,p,u,g=L();g&&(r=(r=k.popups.get("table.tableProperties"))||ue(),u=D(),r.data("tableStyle",{}),r.data("borderStyle",""),o=u[0],f=o&&o.getAttribute("style")||"",p=(c=!!f)&&/background(-color)?\s*:/i.test(f)?u.css("background-color"):"",e=c&&/border(-color)?\s*:/i.test(f)?u.css("border-color"):"",t=c&&/border(-style)?\s*:/i.test(f)?u.css("border-style"):"",n=c&&/border(-width)?\s*:/i.test(f)?u[0].style.borderWidth:"",a=c&&/(^|\s|;)width\s*:/i.test(f)&&o?o.style.width:"",i=c&&/(^|\s|;)height\s*:/i.test(f)&&o?o.style.height:"",o=c?/\bfloat\s*:\s*right\b/i.test(f)?"right":!/\bfloat\s*:\s*left\b/i.test(f)&&/\bmargin\s*:\s*auto\b/i.test(f)?"center":"left":"left",c="",l={},u.is("[class]")&&(f=u.attr("class").split(/\s+/),s=k.opts.tableStyles,l=f.reduce(function(e,t){return s.hasOwnProperty(t)&&(e[t]=s[t]),e},{}),c=Object.values(l).join(", ")),d=function d(e,t,n,a){a=k.helpers.isRGBColor(a)?k.helpers.RGBToHex(a):a;r.find(e).val(a),v(r.find(t),r.find(n),a)},u=r.find(".fr-border-style").find(".fr-dropdown"),f=r.find(".fr-table-style").find(".fr-dropdown"),d("#fr-table-bg",".fr-color-preview",".fr-color-preview-indicator",p),d("#fr-table-border-color",".fr-border-color-preview",".fr-border-color-preview-indicator",e),u.find("> span").text(k.language.translate(t)),f.find("> span").text(c||" "),pe(o),setTimeout(function(){n&&r.find("#fr-table-border-width").val(n).focus(),e&&r.find("#fr-table-border-color").focus(),a&&r.find("#fr-table-width").val(a).focus(),i&&r.find("#fr-table-height").val(i).focus(),t&&r.data("borderStyle",t),l&&r.data("tableStyle",l),r.find("#fr-table-bg").focus()},10),k.popups.setContainer("table.tableProperties",k.$sc),u=((p=_(g)).left+p.right)/2,k.popups.show("table.tableProperties",u,p.bottom,p.bottom-p.top,!0))},hideTableProperties:function(){k.popups.hide("table.tableProperties")},updateTableAlign:pe,back:function(e){var t,n,a,r;e&&k.popups.isVisible("table.colors")?(k.popups.hide("table.colors"),(r=L())&&(n=(n=k.popups.get(t=(a="table"===e||"border"===e)?"table.tableProperties":"table.cellProperties"))||(a?ue:K)(),k.popups.setContainer(t,k.$sc),r=(a=_(r)).left+(a.right-a.left)/2,k.popups.show(t,r,a.bottom,a.bottom-a.top,!0),n.find("table"===e?".fr-btn-table-bg-color":"border"===e?".fr-btn-table-border-bg-color":".fr-btn-cell-bg-color").focus())):0<N().length?m():(k.popups.hide("table.insert"),k.toolbar.showInline())},verticalAlign:function(e){k.$el.find(".fr-selected-cell").css("vertical-align",e)},horizontalAlign:function(e){var t=k.$el.find(".fr-selected-cell");t.css("text-align",e),t.children().css("text-align","")},applyStyle:function(e,t,n,a){0<t.length&&(k.opts.useClasses||("TABLE"===t.get(0).tagName?function r(e,t){var n=e.childNodes;if(0<n.length)for(var a=0;a<n.length;a++)"TD"===n[a].tagName?"fr-dashed-borders"===t||"fr-highlighted"===t||"fr-thick"===t?Z(n[a]):"fr-alternate-rows"===t&&n[a].style.removeProperty("background-color"):r(n[a],t)}(t.get(0),e):Z(t.get(0))),n||((n=Object.keys(a)).splice(n.indexOf(e),1),t.removeClass(n.join(" "))),t.toggleClass(e))},selectedTable:D,selectedCells:N,customColor:function(){var e=k.popups.get("table.colors").find(".fr-table-colors-hex-layer input"),t=e.val(),n=t;t&&t.length&&a(n=0!==t.indexOf("#")?"#"+t:n),e.val("")},selectCells:f,resetAll:b,showCellPropertiesPopup:function(){var e,t,i,o,s,l,c,d,f,p,n,a,r,u,g=L();g&&((e=k.popups.get("table.cellProperties")||K()).find("#fr-cell-bg, #fr-cell-width, #fr-cell-height, #fr-cell-padding").val(""),b(),v(e.find(".fr-color-preview"),e.find(".fr-color-preview-indicator"),""),(t=k.table.selectedCells()).length)&&(o=!(i=null),l=!(s=null),d=!(c=null),p=!(f=null),n=function n(e){return"rgba(0, 100, 255, 0.15)"===e},Array.from(t).forEach(function(e,t){var n,e=x(e),a=e.css("background-color"),a=(a&&"rgba(0, 0, 0, 0)"!==a&&"transparent"!==a&&(n=k.helpers.RGBToHex(a)),e.attr("data-cell-width")),r=e.attr("data-cell-height"),e=e.attr("data-cell-padding");0===t?(s=a||null,c=r||null,f=e||null,i=n||null):(a!==s&&(l=!1),r!==c&&(d=!1),e!==f&&(p=!1),n!==i&&(o=!1))}),a="",1===t.length?(u=(r=x(t[0])).css("background-color"),(r[0]&&r[0].hasAttribute("style")&&/background(-color)?:/i.test(r.attr("style"))||!n(u))&&(a=k.helpers.isRGBColor(u)?k.helpers.RGBToHex(u):u)):o&&i&&Array.from(t).every(function(e){var t=x(e),e=e.getAttribute("style")||"",e=/background(-color)?:/i.test(e),t=t.css("background-color");return e||!n(t)})&&(a=k.helpers.isRGBColor(i)?k.helpers.RGBToHex(i):i),e.find("#fr-cell-bg").val(a),v(e.find(".fr-color-preview"),e.find(".fr-color-preview-indicator"),a),l&&s&&e.find("#fr-cell-width").val(s),d&&c&&e.find("#fr-cell-height").val(c),p&&f&&e.find("#fr-cell-padding").val(f),k.popups.setContainer("table.cellProperties",k.$sc),u=(r=_(g)).left+(r.right-r.left)/2,k.popups.show("table.cellProperties",u,r.bottom,r.bottom-r.top,!0))},updateSelectedColor:a,placeCursorInFirstCell:z}},ct.RegisterCommand("tableProperties",{title:"Table Properties",icon:"tablePropertiesIcon",undo:!1,focus:!1,popup:!0,callback:function(){this.table.showTableProperties()}}),ct.RegisterCommand("openColorPicker",{title:"Select color",focus:!1,popup:!0,callback:function(e,t){this.table.showColorsPopup(t)}}),ct.RegisterCommand("onCancel",{title:"Cancel",callback:function(){this.popups.hide("table.tableProperties"),this.popups.hide("table.cellProperties"),this.table.showEditPopup()}}),ct.RegisterCommand("applyCustomColor",{title:"OK",undo:!0,callback:function(){var e=this.popups.get("table.colors"),t=e.find(".fr-table-colors-hex-layer input").val(),e=e.data("type");"tableCellBackground"===e&&(this.table.setBackground(t),e=null),this.table.back(e),this.table.customColor()}}),ct.RegisterCommand("onSelectColor",{undo:!0,focus:!1,callback:function(e,t){var n=this.popups.get("table.colors").data("type");"tableCellBackground"===n?this.table.setBackground(t):(this.table.back(n),this.table.updateSelectedColor(t))}}),ct.RegisterCommand("tableAlign",{title:"Table Align",undo:!0,callback:function(e,t){this.table.updateTableAlign(t)}}),ct.RegisterCommand("tableBorderStyle",{title:"",type:"dropdown",focus:!0,undo:!0,refreshAfterCallback:!0,displaySelection:function(e){return e.opts.tableBorderStyle},html:function(){for(var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.tableBorderStyle,n=0;n<t.length;n++){var a=this.language.translate(t[n]);e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableBorderStyle" data-param1="'.concat(t[n],'" title="').concat(a,'">').concat(a,"</a></li>")}return e+="</ul>"},callback:function(e,t){var n=this.popups.get("table.tableProperties"),a=n.find(".fr-border-style").find(".fr-dropdown");a.find("> span").text(this.language.translate(t)),n.data("borderStyle",t),a.focus()},refreshOnShow:function(e,t){var n=this.popups.get("table.tableProperties").data("borderStyle");t.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),t.find('.fr-command[data-param1="'.concat(n,'"]')).addClass("fr-active").attr("aria-selected",!0)}}),ct.DefineIcon("tableStyle",{NAME:"paint-brush",SVG_KEY:"tableStyle"}),ct.RegisterCommand("tableStyle",{title:"Table Style",type:"dropdown",focus:!0,undo:!0,displaySelectionWidth:"300",refreshAfterCallback:!0,displaySelection:function(e){var t=e.popups.get("table.edit");return t&&"tableProperties"===t.find(".fr-btn.fr-blink").attr("data-cmd")?e.opts.tableStyles:null},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=this.opts.tableStyles;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableStyle" data-param1="'.concat(e,'" title="').concat(this.language.translate(n[e]),'">').concat(this.language.translate(n[e]),"</a></li>"));return t+="</ul>"},callback:function(e,t){var n,a,r,i=this.popups.get("table.tableProperties");i&&i.isVisible()?(n=i.find(".fr-table-style").find(".fr-dropdown"),r=this.opts.tableStyles,!this.opts.tableMultipleStyles&&i.data("tableStyle")&&i.removeData("tableStyle"),(a=i.data("tableStyle")||{})[t]?delete a[t]:a[t]=r[t],i.data("tableStyle",a),r=Object.keys(a).length?Object.values(a).join(", "):" ",n.find("> span").text(r),n.focus()):this.table.applyStyle(t,this.$el.find(".fr-selected-cell").closest("table"),this.opts.tableMultipleStyles,this.opts.tableStyles)},refreshOnShow:function(e,t){var a=this,r=this.$el.find(".fr-selected-cell").closest("table"),i=this.popups.get("table.tableProperties");r&&t.find(".fr-command").each(function(e,t){var n=a.$(t).data("param1"),n=i&&i.isVisible()?i.data("tableStyle")&&i.data("tableStyle")[n]:r.hasClass(n);n&&a.$(t).toggleClass("fr-active",n).attr("aria-selected",n)})}}),ct.RegisterCommand("onColorClear",{undo:!0,focus:!1,callback:function(){var e=this.popups.get("table.colors"),t=e.data("type");"tableCellBackground"===t?this.table.setBackground(""):(this.table.back(t),e.find("#fr-table-colors-hex-layer-text").val(""),this.table.updateSelectedColor(""))}}),ct.RegisterCommand("applyTableProperties",{title:"Apply Table Properties",undo:!0,focus:!0,callback:function(){var e=this.popups.get("table.tableProperties"),t=e.find("#fr-table-bg").val(),n=e.find("#fr-table-border-color").val(),a=this.table.selectedTable(),r=e.find("#fr-table-width").val(),i=e.find("#fr-table-height").val(),o=e.find("#fr-table-border-width").val(),s=e.data("borderStyle"),l=e.data("tableAlign"),c=e.data("tableStyle"),e=(a.css("background-color",!t||"REMOVE"===t||"transparent"===t||"rgba(0, 0, 0, 0)"===t?"":t),!n||"REMOVE"===n||"transparent"===n||"rgba(0, 0, 0, 0)"===n),d=(a.css("border-color",e?"":n),function d(e){return""===e||(e=e.trim(),/^-?\d+(\.\d+)?$/.test(e)&&(e+="px"),/^-?\d+(\.\d+)?(px|%)$/.test(e)?e:null)});if(r&&d(r)?a.css("width",d(r)):a.css("width",""),i&&d(i)?a.css("height",d(i)):a.css("height",""),o&&d(o)?a.css("border-width",d(o)):a.css("border-width",""),s&&a.css("border-style",s),"center"===l?(a.css("margin","auto"),a.css("float","")):(a.parent().is("li")&&a.parent().css("display","list-item flow-root"),a.css("float",l),a.css("margin","")),a.removeAttr("class"),c&&0<Object.keys(c).length)for(var f in c)c.hasOwnProperty(f)&&a.addClass(f);this.popups.hide("table.tableProperties")}}),ct.RegisterCommand("tableCellProperties",{title:"Cell Properties",icon:"tableCellProperties",undo:!1,focus:!1,popup:!0,callback:function(){this.table.showCellPropertiesPopup()},refresh:function(e){var t=0<this.table.selectedCells().length;e.toggleClass("fr-disabled",!t).attr("aria-disabled",!t)}}),ct.RegisterCommand("applyCellProperties",{title:"Apply Cell Properties",undo:!0,focus:!1,callback:function(){var r=this.$,e=this.popups.get("table.cellProperties"),i=function i(e,t,n,a){e=r(e);n?(a&&e.attr(a,n),n!==e[0].style[t]&&(["width","height"].includes(t)&&e.removeAttr(t),e.css(t,n))):(e.css(t,""),a&&e.removeAttr(a),["width","height"].includes(t)&&e.removeAttr(t))},a=e.find("#fr-cell-bg").val(),o=e.find("#fr-cell-width").val(),s=e.find("#fr-cell-height").val(),l=e.find("#fr-cell-padding").val(),c=!0===e.data("bg-modified"),d=!0===e.data("width-modified"),f=!0===e.data("height-modified"),p=!0===e.data("padding-modified");this.table.selectedCells().forEach(function(e){var t=r(e),n=(c&&t.css("background-color",!a||"REMOVE"===a||"transparent"===a||"rgba(0, 0, 0, 0)"===a?"":a),function n(e){return""===e||(e=e.trim(),/^-?\d+(\.\d+)?$/.test(e)&&(e+="px"),/^-?\d+(\.\d+)?(px|%)$/.test(e)?e:null)});d&&n(o)&&i(e,"width",o,"data-cell-width"),f&&n(s)&&i(e,"height",s,"data-cell-height"),p&&n(l)&&i(e,"padding",l,"data-cell-padding")}),this.table.resetAll(),this.popups.hide("table.cellProperties")}}),ct.DefineIcon("insertTable",{NAME:"table",SVG_KEY:"insertTable"}),ct.RegisterCommand("insertTable",{title:"Insert Table",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("table.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("table.insert")):this.table.showInsertPopup()},plugin:"table"}),ct.RegisterCommand("tableInsert",{callback:function(e,t,n){this.table.insert(t,n),this.popups.hide("table.insert")}}),ct.DefineIcon("tableHeader",{NAME:"header",FA5NAME:"heading",SVG_KEY:"tableHeader"}),ct.RegisterCommand("tableHeader",{title:"Table Header",focus:!1,toggle:!0,callback:function(){this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]').hasClass("fr-active")?this.table.removeHeader():this.table.addHeader()},refresh:function(e){var t=this.table.selectedTable();0<t.length&&(0===t.find("> thead").length?e.removeClass("fr-active").attr("aria-pressed",!1):e.addClass("fr-active").attr("aria-pressed",!0))}}),ct.DefineIcon("tableFooter",{NAME:"table",FA5NAME:"table",SVG_KEY:"tableFooter"}),ct.RegisterCommand("tableFooter",{title:"Table Footer",focus:!1,toggle:!0,callback:function(){this.popups.get("table.edit").find('.fr-command[data-cmd="tableFooter"]').hasClass("fr-active")?this.table.removeFooter():this.table.addFooter()},refresh:function(e){var t=this.table.selectedTable();0<t.length&&(0===t.find("tfoot").length?e.removeClass("fr-active").attr("aria-pressed",!1):e.addClass("fr-active").attr("aria-pressed",!0))}}),ct.DefineIcon("tableRows",{NAME:"bars",SVG_KEY:"row"}),ct.RegisterCommand("tableRows",{type:"dropdown",focus:!1,title:"Row",options:{above:"Insert row above",below:"Insert row below","delete":"Delete row"},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=ct.COMMANDS.tableRows.options;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableRows" data-param1="'+e+'" title="'+this.language.translate(n[e])+'">'+this.language.translate(n[e])+"</a></li>");return t+="</ul>"},callback:function(e,t){"above"==t||"below"==t?this.table.insertRow(t):this.table.deleteRow()}}),ct.DefineIcon("tableColumns",{NAME:"bars fa-rotate-90",SVG_KEY:"columns"}),ct.RegisterCommand("tableColumns",{type:"dropdown",focus:!1,title:"Column",options:{before:"Insert column before",after:"Insert column after","delete":"Delete column"},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=ct.COMMANDS.tableColumns.options;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableColumns" data-param1="'.concat(e,'" title="').concat(this.language.translate(n[e]),'">').concat(this.language.translate(n[e]),"</a></li>"));return t+="</ul>"},callback:function(e,t){"before"==t||"after"==t?this.table.insertColumn(t):this.table.deleteColumn()}}),ct.DefineIcon("tableCells",{NAME:"square-o",FA5NAME:"square",SVG_KEY:"cellOptions"}),ct.RegisterCommand("tableCells",{type:"dropdown",focus:!1,title:"Cell",options:{merge:"Merge cells","vertical-split":"Vertical split","horizontal-split":"Horizontal split"},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=ct.COMMANDS.tableCells.options;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCells" data-param1="'.concat(e,'" title="').concat(this.language.translate(n[e]),'">').concat(this.language.translate(n[e]),"</a></li>"));return t+="</ul>"},callback:function(e,t){"merge"==t?this.table.mergeCells():"vertical-split"==t?this.table.splitCellVertically():this.table.splitCellHorizontally()},refreshOnShow:function(e,t){(1<this.$el.find(".fr-selected-cell").length?(t.find('a[data-param1="vertical-split"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="horizontal-split"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="merge"]')):(t.find('a[data-param1="merge"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="vertical-split"]').removeClass("fr-disabled").attr("aria-disabled",!1),t.find('a[data-param1="horizontal-split"]'))).removeClass("fr-disabled").attr("aria-disabled",!1)}}),ct.DefineIcon("tableRemove",{NAME:"trash",SVG_KEY:"removeTable"}),ct.RegisterCommand("tableRemove",{title:"Remove Table",focus:!1,callback:function(){this.table.remove()}}),ct.DefineIcon("tableBack",{NAME:"arrow-left",SVG_KEY:"back"}),ct.RegisterCommand("tableBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){var e=this.popups.get("table.colors"),e=e&&e.length?e.data("type"):null;this.table.back(e="tableCellBackground"===e?null:e)}}),ct.DefineIcon("tableCellVerticalAlign",{NAME:"arrows-v",FA5NAME:"arrows-alt-v",SVG_KEY:"verticalAlignMiddle"}),ct.RegisterCommand("tableCellVerticalAlign",{type:"dropdown",focus:!1,title:"Vertical Align",options:{Top:"Align Top",Middle:"Align Middle",Bottom:"Align Bottom"},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=ct.COMMANDS.tableCellVerticalAlign.options;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellVerticalAlign" data-param1="'.concat(e.toLowerCase(),'" title="').concat(this.language.translate(n[e]),'">').concat(this.language.translate(e),"</a></li>"));return t+="</ul>"},callback:function(e,t){this.table.verticalAlign(t)},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.$el.find(".fr-selected-cell").css("vertical-align")+'"]').addClass("fr-active").attr("aria-selected",!0)}}),ct.DefineIcon("tableCellHorizontalAlign",{NAME:"align-left",SVG_KEY:"alignLeft"}),ct.DefineIcon("align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),ct.DefineIcon("align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),ct.DefineIcon("align-center",{NAME:"align-center",SVG_KEY:"alignCenter"}),ct.DefineIcon("align-justify",{NAME:"align-justify",SVG_KEY:"alignJustify"}),ct.RegisterCommand("tableCellHorizontalAlign",{type:"dropdown",focus:!1,title:"Horizontal Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=ct.COMMANDS.tableCellHorizontalAlign.options;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="tableCellHorizontalAlign" data-param1="'.concat(e,'" title="').concat(this.language.translate(n[e]),'">').concat(this.icon.create("align-".concat(e)),'<span class="fr-sr-only">').concat(this.language.translate(n[e]),"</span></a></li>"));return t+="</ul>"},callback:function(e,t){this.table.horizontalAlign(t)},refresh:function(e){var t=this.table.selectedCells(),n=this.$;t.length&&e.find("> *").first().replaceWith(this.icon.create("align-".concat(this.helpers.getAlignment(n(t[0])))))},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.helpers.getAlignment(this.$el.find(".fr-selected-cell").first())+'"]').addClass("fr-active").attr("aria-selected",!0)}}),ct.DefineIcon("tableCellStyle",{NAME:"magic",SVG_KEY:"cellStyle"}),ct.RegisterCommand("tableCellStyle",{title:"Cell Style",type:"dropdown",focus:!1,html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=this.opts.tableCellStyles;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellStyle" data-param1="'.concat(e,'" title="').concat(this.language.translate(n[e]),'">').concat(this.language.translate(n[e]),"</a></li>"));return t+="</ul>"},callback:function(e,t){this.table.applyStyle(t,this.$el.find(".fr-selected-cell"),this.opts.tableCellMultipleStyles,this.opts.tableCellStyles)},refreshOnShow:function(e,t){var n=this.$,a=this.$el.find(".fr-selected-cell").first();a&&t.find(".fr-command").each(function(){var e=n(this).data("param1"),e=a.hasClass(e);n(this).toggleClass("fr-active",e).attr("aria-selected",e)})}}),ct.DefineIcon("tableCellBackground",{NAME:"tint",SVG_KEY:"cellBackground"}),ct.RegisterCommand("tableCellBackground",{title:"Cell Background",focus:!1,popup:!0,callback:function(){this.table.showColorsPopup("tableCellBackground")}}),ct.DefineIcon("tableColorRemove",{NAME:"eraser",SVG_KEY:"remove"}),ct.DefineIcon("tableCellProperties",{template:"svgMultiplePath",PATHS:'\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.513 3.25C20.9736 3.25 22.1577 4.43408 22.1577 5.89471V12.6517L22.1546 12.6526C21.8784 12.4577 21.6084 12.2933 21.3448 12.1593C21.1821 12.0767 21.0123 11.9963 20.8353 11.9183V8.53928H15.546V12.2584C15.3417 12.3719 15.1339 12.5033 14.9223 12.6526L12.7375 11.9949L11.6254 13.8287H8.93418V16.4735H12.9027C12.893 16.6127 12.8882 16.7519 12.8882 16.891C12.8882 17.1927 12.911 17.4943 12.9565 17.7959H3.64471C2.18408 17.7959 1 16.6118 1 15.1512V5.89471C1 4.43408 2.18408 3.25 3.64471 3.25H19.513ZM19.513 4.57235H15.546V7.21692H20.8353V5.89471C20.8353 5.16439 20.2433 4.57235 19.513 4.57235ZM8.93418 4.57235H14.2236V7.21692H8.93418V4.57235ZM3.64471 4.57235H7.61183V7.21692H2.32235V5.89471C2.32235 5.16439 2.91439 4.57235 3.64471 4.57235ZM2.32235 12.5063V8.53928H7.61183V12.5063H2.32235ZM2.32235 15.1512V13.8287H7.61183V16.4735H3.64471C2.91439 16.4735 2.32235 15.8815 2.32235 15.1512Z" fill="#333333"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.102 20.6423L17.4335 22.25H19.6434L19.9749 20.6423C20.1959 20.553 20.4031 20.4592 20.5964 20.361C20.7898 20.2627 20.9878 20.1421 21.1903 19.9992L22.7925 20.4815L23.8974 18.6595L22.6268 17.5877C22.6636 17.3555 22.682 17.1232 22.682 16.891C22.682 16.6588 22.6636 16.4266 22.6268 16.1944L23.8974 15.1226L22.7925 13.3005L21.1903 13.7828C20.9878 13.6399 20.7898 13.5193 20.5964 13.4211C20.4031 13.3228 20.1959 13.2291 19.9749 13.1397L19.6434 11.5321H17.4335L17.102 13.1397C16.881 13.2291 16.6739 13.3228 16.4805 13.4211C16.2871 13.5193 16.0892 13.6399 15.8866 13.7828L14.2844 13.3005L13.1795 15.1226L14.4502 16.1944C14.4133  16.4266 14.3949 16.6588 14.3949 16.891C14.3949 17.1232 14.4133 17.3555 14.4502 17.5877L13.1795 18.6595L14.2844 20.4815L15.8866 19.9992C16.0892 20.1421 16.2871 20.2627 16.4805 20.361C16.6739 20.4592 16.881 20.553 17.102 20.6423ZM20.0992 18.4049C19.6664 18.8247 19.1462 19.0346 18.5385 19.0346C17.9307  19.0346 17.4105 18.8247 16.9777 18.4049C16.545 17.9851 16.3286 17.4805 16.3286 16.891C16.3286 16.3015 16.545 15.7969 16.9777 15.3771C17.4105 14.9573 17.9307 14.7474 18.5385 14.7474C19.1462 14.7474 19.6664 14.9573 20.0992 15.3771C20.532 15.7969 20.7483 16.3015 20.7483 16.891C20.7483 17.4805 20.532 17.9851 20.0992 18.4049Z" fill="#333333"/>\n  '}),ct.DefineIcon("tablePropertiesIcon",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M22.1577 5.89471C22.1577 4.43408 20.9736 3.25 19.513 3.25H3.64471C2.18408 3.25 1 4.43408 1 5.89471V15.1512C1 16.6118 2.18408 17.7959 3.64471 17.7959H12.9565C12.911 17.4943 12.8882 17.1927 12.8882 16.891C12.8882 16.7519 12.893 16.6127 12.9027 16.4735H8.93418V13.8287H11.6254L12.4273 12.5063H8.93418V8.53928H14.2236V12.4422L14.9223 12.6526C15.1339 12.5033 15.3417 12.3719 15.546 12.2584V8.53928H20.8353V11.9183C21.0123 11.9963 21.1821 12.0767 21.3448 12.1593C21.6084 12.2933 21.8784 12.4577 22.1546 12.6526L22.1577 12.6517V5.89471ZM15.546 4.57235H19.513C20.2433 4.57235 20.8353 5.16439 20.8353 5.89471V7.21692H15.546V4.57235ZM14.2236 4.57235H8.93418V7.21692H14.2236V4.57235ZM7.61183 4.57235H3.64471C2.91439 4.57235 2.32235 5.16439 2.32235 5.89471V7.21692H7.61183V4.57235ZM2.32235 8.53928V12.5063H7.61183V8.53928H2.32235ZM2.32235 13.8287V15.1512C2.32235 15.8815 2.91439 16.4735 3.64471 16.4735H7.61183V13.8287H2.32235Z" fill="#333333"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.102 20.6423L17.4335 22.25H19.6434L19.9749 20.6423C20.1959 20.553 20.4031 20.4592 20.5964 20.361C20.7898 20.2627 20.9878 20.1421 21.1903 19.9992L22.7925 20.4815L23.8974 18.6595L22.6268 17.5877C22.6636 17.3555 22.682 17.1232 22.682 16.891C22.682 16.6588 22.6636 16.4266 22.6268 16.1944L23.8974 15.1226L22.7925 13.3005L21.1903 13.7828C20.9878 13.6399 20.7898 13.5193 20.5964 13.4211C20.4031 13.3228 20.1959 13.2291 19.9749 13.1397L19.6434 11.5321H17.4335L17.102 13.1397C16.881 13.2291 16.6739 13.3228 16.4805 13.4211C16.2871 13.5193 16.0892 13.6399 15.8866 13.7828L14.2844 13.3005L13.1795 15.1226L14.4502 16.1944C14.4133 16.4266 14.3949 16.6588 14.3949 16.891C14.3949 17.1232 14.4133 17.3555 14.4502 17.5877L13.1795 18.6595L14.2844 20.4815L15.8866 19.9992C16.0892 20.1421 16.2871 20.2627 16.4805 20.361C16.6739 20.4592 16.881 20.553 17.102 20.6423ZM20.0992 18.4049C19.6664 18.8247 19.1462 19.0346 18.5385 19.0346C17.9307 19.0346 17.4105 18.8247 16.9777 18.4049C16.545 17.9851 16.3286 17.4805 16.3286 16.891C16.3286 16.3015 16.545 15.7969 16.9777 15.3771C17.4105 14.9573 17.9307 14.7474 18.5385 14.7474C19.1462 14.7474 19.6664 14.9573 20.0992 15.3771C20.532 15.7969 20.7483 16.3015 20.7483 16.891C20.7483 17.4805 20.532 17.9851 20.0992 18.4049Z" fill="#333333"/>\n  '}),ct.DefineIcon("leftTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 6.45801V7.79134H13V6.45801H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 9.12467V10.458H13V9.12467H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 11.7913V13.1247H13V11.7913H18.3333Z" fill="#999998"/>\n    <path d="M10.3333 12.3333V13.6667H2.33333V12.3333H10.3333ZM10.3333 7H2.33333V13.6667C1.6431 13.6667 1.07495 13.1422 1.00651 12.4701L1 12.3333V7C1 6.26362 1.59695 5.66667 2.33333 5.66667H10.3333C11.0697 5.66667 11.6667 6.26362 11.6667 7V12.3333L11.6602 12.4701C11.5917 13.1422 11.0236 13.6667 10.3333 13.6667V7Z" fill="#333333"/>\n  '}),ct.DefineIcon("leftTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 6.95801V8.29134H13.5V6.95801H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 9.62467V10.958H13.5V9.62467H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 12.2913V13.6247H13.5V12.2913H18.8333Z" fill="#90B7FF"/>\n    <path d="M10.8333 12.8333V14.1667H2.83333V12.8333H10.8333ZM10.8333 7.5H2.83333V14.1667C2.1431 14.1667 1.57495 13.6422 1.50651 12.9701L1.5 12.8333V7.5C1.5 6.76362 2.09695 6.16667 2.83333 6.16667H10.8333C11.5697 6.16667 12.1667 6.76362 12.1667 7.5V12.8333L12.1602 12.9701C12.0917 13.6422 11.5236 14.1667 10.8333 14.1667V7.5Z" fill="#2A77FF"/>\n  '}),ct.DefineIcon("centerTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>\n    <path d="M13 12.3333V13.6667H6.33333V12.3333H13ZM13 7H6.33333V13.6667L6.19661 13.6602C5.56938 13.5963 5.07038 13.0973 5.00651 12.4701L5 12.3333V7C5 6.26362 5.59695 5.66667 6.33333 5.66667H13C13.7364 5.66667 14.3333 6.26362 14.3333 7V12.3333L14.3268 12.4701C14.263 13.0973 13.764 13.5963 13.1367 13.6602L13 13.6667V7Z" fill="#333333"/>\n  '}),ct.DefineIcon("centerTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M13.5 12.8333V14.1667H6.83333V12.8333H13.5ZM13.5 7.5H6.83333V14.1667L6.69661 14.1602C6.06938 14.0963 5.57038 13.5973 5.50651 12.9701L5.5 12.8333V7.5C5.5 6.76362 6.09695 6.16667 6.83333 6.16667H13.5C14.2364 6.16667 14.8333 6.76362 14.8333 7.5V12.8333L14.8268 12.9701C14.763 13.5973 14.264 14.0963 13.6367 14.1602L13.5 14.1667V7.5Z" fill="#2A77FF"/>\n '}),ct.DefineIcon("rightTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M6.83333 6.95801V8.29134H1.5V6.95801H6.83333Z" fill="#90B7FF"/>\n    <path d="M6.83333 9.62467V10.958H1.5V9.62467H6.83333Z" fill="#90B7FF"/>\n    <path d="M6.83333 12.2913V13.6247H1.5V12.2913H6.83333Z" fill="#90B7FF"/>\n    <path d="M17.5 12.8333V14.1667H9.5V12.8333H17.5ZM17.5 7.5H9.5V14.1667C8.80976 14.1667 8.24162 13.6422 8.17318 12.9701L8.16667 12.8333V7.5C8.16667 6.76362 8.76362 6.16667 9.5 6.16667H17.5C18.2364 6.16667 18.8333 6.76362 18.8333 7.5V12.8333L18.8268 12.9701C18.7584 13.6422 18.1902 14.1667 17.5 14.1667V7.5Z" fill="#2A77FF"/>\n  '}),ct.DefineIcon("rightTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>\n    <path d="M6.33333 6.45801V7.79134H1V6.45801H6.33333Z" fill="#999998"/>\n    <path d="M6.33333 9.12468V10.458H1V9.12468H6.33333Z" fill="#999998"/>\n    <path d="M6.33333 11.7913V13.1247H1V11.7913H6.33333Z" fill="#999998"/>\n    <path d="M17 12.3333V13.6667H9V12.3333H17ZM17 7H9V13.6667C8.30976 13.6667 7.74162 13.1422 7.67318 12.4701L7.66667 12.3333V7C7.66667 6.26362 8.26362 5.66667 9 5.66667H17C17.7364 5.66667 18.3333 6.26362 18.3333 7V12.3333L18.3268 12.4701C18.2584 13.1422 17.6902 13.6667 17 13.6667V7Z" fill="#333333"/>\n  '}),ct.URLRegEx="(^| |\\u00A0)(".concat(ct.LinkRegEx,"|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}\\.[a-z0-9+-_]{1,}))$"),ct.PLUGINS.url=function(i){var o=i.$,s=null;function t(e,t,n){for(var a="";n.length&&"."==n[n.length-1];)a+=".",n=n.substring(0,n.length-1);var r=n;if(i.opts.linkConvertEmailAddress)i.helpers.isEmail(r)&&!/^mailto:.*/i.test(r)&&(r="mailto:".concat(r));else if(i.helpers.isEmail(r))return t+n;return/^((http|https|ftp|ftps|mailto|tel|sms|notes|data)\:)/i.test(r)||(r="//".concat(r)),(t||"")+"<a".concat(i.opts.linkAlwaysBlank?' target="_blank"':"").concat(s?' rel="'.concat(s,'"'):"",' data-fr-linked="true" href="').concat(r,'">').concat(n.replace(/&amp;/g,"&").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"</a>").concat(a)}var l=function l(){return new RegExp(ct.URLRegEx,"gi")};function c(e){return i.opts.linkAlwaysNoFollow&&(s="nofollow"),i.opts.linkAlwaysBlank&&(i.opts.linkNoOpener&&(s?s+=" noopener":s="noopener"),i.opts.linkNoReferrer)&&(s?s+=" noreferrer":s="noreferrer"),e.replace(l(),t)}function d(e){e=e.split(" ");return e[e.length-1]}function n(){var e,t=i.selection.ranges(0),n=t.startContainer;if(n.nodeType===Node.TEXT_NODE){if(!n||t.startOffset!==(n.textContent||"").length){i.markers.insert();var t=i.$el.find(".fr-marker"),a=n.textContent.match(/(^| |\u00A0)(((([a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,})(\.(com|net|org|edu|mil|gov|co|biz|info|me|dev)))|((ftp|http|https):\/\/[a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,})|(www\.[a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,}\.[a-z0-9-]{2,24})|((ftp|http|https):\/\/[\u0021-\uffff]{1,}@[a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,}))((:[0-9]{1,5})|)(((\/|\?|#)[a-z\u00a1-\uffff0-9@?\|!^=%&amp;\/~+#-\'*-_{}]*)|())|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}\.[a-z0-9+-_]{1,}))$/gi);if(t.remove(),!a)return}!function r(e){return!!e&&("A"===e.tagName||!(!e.parentNode||e.parentNode==i.el)&&r(e.parentNode))}(n)&&(l().test(d(n.textContent))?(0<(t=n.textContent.length)&&","===n.textContent.charAt(t-1)?(o(n).before(c(n.textContent.substring(0,t-1))),(e=o(n.parentNode).find("a[data-fr-linked]")).removeAttr("data-fr-linked"),n.textContent=",",(a=i.win.getSelection().getRangeAt(0)).setStart(n,1),a.setEnd(n,1)):(o(n).before(c(n.textContent)),(e=o(n.parentNode).find("a[data-fr-linked]")).removeAttr("data-fr-linked"),n.parentNode.removeChild(n)),i.events.trigger("url.linked",[e.get(0)])):n.textContent.split(" ").length<=2&&n.previousSibling&&"A"===n.previousSibling.tagName&&(t=n.previousSibling.innerText+n.textContent,a=n.textContent.length,l().test(d(t)))&&","!==n.textContent.charAt(a-1)&&(e=(new DOMParser).parseFromString(c(t),"text/html").body.childNodes,n.parentNode.replaceChild(e[0],n.previousSibling),e.length&&o(n).before(e[0]),n.parentNode.removeChild(n)))}}return{_init:function(){i.events.on("keypress",function(e){!i.selection.isCollapsed()||")"!=e.key&&"("!=e.key||n()},!0),i.events.on("keydown",function(e){e=e.which;!i.selection.isCollapsed()||e!=ct.KEYCODE.ENTER&&e!=ct.KEYCODE.SPACE||n()},!0),i.events.on("paste.beforeCleanup",function(e){if(i.helpers.isURL(e)&&!i.$el[0].getAttribute("plainpaste"))return t=null,i.opts.linkAlwaysBlank&&(i.opts.linkNoOpener&&(t?t+=" noopener":t="noopener"),i.opts.linkNoReferrer)&&(t?t+=" noreferrer":t="noreferrer"),"<a".concat(i.opts.linkAlwaysBlank?' target="_blank"':"").concat(t?' rel="'.concat(t,'"'):"",' href="').concat(e,'" >').concat(e,"</a>");if(i.$el[0].getAttribute("plainpaste")){var t=e;if("string"==typeof t)return(t=t.replace(/&amp;/g,"&")).replace(/(?:https?|ftp|file):\/\/(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\]*\)|[-A-Z0-9+&@#\/%=~_|$'\u2019"`()[\]{}\\])|www\.(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\]*\)|[-A-Z0-9+&@#\/%=~_|$'\u2019"`()[\]{}\\])|(?:[a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z]{2,})|(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z]{2,}(?:\/[^\s<]*)?/gim,c)}})}}},Object.assign(ct.POPUP_TEMPLATES,{"video.insert":"[_BUTTONS_][_BY_URL_LAYER_][_EMBED_LAYER_][_UPLOAD_LAYER_][_PROGRESS_BAR_]","video.edit":"[_BUTTONS_]","video.size":"[_BUTTONS_][_SIZE_LAYER_]"}),Object.assign(ct.DEFAULTS,{videoAllowedTypes:["mp4","webm","ogg","mp3","mpeg","url"],videoAllowedProviders:[".*"],videoDefaultAlign:"center",videoDefaultDisplay:"block",videoDefaultWidth:600,videoEditButtons:["videoReplace","videoRemove","videoDisplay","videoAlign","videoSize","autoplay"],videoInsertButtons:["videoBack","|","videoByURL","videoEmbed","videoUpload"],videoMaxSize:52428800,videoMove:!0,videoResize:!0,videoResponsive:!1,videoSizeButtons:["videoBack","|"],videoSplitHTML:!1,videoTextNear:!0,videoUpload:!0,videoUploadMethod:"POST",videoUploadParam:"file",videoUploadParams:{},videoUploadToS3:!1,videoUploadToAzure:!1,videoUploadURL:null}),ct.VIDEO_PROVIDERS=[{test_regex:/^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\/?((shorts\/)|(v=))?([^#\&\?]*).*/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/|shorts\/)?([0-9a-zA-Z_\-]+)(.*)?/g,url_text:"https://www.youtube.com/embed/$1?$2",html:'<iframe width="640" height="360" src="{url}&wmode=opaque&rel=0" frameborder="0" allowfullscreen></iframe>',provider:"youtube"},{test_regex:/^https?:\/\/(www\.)?vimeo\.com\/(event\/\d+(\/embed\/[A-Za-z0-9]+)?|\d+)/i,url_regex:/(?:https?:\/\/)?(?:www\.|player\.)?vimeo\.com\/(?:(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/\d+\/video\/|video\/|event\/\d+\/embed\/)?([0-9]+)(?:\/[a-zA-Z0-9_\-]+)?(\?.*)?)/i,url_text:function(e){var t,n;return(!e.includes("/event/")||!e.includes("/embed/"))&&(n=e.match(/vimeo\.com\/(\d+)(\?.*)?/))?(t=n[1],n=n[2]||"","https://player.vimeo.com/video/".concat(t).concat(n)):e},html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vimeo"},{test_regex:/^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g,url_text:"https://www.dailymotion.com/embed/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"dailymotion"},{test_regex:/^.+(screen.yahoo.com)\/[^_&]+/,url_regex:"",url_text:"",html:'<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"yahoo"},{test_regex:/^.+(rutube.ru)\/[^_&]+/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g,url_text:"https://rutube.ru/play/embed/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"rutube"},{test_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/,url_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/g,url_text:"https://play.vidyard.com/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vidyard"}],ct.VIDEO_EMBED_REGEX=/^\W*(<div[^>]*>\s*<iframe[^>]*>.*?<\/iframe>\s*<\/div>(\s*<script[^>]*>.*?<\/script>)?|<iframe[^>]*>.*?<\/iframe>|<embed(.|\n)*>)\W*$/i,ct.PLUGINS.video=function(u){var o,s,l,g,a,n,h=u.$,D="https://i.froala.com/upload",d=2,B=3,f=4,H=5,m=6,r={};function U(){var e=u.popups.get("video.insert"),t=(e.find(".fr-video-by-url-layer input").val("").trigger("change"),e.find(".fr-video-embed-layer textarea"));t.val("").trigger("change"),(t=e.find(".fr-video-upload-layer input")).val("").trigger("change")}function i(){var e,t,n,a;(u.popups.get("video.edit")||function(){var e="";if(0<u.opts.videoEditButtons.length)return u.opts.videoResponsive&&(-1<u.opts.videoEditButtons.indexOf("videoSize")&&u.opts.videoEditButtons.splice(u.opts.videoEditButtons.indexOf("videoSize"),1),-1<u.opts.videoEditButtons.indexOf("videoDisplay")&&u.opts.videoEditButtons.splice(u.opts.videoEditButtons.indexOf("videoDisplay"),1),-1<u.opts.videoEditButtons.indexOf("videoAlign"))&&u.opts.videoEditButtons.splice(u.opts.videoEditButtons.indexOf("videoAlign"),1),e={buttons:e+='<div class="fr-buttons"> \n      '.concat(u.button.buildList(u.opts.videoEditButtons)," \n      </div>")},e=u.popups.create("video.edit",e),u.events.$on(u.$wp,"scroll.video-edit",function(){g&&u.popups.isVisible("video.edit")&&(u.events.disableBlur(),C(g))}),e;return!1}())&&(u.popups.setContainer("video.edit",u.$sc),u.popups.refresh("video.edit"),t=(e=g.find("iframe, embed, ".concat(g.find("iframe, embed, audio").get(0)?"audio":"video"))).offset().left+e.outerWidth()/2,n=e.offset().top+e.outerHeight(),a=!(!(a=(a=(a=e.get(0).src?e.get(0).src:e.get(0).currentSrc).split("."))[a.length-1]).includes("pdf")&&!a.includes("txt")),e.hasClass("fr-file")||a||g.find("audio").get(0)?(document.getElementById("autoplay-".concat(u.id))&&(document.getElementById("autoplay-".concat(u.id)).style.display="none"),document.getElementById("videoReplace-".concat(u.id))&&(document.getElementById("videoReplace-".concat(u.id)).style.display="none")):(document.getElementById("autoplay-".concat(u.id))&&(document.getElementById("autoplay-".concat(u.id)).style.display=""),document.getElementById("videoReplace-".concat(u.id))&&(document.getElementById("videoReplace-".concat(u.id)).style.display="")),u.popups.show("video.edit",t,n,e.outerHeight(),!0))}function c(e){var t,n,a,r,i,o,s,l;return e?(u.popups.onRefresh("video.insert",U),u.popups.onHide("video.insert",J),!0):(e="",u.opts.videoUpload||-1===u.opts.videoInsertButtons.indexOf("videoUpload")||u.opts.videoInsertButtons.splice(u.opts.videoInsertButtons.indexOf("videoUpload"),1),""!==(r=u.button.buildList(u.opts.videoInsertButtons))&&(e='<div class="fr-buttons">'+r+"</div>"),r="",t=u.opts.videoInsertButtons.indexOf("videoUpload"),n=u.opts.videoInsertButtons.indexOf("videoByURL"),s=u.opts.videoInsertButtons.indexOf("videoEmbed"),0<=n&&(a=" fr-active",r='<div class="fr-video-by-url-layer fr-layer'.concat(a=t<n&&0<=t||s<n&&0<=s?"":a,'" id="fr-video-by-url-layer-').concat(u.id,'"><div class="fr-input-line"><input id="fr-video-by-url-layer-text-').concat(u.id,'" type="text" placeholder="').concat(u.language.translate("Paste in a video URL"),'" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><span style=\'float:left\'><div class="fr-checkbox-line fr-autoplay-margin"><span class="fr-checkbox"> <input id=\'videoPluginAutoplay\' data-checked="_blank" type="checkbox" aria-label="').concat(u.language.translate("Autoplay"),'"><span>').concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>','</span></span> <label id="fr-label-target-').concat(u.id,'">').concat(u.language.translate("Autoplay"),'</label></div> </span><button type="button" class="fr-command fr-submit" data-cmd="videoInsertByURL" tabIndex="2" role="button">').concat(u.language.translate("Insert"),"</button></div></div>")),i="",0<=s&&(a=" fr-active",i='<div class="fr-video-embed-layer fr-layer'.concat(a=t<s&&0<=t||n<s&&0<=n?"":a,'" id="fr-video-embed-layer-').concat(u.id,'"><div class="fr-input-line"><textarea id="fr-video-embed-layer-text').concat(u.id,'" type="text" placeholder="').concat(u.language.translate("Embedded Code"),'" tabIndex="1" aria-required="true" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertEmbed" tabIndex="2" role="button">').concat(u.language.translate("Insert"),"</button></div></div>")),o="",0<=t&&(a=" fr-active",o='<div class="fr-video-upload-layer fr-layer'.concat(a=s<t&&0<=s||n<t&&0<=n?"":a,'" id="fr-video-upload-layer-').concat(u.id,'"><strong>').concat(u.language.translate("Drop video"),"</strong><br>(").concat(u.language.translate("or click"),')<div class="fr-form"><input type="file" accept="video/').concat(u.opts.videoAllowedTypes.join(", video/").toLowerCase(),'" tabIndex="-1" aria-labelledby="fr-video-upload-layer-').concat(u.id,'" role="button"></div></div>')),s=u.popups.create("video.insert",{buttons:e,by_url_layer:r,embed_layer:i,upload_layer:o,progress_bar:'<div class="fr-video-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="videoDismissError" tabIndex="2" role="button">OK</button></div></div>'}),l=s,u.events.$on(l,"dragover dragenter",".fr-video-upload-layer",function(){return h(this).addClass("fr-drop"),!1},!0),u.events.$on(l,"dragleave dragend",".fr-video-upload-layer",function(){return h(this).removeClass("fr-drop"),!1},!0),u.events.$on(l,"drop",".fr-video-upload-layer",function(e){e.preventDefault(),e.stopPropagation(),h(this).removeClass("fr-drop");var t,e=e.originalEvent.dataTransfer;e&&e.files&&((t=l.data("instance")||u).events.disableBlur(),t.video.upload(e.files),t.events.enableBlur())},!0),u.helpers.isIOS()&&u.events.$on(l,"touchstart",'.fr-video-upload-layer input[type="file"]',function(){h(this).trigger("click")},!0),u.events.$on(l,"change",'.fr-video-upload-layer input[type="file"]',function(){var e;this.files&&((e=l.data("instance")||u).events.disableBlur(),l.find("input:focus").blur(),e.events.enableBlur(),e.video.upload(this.files)),h(this).val("")},!0),s)}function p(e){u.events.focus(!0),u.selection.restore();var t=!1,n=(g&&(M(),t=!0),u.opts.trackChangesEnabled?(u.edit.on(),u.events.focus(!0),u.selection.restore(),u.undo.saveStep(),u.markers.insert(),u.html.wrap(),n=u.$el.find(".fr-marker"),u.node.isLastSibling(n)&&n.parent().hasClass("fr-deletable")&&n.insertAfter(n.parent()),n.replaceWith('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(e,"</span>")),u.selection.clear()):u.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(e,"</span>"),!1,u.opts.videoSplitHTML),u.popups.hide("video.insert"),u.$el.find(".fr-jiv"));n.removeClass("fr-jiv"),n.toggleClass("fr-rv",u.opts.videoResponsive),F(n,u.opts.videoDefaultDisplay,u.opts.videoDefaultAlign),n.toggleClass("fr-draggable",u.opts.videoMove),u.events.trigger(t?"video.replaced":"video.inserted",[n])}function v(){var e=h(this);u.popups.hide("video.insert"),e.removeClass("fr-uploading"),e.parent().next().is("br")&&e.parent().next().remove(),C(e.parent()),u.events.trigger("video.loaded",[e.parent()])}function b(s,e,l,c,d,f){u.edit.off(),w("Loading video"),e&&(s=u.helpers.sanitizeURL(s));var p=function p(){var e,t;if(c){u.undo.canDo()||c.find("video").hasClass("fr-uploading")||u.undo.saveStep();var n=c.find("video").data("fr-old-src"),a=c.data("fr-replaced");if(c.data("fr-replaced",!1),0<c.find("iframe").length)c.remove(),e=V(s,l,v);else{u.$wp?((e=c.clone(!0)).find("video").removeData("fr-old-src").removeClass("fr-uploading"),e.find("video").off("canplay"),n&&c.find("video").attr("src",n),c.replaceWith(e)):e=c;for(var r=e.find("video").get(0).attributes,i=0;i<r.length;i++){var o=r[i];0===o.nodeName.indexOf("data-")&&e.find("video").removeAttr(o.nodeName)}if(void 0!==l)for(t in l)l.hasOwnProperty(t)&&"link"!=t&&e.find("video").attr("data-".concat(t),l[t]);e.find("video").on("canplay",v),e.find("video").attr("src",s)}u.edit.on(),k(),u.undo.saveStep(),u.$el.blur(),u.events.trigger(a?"video.replaced":"video.inserted",[e,d])}else e=V(s,l,v,f),k(),u.undo.saveStep(),u.events.trigger("video.inserted",[e,d])};E("Loading video"),p()}function E(e){var t,n,a=u.popups.get("video.insert");(a=a||c()).find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),a.find(".fr-video-progress-bar-layer").addClass("fr-active"),a.find(".fr-buttons").hide(),g&&(a=g.find("iframe, embed, ".concat(g.find("iframe, embed, audio").get(0)?"audio":"video")),u.popups.setContainer("video.insert",u.$sc),t=a.offset().left,n=a.offset().top+a.height(),u.popups.show("video.insert",t,n,a.outerHeight())),void 0===e&&w(u.language.translate("Uploading"),0)}function y(e){var t=u.popups.get("video.insert");t&&(t.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),t.find(".fr-video-progress-bar-layer").removeClass("fr-active"),t.find(".fr-buttons").show(),e||u.$el.find("video.fr-error").length)&&(u.events.focus(),u.$el.find("video.fr-error").length&&(u.$el.find("video.fr-error").parent().remove(),u.undo.saveStep(),u.undo.run(),u.undo.dropRedo()),!u.$wp&&g&&(t=g,R(!0),u.selection.setAfter(t.find("video").get(0)),u.selection.restore()),u.popups.hide("video.insert"))}function w(e,t){var n=u.popups.get("video.insert");n&&((n=n.find(".fr-video-progress-bar-layer")).find("h3").text(e+(t?" ".concat(t,"%"):"")),n.removeClass("fr-error"),t?(n.find("div").removeClass("fr-indeterminate"),n.find("div > span").css("width","".concat(t,"%"))):n.find("div").addClass("fr-indeterminate"))}function _(e){E();var t=u.popups.get("video.insert").find(".fr-video-progress-bar-layer"),t=(t.addClass("fr-error"),t.find("h3"));t.text(e),u.events.disableBlur(),t.focus()}function C(e){t.call(e.get(0))}function $(e,t,n){w("Loading video");var a,r,i=this.status,o=this.response,s=this.responseXML,l=this.responseText;try{if(u.opts.videoUploadToS3||u.opts.videoUploadToAzure)if(201==i){if(u.opts.videoUploadToAzure){if(!1===u.events.trigger("video.uploadedToAzure",[this.responseURL,n,o],!0))return u.edit.on(),!1;r=t}else r=function(e){try{var t=h(e).find("Location").text(),n=h(e).find("Key").text();return!1===u.events.trigger("video.uploadedToS3",[t,n,e],!0)?(u.edit.on(),!1):t}catch(a){return L(f,e),!1}}(s);r&&b(r,!1,[],e,o||s)}else L(f,o||s);else 200<=i&&i<300?(a=function(e){try{var t;return!1===u.events.trigger("video.uploaded",[e],!0)?(u.edit.on(),!1):(t=JSON.parse(e)).link?t:(L(d,e),!1)}catch(n){return L(f,e),!1}}(l))&&b(a.link,!1,a,e,o||l):L(B,o||l)}catch(c){L(f,o||l)}}function K(){L(f,this.response||this.responseText||this.responseXML)}function z(e){e.lengthComputable&&(e=e.loaded/e.total*100|0,w(u.language.translate("Uploading"),e))}function W(){u.edit.on(),y(!0)}function V(e,t,n,a){var r,i="";if(t&&void 0!==t)for(r in t)t.hasOwnProperty(r)&&"link"!=r&&(i+=" ".concat(r,'="').concat(t[r],'"'));var o=u.opts.videoDefaultWidth,o=(o&&"auto"!=o&&(o="".concat(o,"px")),u.helpers.isMobile()&&u.browser.safari&&(i+=" autoplay playsinline"),(e="audio"==a?h(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+u.opts.videoDefaultDisplay[0]+("center"!=u.opts.videoDefaultAlign?" fr-fv"+u.opts.videoDefaultAlign[0]:"")).html('<audio src="'+e+'" '+i+" controls>"+u.language.translate("Your browser does not support HTML5 video.")+"</audio>"):h(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+u.opts.videoDefaultDisplay[0]+("center"!=u.opts.videoDefaultAlign?" fr-fv"+u.opts.videoDefaultAlign[0]:"")).html('<video src="'+e+'" '+i+(o?' style="width: '+o+';" ':"")+" controls>"+u.language.translate("Your browser does not support HTML5 video.")+"</video>")).toggleClass("fr-draggable",u.opts.videoMove),u.edit.on(),u.events.focus(!0),u.selection.restore(),u.undo.saveStep(),u.opts.videoSplitHTML?u.markers.split():(u.cursor.enter(),u.markers.insert()),u.html.wrap(),u.$el.find(".fr-marker"));return u.node.isLastSibling(o)&&o.parent().hasClass("fr-deletable")&&o.insertAfter(o.parent()),o.replaceWith(e),u.selection.clear(),"audio"!==a&&(e.find("video").get(0).readyState>e.find("video").get(0).HAVE_FUTURE_DATA||u.helpers.isIOS()?n.call(e.find("video").get(0)):e.find("video").on("canplaythrough load",n)),e}function G(e){if(!u.core.sameInstance(l))return!0;e.preventDefault(),e.stopPropagation();var t=e.pageX||(e.originalEvent.touches?e.originalEvent.touches[0].pageX:null),n=e.pageY||(e.originalEvent.touches?e.originalEvent.touches[0].pageY:null);if(!t||!n)return!1;if("mousedown"==e.type){var a=u.$oel.get(0).ownerDocument,a=a.defaultView||a.parentWindow,r=!1;try{r=a.location!=a.parent.location&&!(a.$&&a.$.FE)}catch(i){}r&&a.frameElement&&(t+=u.helpers.getPX(h(a.frameElement).offset().left)+a.frameElement.clientLeft,n=e.clientY+u.helpers.getPX(h(a.frameElement).offset().top)+a.frameElement.clientTop)}u.undo.canDo()||u.undo.saveStep(),(s=h(this)).data("start-x",t),s.data("start-y",n),o.show(),u.popups.hideAll(),x()}function Y(e){if(!u.core.sameInstance(l))return!0;if(s){e.preventDefault();var t=e.pageX||(e.originalEvent.touches?e.originalEvent.touches[0].pageX:null),e=e.pageY||(e.originalEvent.touches?e.originalEvent.touches[0].pageY:null);if(!t||!e)return!1;var n=s.data("start-x"),a=s.data("start-y"),t=(s.data("start-x",t),s.data("start-y",e),t-n),n=e-a,e=g.find("iframe, embed, ".concat(g.find("iframe, embed, audio").get(0)?"audio":"video")),a=e.width(),r=e.height();(s.hasClass("fr-hnw")||s.hasClass("fr-hsw"))&&(t=0-t),(s.hasClass("fr-hnw")||s.hasClass("fr-hne"))&&(n=0-n),e.css("width",a+t),e.css("height",r+n),e.removeAttr("width"),e.removeAttr("height"),S()}}function A(e){if(!u.core.sameInstance(l))return!0;s&&g&&(e&&e.stopPropagation(),s=null,o.hide(),S(),i(),u.undo.saveStep())}function T(e){return'<div class="fr-handler fr-h'.concat(e,'"></div>')}function j(e,t,n,a){return e.pageX=t,e.pageY=t,G.call(this,e),e.pageX=e.pageX+n*Math.floor(Math.pow(1.1,a)),e.pageY=e.pageY+n*Math.floor(Math.pow(1.1,a)),Y.call(this,e),A.call(this,e),++a}function k(){for(var e=Array.prototype.slice.call(u.el.querySelectorAll("video, .fr-video > *")),t=[],n=0;n<e.length;n++)t.push(e[n].getAttribute("src")),h(e[n]).toggleClass("fr-draggable",u.opts.videoMove),""===e[n].getAttribute("class")&&e[n].removeAttribute("class"),""===e[n].getAttribute("style")&&e[n].removeAttribute("style");if(a)for(n=0;n<a.length;n++)t.indexOf(a[n].getAttribute("src"))<0&&u.events.trigger("video.removed",[h(a[n])]);a=e}function S(){l||(u.shared.$video_resizer?(l=u.shared.$video_resizer,o=u.shared.$vid_overlay,u.events.on("destroy",function(){h("body").first().append(l.removeClass("fr-active"))},!0)):(u.shared.$video_resizer=h(document.createElement("div")).attr("class","fr-video-resizer"),l=u.shared.$video_resizer,u.events.$on(l,"mousedown",function(e){e.stopPropagation()},!0),u.opts.videoResize&&(l.append(T("nw")+T("ne")+T("sw")+T("se")),u.shared.$vid_overlay=h(document.createElement("div")).attr("class","fr-video-overlay"),o=u.shared.$vid_overlay,e=l.get(0).ownerDocument,h(e).find("body").first().append(o))),u.events.on("shared.destroy",function(){l.html("").removeData().remove(),l=null,u.opts.videoResize&&(o.remove(),o=null)},!0),u.helpers.isMobile()||u.events.$on(h(u.o_win),"resize.video",function(){R(!0)}),u.opts.videoResize&&(e=l.get(0).ownerDocument,u.events.$on(l,u._mousedown,".fr-handler",G),u.events.$on(h(e),u._mousemove,Y),u.events.$on(h(e.defaultView||e.parentWindow),u._mouseup,A),u.events.$on(o,"mouseleave",A),a=1,r=null,i=0,u.events.on("keydown",function(e){var t,n;g&&(t=-1!=navigator.userAgent.indexOf("Mac OS X")?e.metaKey:e.ctrlKey,((n=e.which)!==r||200<e.timeStamp-i)&&(a=1),(n==ct.KEYCODE.EQUALS||u.browser.mozilla&&n==ct.KEYCODE.FF_EQUALS)&&t&&!e.altKey?a=j.call(this,e,1,1,a):(n==ct.KEYCODE.HYPHEN||u.browser.mozilla&&n==ct.KEYCODE.FF_HYPHEN)&&t&&!e.altKey&&(a=j.call(this,e,2,-1,a)),r=n,i=e.timeStamp)}),u.events.on("keyup",function(){a=1}))),(u.$wp||u.$sc).append(l),l.data("instance",u);var a,r,i,e=g.find("iframe, embed, ".concat(g.find("iframe, embed, audio").get(0)?"audio":"video")),t=0,n=0;u.opts.iframe&&(n=u.helpers.getPX(u.$wp.find(".fr-iframe").css("padding-top")),t=u.helpers.getPX(u.$wp.find(".fr-iframe").css("padding-left"))),l.css("top",(u.opts.iframe?e.offset().top+n-1:e.offset().top-u.$wp.offset().top-1)+u.$wp.scrollTop()).css("left",(u.opts.iframe?e.offset().left+t-1:e.offset().left-u.$wp.offset().left-1)+u.$wp.scrollLeft()).css("width",e.get(0).getBoundingClientRect().width).css("height",e.get(0).getBoundingClientRect().height).addClass("fr-active")}function t(e){if(e&&"touchend"==e.type&&n)return!0;if(e&&u.edit.isDisabled())return e.stopPropagation(),e.preventDefault(),!1;if(u.edit.isDisabled())return!1;for(var t=0;t<ct.INSTANCES.length;t++)ct.INSTANCES[t]!=u&&ct.INSTANCES[t].events.trigger("video.hideResizer");u.toolbar.disable(),u.helpers.isMobile()&&(u.events.disableBlur(),u.$el.blur(),u.events.enableBlur()),u.$el.find(".fr-video.fr-active").removeClass("fr-active"),(g=h(this)).addClass("fr-active"),u.opts.iframe&&u.size.syncIframe(),N(),S(),i(),u.selection.clear(),u.button.bulkRefresh(),u.events.trigger("image.hideResizer")}function R(e){g&&(u.shared.vid_exit_flag||!0===e)&&(l.removeClass("fr-active"),u.toolbar.enable(),g.removeClass("fr-active"),g=null,x())}function e(){u.shared.vid_exit_flag=!0}function x(){u.shared.vid_exit_flag=!1}function q(e){var t=e.originalEvent.dataTransfer;if(t&&t.files&&t.files.length){var n=t.files[0];if(n&&n.type&&-1!==n.type.indexOf("video"))return u.opts.videoUpload?(u.markers.remove(),u.markers.insertAtPoint(e.originalEvent),u.$el.find(".fr-marker").replaceWith(ct.MARKERS),u.popups.hideAll(),u.popups.get("video.insert")||c(),u.popups.setContainer("video.insert",u.$sc),u.popups.show("video.insert",e.originalEvent.pageX,e.originalEvent.pageY),E(),0<=u.opts.videoAllowedTypes.indexOf(n.type.replace(/video\//g,""))?X(t.files):L(m),e.preventDefault(),e.stopPropagation()):(e.preventDefault(),e.stopPropagation()),!1}}function X(e){if(void 0!==e&&0<e.length){if(!1===u.events.trigger("video.beforeUpload",[e]))return!1;var t,n,e=e[0];if(!(null!==u.opts.videoUploadURL&&u.opts.videoUploadURL!=D||u.opts.videoUploadToS3||u.opts.videoUploadToAzure))return f=e,g&&g.find("iframe")&&g.find("iframe").length&&M(),(p=new FileReader).onload=function(){p.result;for(var e=atob(p.result.split(",")[1]),t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));b(window.URL.createObjectURL(new Blob([new Uint8Array(t)],{type:f.type})),!1,null,g)},E(),p.readAsDataURL(f),!1;if(e.size>u.opts.videoMaxSize)return L(H),!1;if(u.opts.videoAllowedTypes.indexOf(e.type.replace(/video\//g,""))<0)return L(m),!1;if(t=u.drag_support.formdata?u.drag_support.formdata?new FormData:null:t){if(!1!==u.opts.videoUploadToS3)for(n in t.append("key",u.opts.videoUploadToS3.keyStart+(new Date).getTime()+"-"+(e.name||"untitled")),t.append("success_action_status","201"),t.append("X-Requested-With","xhr"),t.append("Content-Type",e.type),u.opts.videoUploadToS3.params)u.opts.videoUploadToS3.params.hasOwnProperty(n)&&t.append(n,u.opts.videoUploadToS3.params[n]);for(n in u.opts.videoUploadParams)u.opts.videoUploadParams.hasOwnProperty(n)&&t.append(n,u.opts.videoUploadParams[n]);t.append(u.opts.videoUploadParam,e);var a,r=u.opts.videoUploadURL,i=(u.opts.videoUploadToS3&&(r=u.opts.videoUploadToS3.uploadURL||"https://".concat(u.opts.videoUploadToS3.region,".amazonaws.com/").concat(u.opts.videoUploadToS3.bucket)),u.opts.videoUploadMethod),o=(u.opts.videoUploadToAzure&&(r=u.opts.videoUploadToAzure.uploadURL?"".concat(u.opts.videoUploadToAzure.uploadURL,"/").concat(e.name):encodeURI("https://".concat(u.opts.videoUploadToAzure.account,".blob.core.windows.net/").concat(u.opts.videoUploadToAzure.container,"/").concat(e.name)),a=r,u.opts.videoUploadToAzure.SASToken&&(r+=u.opts.videoUploadToAzure.SASToken),i="PUT"),u.core.getXHR(r,i));if(u.opts.videoUploadToAzure){var s,l,c,r=(new Date).toUTCString();for(n in!u.opts.videoUploadToAzure.SASToken&&u.opts.videoUploadToAzure.accessKey&&(s=u.opts.videoUploadToAzure.account,d=u.opts.videoUploadToAzure.container,u.opts.videoUploadToAzure.uploadURL&&(d=(l=u.opts.videoUploadToAzure.uploadURL.split("/")).pop(),s=l.pop().split(".")[0]),l="x-ms-blob-type:BlockBlob\nx-ms-date:".concat(r,"\nx-ms-version:2019-07-07"),d=encodeURI("/"+s+"/"+d+"/"+e.name),i=i+"\n\n\n"+e.size+"\n\n"+e.type+"\n\n\n\n\n\n\n"+l+"\n"+d,l=u.cryptoJSPlugin.cryptoJS.HmacSHA256(i,u.cryptoJSPlugin.cryptoJS.enc.Base64.parse(u.opts.videoUploadToAzure.accessKey)).toString(u.cryptoJSPlugin.cryptoJS.enc.Base64),c=l,o.setRequestHeader("Authorization","SharedKey "+s+":"+l)),o.setRequestHeader("x-ms-version","2019-07-07"),o.setRequestHeader("x-ms-date",r),o.setRequestHeader("Content-Type",e.type),o.setRequestHeader("x-ms-blob-type","BlockBlob"),u.opts.videoUploadParams)u.opts.videoUploadParams.hasOwnProperty(n)&&o.setRequestHeader(n,u.opts.videoUploadParams[n]);for(n in u.opts.videoUploadToAzure.params)u.opts.videoUploadToAzure.params.hasOwnProperty(n)&&o.setRequestHeader(n,u.opts.videoUploadToAzure.params[n])}o.onload=function(){$.call(o,g,a,c)},o.onerror=K,o.upload.onprogress=z,o.onabort=W,E(),u.events.disableBlur(),u.edit.off(),u.events.enableBlur();var d=u.popups.get("video.insert");d&&h(d.off("abortUpload")).on("abortUpload",function(){4!=o.readyState&&o.abort()}),o.send(u.opts.videoUploadToAzure?e:t)}}var f,p}function L(e,t){u.edit.on(),g&&g.find("video").addClass("fr-error"),_(u.language.translate("Something went wrong. Please try again.")),u.events.trigger("video.error",[{code:e,message:r[e]},t])}function Z(){var e,t;g&&(e=u.popups.get("video.size"),t=g.find("iframe, embed, ".concat(g.find("iframe, embed, audio").get(0)?"audio":"video")),e.find('input[name="width"]').val(t.get(0).style.width||t.attr("width")).trigger("change"),e.find('input[name="height"]').val(t.get(0).style.height||t.attr("height")).trigger("change"))}function Q(e){var t;return e?(u.popups.onRefresh("video.size",Z),!0):(e="",e='<div class="fr-buttons fr-tabs">'.concat(u.button.buildList(u.opts.videoSizeButtons),"</div>"),t="",t='<div class="fr-video-size-layer fr-layer fr-active" id="fr-video-size-layer-'.concat(u.id,'"><div class="fr-video-group"><div class="fr-input-line"><input id="fr-video-size-layer-width-').concat(u.id,'" type="text" name="width" placeholder="').concat(u.language.translate("Width"),'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-video-size-layer-height-').concat(u.id,'" type="text" name="height" placeholder="').concat(u.language.translate("Height"),'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoSetSize" tabIndex="2" role="button">').concat(u.language.translate("Update"),"</button></div></div>"),e=u.popups.create("video.size",{buttons:e,size_layer:t}),u.events.$on(u.$wp,"scroll",function(){g&&u.popups.isVisible("video.size")&&(u.events.disableBlur(),C(g))}),e)}function I(e){if(e=void 0===e?g:e){if(e.hasClass("fr-fvl"))return"left";if(e.hasClass("fr-fvr"))return"right";if(e.hasClass("fr-dvb")||e.hasClass("fr-dvi"))return"center";if("block"==e.css("display")){if("left"==e.css("text-algin"))return"left";if("right"==e.css("text-align"))return"right"}else{if("left"==e.css("float"))return"left";if("right"==e.css("float"))return"right"}}return"center"}function O(e){var t=(e=void 0===e?g:e).css("float");return e.css("float","none"),"block"==e.css("display")?(e.css("float",""),e.css("float")!=t&&e.css("float",t),"block"):(e.css("float",""),e.css("float")!=t&&e.css("float",t),"inline")}function M(){var e;g&&!1!==u.events.trigger("video.beforeRemove",[g])&&(e=g,u.popups.hideAll(),R(!0),!u.opts.trackChangesEnabled||e[0].parentNode&&"SPAN"===e[0].parentNode.tagName&&e[0].parentNode.hasAttribute("data-tracking")?(u.selection.setBefore(e.get(0))||u.selection.setAfter(e.get(0)),e.remove(),u.selection.restore(),u.html.fillEmptyBlocks()):u.track_changes.removeSpecialItem(e))}function J(){y()}function F(e,t,n){!u.opts.htmlUntouched&&u.opts.useClasses?(e.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"),e.addClass("fr-fv".concat(n[0]," fr-dv").concat(t[0]))):"inline"==t?(e.css({display:"inline-block"}),"center"==n?e.css({"float":"none"}):"left"==n?e.css({"float":"left"}):e.css({"float":"right"})):(e.css({display:"block",clear:"both"}),"left"==n?e.css({textAlign:"left"}):"right"==n?e.css({textAlign:"right"}):e.css({textAlign:"center"}))}function ee(){var e=u.$el.find("video").filter(function(){return 0===h(this).parents("span.fr-video").length});if(0!=e.length){e.wrap(h(document.createElement("span")).attr("class","fr-video fr-deletable").attr("contenteditable","false")),u.$el.find("embed, iframe").filter(function(){if(u.browser.safari&&this.getAttribute("src")&&this.setAttribute("src",this.src),!(0<h(this).parents("span.fr-video").length))for(var e=h(this).attr("src"),t=0;t<ct.VIDEO_PROVIDERS.length;t++){var n=ct.VIDEO_PROVIDERS[t];if(n.test_regex.test(e)&&new RegExp(u.opts.videoAllowedProviders.join("|")).test(n.provider))return!0}return!1}).map(function(){return 0===h(this).parents("object").length?this:h(this).parents("object").get(0)}).wrap(h(document.createElement("span")).attr("class","fr-video").attr("contenteditable","false"));for(var t,n,a=u.$el.find("span.fr-video, video"),r=0;r<a.length;r++){var i=h(a[r]);!u.opts.htmlUntouched&&u.opts.useClasses?((n=i).hasClass("fr-dvi")||n.hasClass("fr-dvb")||(n.addClass("fr-fv".concat(I(n)[0])),n.addClass("fr-dv".concat(O(n)[0]))),u.opts.videoTextNear||i.removeClass("fr-dvi").addClass("fr-dvb")):u.opts.htmlUntouched||u.opts.useClasses||(t=n=void 0,n=(i=i).hasClass("fr-dvb")?"block":i.hasClass("fr-dvi")?"inline":null,t=i.hasClass("fr-fvl")?"left":i.hasClass("fr-fvr")?"right":I(i),F(i,n,t),i.removeClass("fr-dvb fr-dvi fr-fvr fr-fvl"))}a.toggleClass("fr-draggable",u.opts.videoMove)}}function P(e){document.getElementById("autoplay-".concat(u.id)).style.cssText="background:".concat(e)}function N(){var e;g&&(u.selection.clear(),(e=u.doc.createRange()).selectNode(g.get(0)),u.selection.get().addRange(e))}return r[1]="Video cannot be loaded from the passed link.",r[d]="No link in upload response.",r[B]="Error during file upload.",r[f]="Parsing response failed.",r[H]="File is too large.",r[m]="Video file type is invalid.",u.shared.vid_exit_flag=!(r[7]="Files can be uploaded only to same domain in IE 8 and IE 9."),{_init:function(){u.opts.videoResponsive&&(u.opts.videoResize=!1),u.events.on("drop",q,!0),u.events.on("mousedown window.mousedown",e),u.events.on("window.touchmove",x),u.events.on("mouseup window.mouseup",R),u.events.on("commands.mousedown",function(e){0<e.parents(".fr-toolbar").length&&R()}),u.events.on("video.hideResizer commands.undo commands.redo element.dropped",function(){R(!0)}),u.events.on("filestack-init-video",function(){c()}),u.helpers.isMobile()&&(u.events.$on(u.$el,"touchstart","span.fr-video",function(){n=!1}),u.events.$on(u.$el,"touchmove",function(){n=!0})),u.events.on("html.set",ee),ee(),u.events.$on(u.$el,"mousedown","span.fr-video",function(e){e.stopPropagation(),!u.browser.msie&&!u.browser.edge||e.target.innerText||(e.target.dragDrop(),t.call(this,e))}),u.events.$on(u.$el,"click touchend","span.fr-video",function(e){if(e.target.innerText.length||"false"==h(this).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable"))return!0;t.call(this,e)}),u.events.on("keydown",function(e){var t=e.which;return!g||t!=ct.KEYCODE.BACKSPACE&&t!=ct.KEYCODE.DELETE?g&&t==ct.KEYCODE.ESC?(R(!0),e.preventDefault(),!1):g&&t!=ct.KEYCODE.F10&&!u.keys.isBrowserAction(e)?(e.preventDefault(),!1):void 0:(e.preventDefault(),M(),u.undo.saveStep(),!1)},!0),u.events.on("toolbar.esc",function(){if(g)return u.events.disableBlur(),u.events.focus(),!1},!0),u.events.on("toolbar.focusEditor",function(){if(g)return!1},!0),u.events.on("keydown",function(){u.$el.find("span.fr-video:empty").remove()}),u.$wp&&(k(),u.events.on("contentChanged",k)),c(!0),Q(!0)},showInsertPopup:function(){var e,t,n=u.$tb.find('.fr-command[data-cmd="insertVideo"]'),a=(a=u.popups.get("video.insert"))||c();y(),a.hasClass("fr-active")||(u.popups.refresh("video.insert"),u.popups.setContainer("video.insert",u.$tb),n.isVisible()?(t=(e=u.button.getPosition(n)).left,u.popups.show("video.insert",t,e.top,n.outerHeight())):(u.position.forSelection(a),u.popups.show("video.insert")))},showLayer:function(e){var t,n,a=u.popups.get("video.insert");g||u.opts.toolbarInline||(t=(n=u.$tb.find('.fr-command[data-cmd="insertVideo"]')).offset().left,n=n.offset().top+(u.opts.toolbarBottom?10:n.outerHeight()-10)),u.opts.toolbarInline&&(n=a.offset().top-u.helpers.getPX(a.css("margin-top")),a.hasClass("fr-above"))&&(n+=a.outerHeight()),a.find(".fr-layer").removeClass("fr-active"),a.find(".fr-".concat(e,"-layer")).addClass("fr-active"),u.popups.show("video.insert",t,n,0),u.accessibility.focusPopup(a)},refreshByURLButton:function(e){var t=u.popups.get("video.insert");t&&t.find(".fr-video-by-url-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)},refreshEmbedButton:function(e){var t=u.popups.get("video.insert");t&&t.find(".fr-video-embed-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)},refreshUploadButton:function(e){var t=u.popups.get("video.insert");t&&t.find(".fr-video-upload-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)},upload:X,insertByURL:function(e){var t,n,a,r=!!document.getElementById("videoPluginAutoplay")&&document.getElementById("videoPluginAutoplay").checked,i=(void 0===e&&(e=(u.popups.get("video.insert").find('.fr-video-by-url-layer input[type="text"]').val()||"").trim(),/vimeo\.com\/event\/\d+\/embed\/[a-zA-Z0-9]+/i.test(e)||((t=e.match(/^(https?:\/\/)?(www\.)?vimeo\.com\/(\d{6,11})(\?.+)?$/))?(n=t[3],t=t[4]||"",e="https://vimeo.com/".concat(n).concat(t)):(n=e.match(/(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/?(showcase\/)*([0-9])([a-z]*\/)*([0-9]{6,11})[?]?.*/))&&7==n.length&&(t=n[6],n=e.substring(0,e.lastIndexOf("/")),(a=e.substring(e.lastIndexOf("/")+1,e.length)).includes("?h=")||a.includes("?v=")||t===a?e=("".concat(n,"/").concat(a)||"").trim():a.includes("?")||(e=("".concat(n,"?h=").concat(a)||"").trim())))),null);if(/^http/.test(e)||(e="https://".concat(e)),u.helpers.isURL(e))for(var o=0;o<ct.VIDEO_PROVIDERS.length;o++){var s,l=ct.VIDEO_PROVIDERS[o],c="autoplay=1&mute=1";if(l.html.includes("autoplay=1")&&document.getElementById("videoPluginAutoplay").checked?(l.html=l.html,document.getElementById("videoPluginAutoplay").checked=!1):r?(s=l.html.indexOf("{url}")+5,l.html=[l.html.slice(0,s),c,l.html.slice(s)].join(""),r=!1,document.getElementById("videoPluginAutoplay").checked=!1):(l=ct.VIDEO_PROVIDERS[o]).html=l.html.replace(c,""),l.test_regex.test(e)&&new RegExp(u.opts.videoAllowedProviders.join("|")).test(l.provider)){i=e.replace(l.url_regex,l.url_text),i=l.html.replace(/\{url\}/,i);break}}i?p(i):(_(u.language.translate("Something went wrong. Please try again.")),u.events.trigger("video.linkError",[e]))},insertEmbed:function(e){0!==(e=void 0===e?u.popups.get("video.insert").find(".fr-video-embed-layer textarea").val()||"":e).length&&ct.VIDEO_EMBED_REGEX.test(e)?p(e):(_(u.language.translate("Something went wrong. Please try again.")),u.events.trigger("video.codeError",[e]))},insert:p,align:function(e){g.removeClass("fr-fvr fr-fvl"),!u.opts.htmlUntouched&&u.opts.useClasses?"left"==e?g.addClass("fr-fvl"):"right"==e&&g.addClass("fr-fvr"):F(g,O(),e),N(),S(),i(),u.selection.clear()},refreshAlign:function(e){if(!g)return!1;e.find(">*").first().replaceWith(u.icon.create("video-align-".concat(I())))},refreshAlignOnShow:function(e,t){g&&t.find('.fr-command[data-param1="'.concat(I(),'"]')).addClass("fr-active").attr("aria-selected",!0)},display:function(e){g.removeClass("fr-dvi fr-dvb"),!u.opts.htmlUntouched&&u.opts.useClasses?"inline"==e?g.addClass("fr-dvi"):"block"==e&&g.addClass("fr-dvb"):F(g,e,I()),N(),S(),i(),u.selection.clear()},refreshDisplayOnShow:function(e,t){g&&t.find('.fr-command[data-param1="'.concat(O(),'"]')).addClass("fr-active").attr("aria-selected",!0)},remove:M,hideProgressBar:y,showSizePopup:function(){u.popups.get("video.size")||Q(),y(),u.popups.refresh("video.size"),u.popups.setContainer("video.size",u.$sc);var e=g.find("iframe, embed, ".concat(g.find("iframe, embed, audio").get(0)?"audio":"video")),t=e.offset().left+e.outerWidth()/2,n=e.offset().top+e.height();u.popups.show("video.size",t,n,e.height(),!0)},replace:function(){u.popups.get("video.insert")||c(),u.popups.isVisible("video.insert")||(y(),u.popups.refresh("video.insert"),u.popups.setContainer("video.insert",u.$sc));var e=g.offset().left+g.outerWidth()/2,t=g.offset().top+g.height();u.popups.show("video.insert",e,t,g.outerHeight(),!0)},back:function(){g?(u.events.disableBlur(),g[0].click()):(u.events.disableBlur(),u.selection.restore(),u.events.enableBlur(),u.popups.hide("video.insert"),u.toolbar.showInline())},setSize:function(e,t){var n,a;g&&(n=u.popups.get("video.size"),(a=g.find("iframe, embed, ".concat(g.find("iframe, embed, audio").get(0)?"audio":"video"))).css("width",e||n.find('input[name="width"]').val()),a.css("height",t||n.find('input[name="height"]').val()),a.get(0).style.width&&a.removeAttr("width"),a.get(0).style.height&&a.removeAttr("height"),n.find("input:focus").blur(),setTimeout(function(){g.trigger("click")},u.helpers.isAndroid()?50:0))},get:function(){return g},showProgressBar:E,_editVideo:C,setAutoplay:function(){var e,t;g.find("iframe, embed, audio").get(0)?(t=g.find("iframe, embed, audio")).get(0).src.includes("autoplay=1")?(P("#FFFFFF"),t.get(0).src=t.get(0).src.replace("&autoplay=1","")):(P("#D6D6D6"),t.get(0).src=t.get(0).src+"&autoplay=1"):(t=g.find("iframe, embed, video")).get(0).outerHTML.includes("autoplay")?(P("#FFFFFF"),t.get(0).outerHTML=t.get(0).outerHTML.replace("autoplay","")):(P("#D6D6D6"),e=t.get(0).outerHTML.indexOf("class")-1,t.get(0).outerHTML=[t.get(0).outerHTML.slice(0,e),"autoplay",t.get(0).outerHTML.slice(e)].join(""))},insertHtmlVideo:b}},ct.RegisterCommand("insertVideo",{title:"Insert Video",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("video.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("video.insert")):this.video.showInsertPopup()},plugin:"video"}),ct.DefineIcon("insertVideo",{NAME:"video-camera",FA5NAME:"camera",SVG_KEY:"insertVideo"}),ct.DefineIcon("videoByURL",{NAME:"link",SVG_KEY:"insertLink"}),ct.RegisterCommand("videoByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-by-url")},refresh:function(e){this.video.refreshByURLButton(e)}}),ct.DefineIcon("videoEmbed",{NAME:"code",SVG_KEY:"codeView"}),ct.RegisterCommand("videoEmbed",{title:"Embedded Code",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-embed")},refresh:function(e){this.video.refreshEmbedButton(e)}}),ct.DefineIcon("videoUpload",{NAME:"upload",SVG_KEY:"upload"}),ct.RegisterCommand("videoUpload",{title:"Upload Video",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-upload")},refresh:function(e){this.video.refreshUploadButton(e)}}),ct.RegisterCommand("videoInsertByURL",{undo:!0,focus:!0,callback:function(){this.video.insertByURL()}}),ct.RegisterCommand("videoInsertEmbed",{undo:!0,focus:!0,callback:function(){this.video.insertEmbed()}}),ct.DefineIcon("videoDisplay",{NAME:"star",SVG_KEY:"star"}),ct.RegisterCommand("videoDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(e,t){this.video.display(t)},refresh:function(e){this.opts.videoTextNear||e.addClass("fr-hidden")},refreshOnShow:function(e,t){this.video.refreshDisplayOnShow(e,t)}}),ct.DefineIcon("video-align",{NAME:"align-left",SVG_KEY:"align Left"}),ct.DefineIcon("video-align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),ct.DefineIcon("video-align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),ct.DefineIcon("video-align-center",{NAME:"align-justify",SVG_KEY:"alignJustify"}),ct.DefineIcon("videoAlign",{NAME:"align-center",SVG_KEY:"alignCenter"}),ct.RegisterCommand("videoAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"None",right:"Align Right"},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=ct.COMMANDS.videoAlign.options;for(e in n)n.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="videoAlign" data-param1="'.concat(e,'" title="').concat(this.language.translate(n[e]),'">').concat(this.icon.create("video-align-".concat(e)),'<span class="fr-sr-only">').concat(this.language.translate(n[e]),"</span></a></li>"));return t+="</ul>"},callback:function(e,t){this.video.align(t)},refresh:function(e){this.video.refreshAlign(e)},refreshOnShow:function(e,t){this.video.refreshAlignOnShow(e,t)}}),ct.DefineIcon("videoReplace",{NAME:"exchange",FA5NAME:"exchange-alt",SVG_KEY:"replaceImage"}),ct.RegisterCommand("videoReplace",{title:"Replace",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,callback:function(){this.video.replace()}}),ct.DefineIcon("videoRemove",{NAME:"trash",SVG_KEY:"remove"}),ct.RegisterCommand("videoRemove",{title:"Remove",callback:function(){this.video.remove()}}),ct.DefineIcon("autoplay",{NAME:"autoplay",SVG_KEY:"autoplay"}),ct.RegisterCommand("autoplay",{undo:!1,focus:!1,popup:!0,title:"Autoplay",callback:function(){this.video.setAutoplay()}}),ct.DefineIcon("videoSize",{NAME:"arrows-alt",SVG_KEY:"imageSize"}),ct.RegisterCommand("videoSize",{undo:!1,focus:!1,popup:!0,title:"Change Size",callback:function(){this.video.showSizePopup()}}),ct.DefineIcon("videoBack",{NAME:"arrow-left",SVG_KEY:"back"}),ct.RegisterCommand("videoBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.video.back()},refresh:function(e){this.video.get()||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next().hasClass("fr-separator")&&e.next().removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next().hasClass("fr-separator")&&e.next().addClass("fr-hidden"))}}),ct.RegisterCommand("videoDismissError",{title:"OK",undo:!1,callback:function(){this.video.hideProgressBar(!0)}}),ct.RegisterCommand("videoSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.video.setSize()}}),Object.assign(ct.DEFAULTS,{wordDeniedTags:[],wordDeniedAttrs:[],wordAllowedStyleProps:["font-family","font-size","background","color","width","text-align","vertical-align","background-color","padding","margin","height","margin-top","margin-left","margin-right","margin-bottom","text-decoration","font-weight","font-style","text-indent","border","border-.*","line-height","list-style-type","text-transform"],wordPasteModal:!0,wordPasteKeepFormatting:!0}),ct.PLUGINS.wordPaste=function(R){var n,a,E,x=R.$,r="word_paste",f={},y=!0;function i(e){var t=R.opts.wordAllowedStyleProps,e=(e||(R.opts.wordAllowedStyleProps=["list-style-type","margin-left"]),a=s(a=(a=0===a.indexOf("<colgroup>")?"<table>"+a+"</table>":a).replace(/<span[\n\r ]*style='mso-spacerun:yes'>([\r\n\u00a0 ]*)<\/span>/g,function(e,t){for(var n="",a=0;a++<t.length;)n+="&nbsp;";return n}),R.paste.getRtfClipboard()),R.doc.createElement("DIV"));e.innerHTML=a,R.html.cleanBlankSpaces(e),a=e.innerHTML,a=(a=R.paste.cleanEmptyTagsAndDivs(a)).replace(/\u200b/g,""),R.modals.hide(r),R.helpers.isMobile()&&R.events.focus(),R.paste.clean(a,!0,!0),R.opts.wordAllowedStyleProps=t}function w(e){e.parentNode&&e.parentNode.removeChild(e)}function L(e,t){if(t(e))for(var n=e.firstChild;n;){var a=n,r=n.previousSibling,n=n.nextSibling;L(a,t),a.previousSibling||a.nextSibling||a.parentNode||!n||r===n.previousSibling||!n.parentNode?a.previousSibling||a.nextSibling||a.parentNode||!n||n.previousSibling||n.nextSibling||n.parentNode||(r?n=a.childNodes.length?r.nextSibling:r.nextSibling?r.nextSibling.nextSibling:null:e.firstChild&&(n=e.firstChild.nextSibling)):n=r?r.nextSibling:e.firstChild}}function I(e){return x(e).hasClass("ListContainerWrapper")&&0<x(e).find("ol").length}function O(e){return x(e).hasClass("ListContainerWrapper")&&0<x(e).find("ul").length}function M(e){if(I(e)||O(e))return 1;if(e.getAttribute("style")&&/mso-list:[\s]*l/gi.test(e.getAttribute("style").replace(/\n/gi,""))){try{if(!e.querySelector('[style="mso-list:Ignore"]'))return!!(e.outerHTML&&0<=e.outerHTML.indexOf("\x3c!--[if !supportLists]--\x3e"))}catch(t){return}return 1}}var p=null,u={};function F(e){var t;if(I(e)||O(e))t=x(e).find("li").attr("data-aria-level");else{var n=(null==(n=e.getAttribute("style"))?void 0:n.replace(/\n/g,""))||"",a=p&&(null==(a=p.getAttribute("style"))?void 0:a.replace(/\n/g,""))||"",r=n.match(/mso-list:(\s*l([0-9]+)\s*level([0-9]+)\s*)lfo([0-9]+)/i),i=a.match(/mso-list:(\s*l([0-9]+)\s*level([0-9]+)\s*)lfo([0-9]+)/i);if(r){if(u[r[1]])return p=e,u[r[1]].toString();var o=i&&i[2],s=r[2],a=a&&u[i[1]]||0,s=o&&o!==s&&parseFloat((null==(o=p)||null==(o=o.style)?void 0:o.marginLeft)||0)<parseFloat(e.style.marginLeft||0)?a+parseInt(r[3],10):parseInt(r[3],10);!i||i[4]===r[4]&&i[3]===r[3]||s!==parseInt(r[3],10)||(s+=1),t=s.toString(),u[r[1]]=s}else t=n.replace(/.*level([0-9]+?).*/gi,"$1")}return p=e,t}function P(e,t,n,a){var r,i,o,s,l,c,d,f=navigator.userAgent.toLowerCase(),p=(-1!=f.indexOf("safari")&&(f=-1<f.indexOf("chrome")?1:"safari"),e.innerHTML.includes("mso-list:\nIgnore")&&(e.innerHTML=e.innerHTML.replace(/mso-list:\nIgnore/gi,"mso-list:Ignore")),/[0-9a-zA-Z\u0590-\u05FF]./gi),u="",g=I(e),h=null==(h=x(e).find("ol"))||null==(h=h.attr("style"))||null==(h=h.split(";"))?void 0:h.find(function(e){return e.trim().startsWith("list-style-type")});if(h==undefined&&O(e)&&(h=null==(y=x(e).find("ul"))||null==(y=y.attr("style"))||null==(y=y.split(";"))?void 0:y.find(function(e){return e.trim().startsWith("list-style-type")})),g)s="ol",l=h?"list-style-type: "+h.replace("list-style-type:","").trim()+";":"";else if(O(e))s="ul",l=h?"list-style-type: "+h.replace("list-style-type:","").trim()+";":"";else{var m=e.querySelector('span[style="mso-list:Ignore"]');if(!m)for(var v=e.querySelectorAll('span[style*="mso-list"]'),b=0;b<v.length;b++)if("mso-list:Ignore"===v[b].getAttribute("style").replace(/[\n\r\s]+/g,"")){m=v[b];break}var E,y=!1;(m=null==m&&"safari"==f?e.querySelector('span[lang="PT-BR"]'):m)&&(y=y||p.test(m.textContent),y="o"!==m.textContent.trim()&&y),null!==m&&(E=m.textContent.trim().split(".")[0]),s=1==y?(E=(E=m.textContent.trim().split(".")[0]).replace(/\(([^)]+)\)|[)]$/g,"$1"),isNaN(parseInt(E))?/^(m{0,4}(cm|cd|d?c{0,3})(xc|xl|l?x{0,3})(ix|iv|v?i{0,3}))$/.test(E)?(l="lower-roman;",e.nextElementSibling&&1===e.nextElementSibling.textContent.trim().split(".")[0].length&&(l="lower-alpha;")):/^(M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3}))$/.test(E)?(l="upper-roman;",e.nextElementSibling&&1===e.nextElementSibling.textContent.trim().split(".")[0].length&&(l="upper-alpha;")):/^[\u0590-\u05FF]$/.test(E)?l="hebrew;":E.match(/^v$/)||(E.match(/^[a-z]$/)||E.match(/^[a-z]\)$/)?l="lower-alpha;":(E.match(/^[A-Z]$/)||E.match(/^[A-Z]\)$/))&&(l="upper-alpha;")):l="decimal;",l=l?"list-style-type: "+l:"","ol"):("\xa7"==(E=null!=m?m.textContent.trim().split(".")[0]:E)?l="square;":"\xb7"==E?l="disc;":"o"==E&&(l="circle;"),l=l?"list-style-type: "+l:"","ul"),m==undefined||m.textContent==undefined||isNaN(parseInt(m.textContent.trim().split(".")[1],10))||(u=' class="decimal_type" ')}for(var h=1,f="",y=(F(e),e.style.marginLeft),w="",_=function(e){e=e?e.match(/margin-left\s*:\s*([^;]+)/i):null;return e?e[1].trim():""}(t[e.tagName.toLowerCase()+"."+e.className]),_=_||0,C=(y&&parseFloat(y)!==parseFloat(_)&&(y.includes("in")?(w="in",y=parseFloat(y)-.5):y.includes("pt")?(w="px",y=parseFloat(y)-10):y.includes("cm")&&(w="cm",y=parseFloat(y)-1),d=" margin-left: "+y+w+";"),h="list-style-type: upper-alpha;"==l?g?parseInt(x(e).find("ol").attr("start")):E.charCodeAt(0)-64:"list-style-type: lower-alpha;"==l?g?parseInt(x(e).find("ol").attr("start")):E.charCodeAt(0)-96:"list-style-type: upper-roman;"==l||"list-style-type: lower-roman;"==l?g?parseInt(x(e).find("ol").attr("start")):function(e){for(var t={I:1,V:5,X:10,L:50,C:100,D:500,M:1e3,i:1,v:5,x:10,l:50,c:100,d:500,m:1e3},n=0,a=0,r=e.length-1;0<=r;r--){var i=t[e[r]];a<=i?n+=i:n-=i,a=i}return n}(E):"list-style-type: hebrew;"===l?g?parseInt(x(e).find("ol").attr("start")):E.charCodeAt(0)-1488+1:g?parseInt(x(e).find("ol").attr("start")):parseInt(E),f=f+(l||"")+(d||""),c="<"+s,"none"===e.style.display&&(c+=' class="fr-mso-hidden"'),c=(c=(c+=u||"")+("ol"!=s||1==h||isNaN(h)?"":' start = "'+h+'"'))+(f?' style = "'+f+'"':"")+">",!1);e;){if(!M(e)){if(e.outerHTML&&0<e.outerHTML.indexOf("mso-bookmark")&&0==(e.textContent||"").length){e=e.nextElementSibling;continue}break}var A=F(e);if((n=n||A)<A)c+=(o=P(e,t,A,e.style.marginLeft)).el.outerHTML,e=o.currentNode;else{if(A<n)break;var T=I(e),k=i&&I(i);if(i&&T!==k)break;e.firstElementChild&&e.firstElementChild.firstElementChild&&e.firstElementChild.firstElementChild.firstChild&&(p.lastIndex=0),i&&i.firstElementChild&&i.firstElementChild.firstElementChild&&i.firstElementChild.firstElementChild.firstChild&&(p.lastIndex=0,r=p.test(i.firstElementChild.firstElementChild.firstChild.data||i.firstElementChild.firstElementChild.firstChild.firstChild&&i.firstElementChild.firstElementChild.firstChild.firstChild.data||""));var S,T=!1,k=i&&F(i),T=((!a&&!e.style.marginLeft||a&&e.style.marginLeft&&a===e.style.marginLeft||k&&k===A)&&(T=!0),a=e.style.marginLeft,T||r===undefined?(k=function(e,a){var t=e.cloneNode(!0),n=(-1!==["H1","H2","H3","H4","H5","H6"].indexOf(e.tagName)&&((l=document.createElement(e.tagName.toLowerCase())).setAttribute("style",e.getAttribute("style")),l.innerHTML=t.innerHTML,t.innerHTML=l.outerHTML),L(t,function(e){if(e.nodeType==Node.COMMENT_NODE&&(R.browser.msie||R.browser.safari||R.browser.edge))try{if("[if !supportLists]"===e.data){for(e=e.nextSibling;e&&e.nodeType!==Node.COMMENT_NODE;){var t=e.nextSibling;e.parentNode.removeChild(e),e=t}e&&e.nodeType==Node.COMMENT_NODE&&e.parentNode.removeChild(e)}}catch(n){return!1}return e.nodeType===Node.ELEMENT_NODE&&(e.getAttribute("style")&&"mso-list:Ignore"===e.getAttribute("style").replace(/[\n\r\s]+/g,"")&&e.parentNode.removeChild(e),e.setAttribute("style",N(e)),D(e,a)),!0}),(I(e)?x(e).find("li").get(0):t).innerHTML);if(I(e)||O(e))for(var n="",r=x(e).find("li"),i=0;i<r.length;i++){var o=x(r.get(i).innerHTML),s=(o.find("span").each(function(){"&nbsp;"===x(this).html()&&(0<x(this).prev().text().trim().length?x(this).remove():x(this).html("&ZeroWidthSpace;"))}),r[i].style.marginLeft);s?(s=parseFloat(parseFloat(s).toFixed(2))+s.match(/[a-zA-Z]+/g)[0],n+='<li style = "margin-left: '.concat(s,';">').concat(o.get(0).innerHTML,"</li>")):n+="<li >".concat(o.get(0).innerHTML,"</li>")}else{var l,t=null==(l=x(e).find("p").get(0))?void 0:l.style.marginLeft;n=(t?(t=parseFloat(parseFloat(t).toFixed(2))+t.match(/[a-zA-Z]+/g)[0],'<li style = "margin-left: '.concat(t,';">')):"<li>").concat(n,"</li>")}return n=n.replace(/<!--[\s\S]*?-->/gi,"")}(e,t),!e.nextSibling||e.nextSibling.innerText==undefined||e.nextSibling.innerText==undefined||c.includes('class="decimal_type"')||isNaN(parseInt(e.nextSibling.innerText.trim().split(".")[1],10))||(c=c.substring(3,0)+' class="decimal_type"'+c.substring(3,c.length)),c+=k):(1==A&&(c+="</"+s+">",C=!0,i=null),c+=(o=P(e,t,A,e.style.marginLeft)).el.outerHTML,e=o.currentNode),e&&e.nextElementSibling);if(T&&(i=T.previousElementSibling),e&&!M(e)){if(e.outerHTML&&0<e.outerHTML.indexOf("mso-bookmark")&&0==(e.textContent||"").length){e=e.nextElementSibling;continue}break}e&&e.parentNode&&e.parentNode.removeChild(e),T&&M(T)&&(k=(S=function S(e){e=e.match(/mso-list:\s*l(\d+)/);return e?parseInt(e[1]):null})(e.getAttribute("style")||""),A=S(T.getAttribute("style")||""),T=null!==k&&k===A?T:null),e=T}}C||(c+="</"+s+">");_=document.createElement("div");return _.innerHTML=c,{el:_,currentNode:e}}function N(e,t){var t=1<arguments.length&&t!==undefined?t:null,n="",t=["line-height","font-family","font-size","color","background"].concat(Ce(t||[])),a=e.getAttribute("style");return a&&t.forEach(function(t){var e=a.split(";").find(function(e){return e.trim().includes(t+":")});e&&(e=e.includes("mso")?e.match(new RegExp(t+":.*(;|)"))[0]:e).trim().startsWith(t)&&(n+=e+";")}),n}function g(e,t){for(var n=document.createElement(t),a=0;a<e.attributes.length;a++){var r=e.attributes[a].name;"FONT"===e.tagName&&(R.browser.msie&&["id","class","style"].indexOf(r)<0||!R.browser.msie&&CSS.supports(r,e.getAttribute(r)))?x(n).css(r,e.getAttribute(r)):n.setAttribute(r,e.getAttribute(r))}return n.innerHTML=e.innerHTML,e.parentNode.replaceChild(n,e),n}function h(e,t){R.node.clearAttributes(e);for(var n=e.firstElementChild,a=0,r=!1,i=null;n;){if(n.firstElementChild&&-1!==n.firstElementChild.tagName.indexOf("W:"))for(var o=0;o<n.children.length;o++)"<('[^']*'|\"[^\"]*\"|[^\"'>])*>"==n.children[o]&&(n.innerHTML+=n.children[o]);(i=(i=n.getAttribute("width"))||n.style.width)||(r=r||!0),a+=parseInt(i,10),n.firstChild&&(n.firstChild,n.firstChild.data!==ct.UNICODE_NBSP)||(n.firstChild&&w(n.firstChild),n.innerHTML="<br>");for(var s=n.firstElementChild,l=1===n.children.length;s;)"P"!==s.tagName||M(s)||l&&_(s),s=s.nextElementSibling;t&&((c=n.getAttribute("class"))&&(c=(c=C(c)).match(/xl[0-9]+/gi))&&t[c="."+c[0]]&&A(n,t[c]),t.td)&&A(n,t.td);var c=n.getAttribute("style"),d=((c=c&&C(c))&&";"!==c.slice(-1)&&(c+=";"),n.getAttribute("valign")),f=(!d&&c&&(f=c.match(/vertical-align:.+?[; "]{1,1}/gi))&&(d=f[f.length-1].replace(/vertical-align:(.+?)[; "]{1,1}/gi,"$1")),null),p=(c&&"general"===(f=(p=c.match(/text-align:.+?[; "]{1,1}/gi))?p[p.length-1].replace(/text-align:(.+?)[; "]{1,1}/gi,"$1"):f)&&(f=null),null),u=(c&&(u=c.match(/background:.+?[; "]{1,1}/gi))&&(p=u[u.length-1].replace(/background:(.+?)[; "]{1,1}/gi,"$1")),n.getAttribute("colspan")),g=n.getAttribute("rowspan");u&&n.setAttribute("colspan",u),g&&n.setAttribute("rowspan",g),d&&(n.style["vertical-align"]=d),f&&(n.style["text-align"]=f),p&&(n.style["background-color"]=p),i&&n.setAttribute("width",i),n=n.nextElementSibling}for(n=e.firstElementChild;n;)i=n.getAttribute("width"),r&&n.removeAttribute("width"),n=n.nextElementSibling;if(e.previousSibling?E!=a&&(y=!1):E=a,!e.nextElementSibling){for(var h,m=e,e=m.closest("table"),v=0,b=function b(){var n=0;Array.from(m.children).forEach(function(e){e=parseInt(e.getAttribute("width"),10);isNaN(e)||(n+=e)}),v<n&&(v=n),y?Array.from(m.children).forEach(function(e){var t=parseInt(e.getAttribute("width"),10);!isNaN(t)&&0<n&&(t=100*t/n,e.setAttribute("width","".concat(t,"%")))}):Array.from(m.children).forEach(function(e){var t=parseInt(e.getAttribute("width"),10);isNaN(t)||e.setAttribute("width","".concat(t,"px"))}),m=m.previousElementSibling};m;)b();e&&0<v&&!(e.getAttribute("width")||"").trim().endsWith("%")&&(h=parseInt(e.style.width,10),isNaN(h)||0===h)&&(e.style.width="".concat(v,"px"))}}function _(e){var t=e.getAttribute("align");t&&(e.style["text-align"]=t,e.removeAttribute("align"))}function C(e){return e.replace(/\n|\r|\n\r|&quot;/g,"")}function A(e,t){var n;t&&((n=e.getAttribute("style"))&&";"!==n.slice(-1)&&(n+=";"),t&&";"!==t.slice(-1)&&(t+=";"),t=t.replace(/\n/gi,""),e.setAttribute("style",t+(n||"")))}var m=null;function o(e,t,n){for(var a=e.split(n),r=1;r<a.length;r++)if(1<(i=(i=a[r]).split("shplid")).length){for(var i=i[1],o="",s=0;s<i.length&&"\\"!==i[s]&&"{"!==i[s]&&" "!==i[s]&&"\r"!==i[s]&&"\n"!==i[s];)o+=i[s],s++;var l=i.split("bliptag");if(!(l&&l.length<2)){var c=null;if(-1!==l[0].indexOf("pngblip")?c="image/png":-1!==l[0].indexOf("jpegblip")&&(c="image/jpeg"),c){l=l[1].split("}");if(!(l&&l.length<2)){var d=void 0;if(2<l.length&&-1!==l[0].indexOf("blipuid"))d=l[1].split(" ");else{if((d=l[0].split(" "))&&d.length<2)continue;d.shift()}l=d.join("");m[t+o]={image_hex:l,image_type:c}}}}}}function v(e,t){if(t){if("IMG"===e.tagName){var n=e.getAttribute("src");if(!n||-1===n.indexOf("file://"))return;if(0===n.indexOf("file://")&&R.helpers.isURL(e.getAttribute("alt")))return void e.setAttribute("src",e.getAttribute("alt"));(n=f[e.getAttribute("v:shapes")])||(n=e.getAttribute("v:shapes"),e.parentNode&&e.parentNode.parentNode&&0<=e.parentNode.parentNode.innerHTML.indexOf("msEquation")&&(n=null))}else n=e.parentNode.getAttribute("o:spid");e.removeAttribute("height"),n&&(m={},o(t=t,"i","\\shppict"),o(t,"s","\\shp{"),t=m[n.substring(7)])&&(n=function(e){for(var t=e.match(/[0-9a-f]{2}/gi),n=[],a=0;a<t.length;a++)n.push(String.fromCharCode(parseInt(t[a],16)));return e=n.join(""),btoa(e)}(t.image_hex),t="data:"+t.image_type+";base64,"+n,"IMG"===e.tagName?(e.src=t,e.setAttribute("data-fr-image-pasted",!0)):x(e).parent().before('<img data-fr-image-pasted="true" src="'.concat(t,'" style="').concat(e.parentNode.getAttribute("style"),'">')).remove())}}function D(e,t){var n=e.tagName,a=n.toLowerCase();e.firstElementChild&&("I"===e.firstElementChild.tagName?g(e.firstElementChild,"em"):"B"===e.firstElementChild.tagName&&g(e.firstElementChild,"strong"));if(-1!==["SCRIPT","APPLET","EMBED","NOFRAMES","NOSCRIPT"].indexOf(n))return w(e),!1;for(var r=["META","LINK","XML","ST1:","O:","W:","FONT"],i=0;i<r.length;i++)if(-1!==n.indexOf(r[i]))return e.innerHTML&&(e.outerHTML=e.innerHTML),w(e),!1;if("TD"!==n){var o=e.getAttribute("class")||"MsoNormal";if(t&&o){for(var s=(o=C(o)).split(" "),l=0;l<s.length;l++){var c=[],d="."+s[l];c.push(d),c.push(a+d);for(var f=0;f<c.length;f++)t[c[f]]&&A(e,t[c[f]])}e.removeAttribute("class")}t&&t[a]&&A(e,t[a])}if(-1!==["P","H1","H2","H3","H4","H5","H6","PRE"].indexOf(n)&&((o=e.getAttribute("class"))&&(t&&t[n.toLowerCase()+"."+o]&&A(e,t[n.toLowerCase()+"."+o]),-1!==o.toLowerCase().indexOf("mso"))&&((o=(o=C(o)).replace(/[0-9a-z-_]*mso[0-9a-z-_]*/gi,""))?e.setAttribute("class",o):e.removeAttribute("class")),(o=e.getAttribute("style"))&&(o=o.match(/text-align:.+?[; "]{1,1}/gi))&&o[o.length-1].replace(/(text-align:.+?[; "]{1,1})/gi,"$1"),_(e)),"TR"===n&&h(e,t),"A"!==n||e.attributes.getNamedItem("href")||e.attributes.getNamedItem("name")||!e.innerHTML||(e.outerHTML=e.innerHTML),"A"==n&&e.getAttribute("href")&&e.querySelector("img"))for(var p=e.querySelectorAll("span"),u=0;u<p.length;u++)p[u].innerText||(p[u].outerHTML=p[u].innerHTML);return"TD"!==n&&"TH"!==n||e.innerHTML||(e.innerHTML="<br>"),e.getAttribute("lang")&&e.removeAttribute("lang"),e.getAttribute("style")&&-1!==e.getAttribute("style").toLowerCase().indexOf("mso")&&((o=(o=C(e.getAttribute("style"))).replace(/[0-9a-z-_]*mso[0-9a-z-_]*:.+?(;{1,1}|$)/gi,"").replace("line-height:107%",""))?e.setAttribute("style",o):e.removeAttribute("style")),!0}function s(e,t){for(var s=(e=(e=0<=e.indexOf("<html")?e.replace(/[.\s\S\w\W<>]*(<html[^>]*>[.\s\S\w\W<>]*<\/html>)[.\s\S\w\W<>]*/i,"$1"):e).replace(/&nbsp;/g," ")).match(/(MSFontService|class="?Mso|class='?Mso|class="?Xl|class='?Xl|class=Xl|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument|LibreOffice)/gi),n=e.split("v:shape"),a=1;a<n.length;a++){var r=n[a],i=r.split(' id="')[1];i&&1<i.length&&(i=i.split('"')[0],r=r.split(' o:spid="')[1])&&1<r.length&&(r=r.split('"')[0],f[i]=r)}var e=(new DOMParser).parseFromString(e,"text/html"),o=e.head,e=e.body,l=function(e){var t={};if((e=e.getElementsByTagName("style")).length){var n=e[0].innerHTML.match(/[\S ]+\s+{[\s\S]+?}/gi);if(n)for(var a=0;a<n.length;a++){var r=n[a],i=r.replace(/([\S ]+\s+){[\s\S]+?}/gi,"$1"),o=r.replace(/[\S ]+\s+{([\s\S]+?)}/gi,"$1"),i=i.replace(/^[\s]|[\s]$/gm,""),o=o.replace(/^[\s]|[\s]$/gm,"");i=i.replace(/\n|\r|\n\r/g,""),o=o.replace(/\n|\r|\n\r/g,"");for(var s=i.split(", "),l=0;l<s.length;l++)t[s[l]]=o}}return t}(o);L(e,function(e){var t;return e.nodeType===Node.ELEMENT_NODE&&e.hasAttribute("style")&&(t=e.getAttribute("style"),e.setAttribute("style",t),e.style.fontFamily||e.setAttribute("style",t.replace(/mso-(bidi|fareast|fareast-theme)-font-family/g,"font-family"))),!0}),L(e,function(e){if(e.nodeType===Node.TEXT_NODE&&/\n|\u00a0|\r/.test(e.data)){if(!/\S| /.test(e.data)&&!/[\u00a0]+/.test(e.data))return e.data===ct.UNICODE_NBSP?(e.data="\u200b",!0):1===e.data.length&&10===e.data.charCodeAt(0)?(e.data=" ",!0):(w(e),!1);e.data=e.data.replace(/\n|\r/gi," ")}return!0}),L(e,function(e){return e.nodeType!==Node.ELEMENT_NODE||"V:IMAGEDATA"!==e.tagName&&"IMG"!==e.tagName||v(e,t),!0});e.querySelectorAll('a[class*="msocomoff"]').forEach(function(e){var t=e.getAttribute("href").split("#_msoanchor_")[1];e.setAttribute("name","_msocom_".concat(t))}),R.browser.safari&&e.querySelectorAll('a[name^="_mso"]').forEach(function(e){var t=e.getAttribute("href");t&&(t=t.split("#")[1],e.setAttribute("href","#".concat(t)))});for(var c=e.querySelectorAll("ul > ul, ul > ol, ol > ul, ol > ol"),d=c.length-1;0<=d;d--)c[d].previousElementSibling&&"LI"===c[d].previousElementSibling.tagName&&c[d].previousElementSibling.appendChild(c[d]);L(e,function(e){if(e.nodeType===Node.TEXT_NODE)e.data=e.data.replace(/<br>(\n|\r)/gi,"<br>");else{var t,n,a,r,i;if(e.nodeType===Node.ELEMENT_NODE)return M(e)?(t=e.parentNode,r=e.previousSibling,n=P(e,l).el,a=null,(a=r?r.nextSibling:t.firstChild)?t.insertBefore(n,a):t.appendChild(n),!1):("FONT"===e.tagName&&(s&&"LibreOffice"===s[0]||l["."+e.getAttribute("class")])?e=g(e,"span"):s&&"\x3c!--StartFragment--\x3e"===s[0]&&"UL"===e.tagName&&(x(e).find("li span").each(function(){"&nbsp;"===x(this).html()&&(0<x(this).prev().text().trim().length?x(this).remove():x(this).html("&ZeroWidthSpace;"))}),x(e).is("ul")&&e.setAttribute("style",N(e,["margin","margin-left","list-style-type"])),x(e).find("ul").each(function(){this.setAttribute("style",N(this,["margin","margin-left","list-style-type"]))})),"img"!==e.tagName.toLowerCase()&&(i=e,Array.from(i.attributes).map(function(e){return e.name}).filter(function(e){return e.toLowerCase().startsWith("data-")||e.toLowerCase().startsWith("xml:")}).forEach(function(e){x(i).removeAttr(e)})),D(e,l));if(e.nodeType!==Node.COMMENT_NODE)return!0;if(-1<e.data.indexOf("[if !supportLineBreakNewLine]"))for(var o=e.nextSibling;o;)(o=e.nextSibling)&&w(o),o.data&&-1<o.data.indexOf("[endif]")&&(o=null);-1<e.data.indexOf("[if supportFields]")&&-1<e.data.indexOf("FORMCHECKBOX")&&((r=document.createElement("input")).type="checkbox",e.parentNode.insertBefore(r,e.nextSibling)),w(e)}return!1}),p=null,u={},L(e,function(e){if(e.nodeType===Node.ELEMENT_NODE&&"SPAN"===e.tagName){var t=e.innerHTML||"";if(""===(t=t.replace(/&nbsp;/g," ")).trim())return e.outerHTML=t,!1}return!0}),e.innerHTML=function(e){for(var t=x(document.createElement("div")).attr("id","top-level"),n=(t.html(e),t[0].querySelectorAll("ol, ul")),a=0;a<n.length;a++)if(x(n[a]).parentsUntil("#top-level","ol, ul").length){n[a].style.removeProperty("margin-left");for(var r=n[a].children,i=0;i<r.length;i++)"LI"==r[i].tagName&&r[i].style.removeProperty("margin-left")}return t[0].innerHTML}(e.innerHTML),L(e,function(e){if(e.nodeType===Node.ELEMENT_NODE){var t=e.tagName;if(!e.innerHTML&&-1===["BR","IMG","INPUT"].indexOf(t)){for(var n=e.parentNode;n&&(w(e),!(e=n).innerHTML)&&"TD"!==e.parentNode.tagName;)n=e.parentNode;return!1}var a=e,t=a.getAttribute("style");if(t){(t=C(t))&&";"!==t.slice(-1)&&(t+=";");var r=t.match(/(^|\S+?):.+?;{1,1}/gi);if(r){for(var i={},o=0;o<r.length;o++){var s=r[o].split(":");2!==s.length||"text-align"===s[0]&&"SPAN"===a.tagName||(i[s[0]]=s[1])}var l,c="";for(l in i)if(i.hasOwnProperty(l)){if("font-size"===l&&"pt;"===i[l].slice(-3)){var d,f=null;try{f=parseFloat(i[l].slice(0,-3),10)}catch(p){f=null}f&&("px"===(d=R.opts.fontSizeUnit)?(f=Math.round(1.33*f),i[l]=f+"px;"):"pt"===d&&(f=Math.round(f),i[l]=f+"pt;"))}c+=l+":"+i[l]}c&&a.setAttribute("style",c)}}}return!0}),L(e,function(e){if(e&&"A"===e.nodeName){if(e.hasAttribute("name")&&e.getAttribute("name").startsWith("_Toc")&&e.parentNode&&(e.parentNode.id=e.getAttribute("name")),""===e.href){for(var t=document.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e)}e.hasAttribute("href")&&e.getAttribute("href").startsWith("#_Toc")&&(e.removeChild(e.lastChild),e.removeChild(e.lastChild))}return!0}),L(e,function(e){return e&&"P"===e.tagName&&"DIV"===e.parentNode.tagName&&1==e.parentNode.children.length&&x(e).unwrap(),!0}),L(e,function(e){if(e&&"SPAN"===e.tagName)for(;e.nextSibling&&e.nextSibling.nodeType===Node.ELEMENT_NODE&&"SPAN"===e.nextSibling.tagName&&e.getAttribute("style")===e.nextSibling.getAttribute("style");)x(e).append(e.nextSibling.innerHTML),x(e.nextSibling).remove();return!0}),L(e,function(e){var t;return e.nodeType===Node.ELEMENT_NODE&&"BR"===e.tagName&&((t=e.getAttribute("style")||"").includes("page-break-before")||t.includes("page-break-after"))&&R.pageBreak.insert(e),!0});o=e.outerHTML,e=R.opts.htmlAllowedStyleProps;return R.opts.htmlAllowedStyleProps=R.opts.wordAllowedStyleProps,o=R.clean.html(o,R.opts.wordDeniedTags,R.opts.wordDeniedAttrs,!1),R.opts.htmlAllowedStyleProps=e,o}return{_init:function(){R.events.on("paste.wordPaste",function(e){var t;return a=e,R.opts.wordPasteModal?(n||(e='<h4><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 74.95 73.23" style="height: 25px; vertical-align: text-bottom; margin-right: 5px; display: inline-block"><defs><style>.a{fill:#2a5699;}.b{fill:#fff;}</style></defs><path class="a" d="M615.15,827.22h5.09V834c9.11.05,18.21-.09,27.32.05a2.93,2.93,0,0,1,3.29,3.25c.14,16.77,0,33.56.09,50.33-.09,1.72.17,3.63-.83,5.15-1.24.89-2.85.78-4.3.84-8.52,0-17,0-25.56,0v6.81h-5.32c-13-2.37-26-4.54-38.94-6.81q0-29.8,0-59.59c13.05-2.28,26.11-4.5,39.17-6.83Z" transform="translate(-575.97 -827.22)"/><path class="b" d="M620.24,836.59h28.1v54.49h-28.1v-6.81h22.14v-3.41H620.24v-4.26h22.14V873.2H620.24v-4.26h22.14v-3.41H620.24v-4.26h22.14v-3.41H620.24v-4.26h22.14v-3.41H620.24V846h22.14v-3.41H620.24Zm-26.67,15c1.62-.09,3.24-.16,4.85-.25,1.13,5.75,2.29,11.49,3.52,17.21,1-5.91,2-11.8,3.06-17.7,1.7-.06,3.41-.15,5.1-.26-1.92,8.25-3.61,16.57-5.71,24.77-1.42.74-3.55,0-5.24.09-1.13-5.64-2.45-11.24-3.47-16.9-1,5.5-2.29,10.95-3.43,16.42q-2.45-.13-4.92-.3c-1.41-7.49-3.07-14.93-4.39-22.44l4.38-.18c.88,5.42,1.87,10.82,2.64,16.25,1.2-5.57,2.43-11.14,3.62-16.71Z" transform="translate(-575.97 -827.22)"/></svg> '+R.language.translate("Word Paste Detected")+"</h4>",t=function(){var e='<div class="fr-word-paste-modal" style="padding: 20px 20px 10px 20px;">';return e=(e+='<p style="text-align: left;">'+R.language.translate("The pasted content is coming from a Microsoft Word document. Do you want to keep the format or clean it up?")+"</p>")+'<div style="text-align: right; margin-top: 50px;"><button class="fr-remove-word fr-command">'+R.language.translate("Clean")+'</button> <button class="fr-keep-word fr-command">'+R.language.translate("Keep")+"</button></div></div>"}(),e=R.modals.create(r,e,t),t=e.$body,(n=e.$modal).addClass("fr-middle"),R.events.bindClick(t,"button.fr-remove-word",function(){(n.data("instance")||R).wordPaste.clean()}),R.events.bindClick(t,"button.fr-keep-word",function(){(n.data("instance")||R).wordPaste.clean(!0)}),R.events.$on(x(R.o_win),"resize",function(){R.modals.resize(r)})),R.modals.show(r),R.modals.resize(r)):i(R.opts.wordPasteKeepFormatting),!1})},clean:i,_wordClean:s}};var A={},n={},f={},p=r(!0),u="vanilla",h={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:r(!0),allOn:function(){var e,t=r(!0),n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=!0);return n}()};function m(e,t){var n=t?"Error in "+t+" extension->":"Error in unnamed extension",a={valid:!0,error:""};A.helper.isArray(e)||(e=[e]);for(var r=0;r<e.length;++r){var i=n+" sub-extension "+r+": ",o=e[r];if("object"!==dt(o))return a.valid=!1,a.error=i+"must be an object, but "+dt(o)+" given",a;if(!A.helper.isString(o.type))return a.valid=!1,a.error=i+'property "type" must be a string, but '+dt(o.type)+" given",a;var s=o.type=o.type.toLowerCase();if("lang"!==(s="html"===(s="language"===s?o.type="lang":s)?o.type="output":s)&&"output"!==s&&"listener"!==s)return a.valid=!1,a.error=i+"type "+s+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',a;if("listener"===s){if(A.helper.isUndefined(o.listeners))return a.valid=!1,a.error=i+'. Extensions of type "listener" must have a property called "listeners"',a}else if(A.helper.isUndefined(o.filter)&&A.helper.isUndefined(o.regex))return a.valid=!1,a.error=i+s+' extensions must define either a "regex" property or a "filter" method',a;if(o.listeners){if("object"!==dt(o.listeners))return a.valid=!1,a.error=i+'"listeners" property must be an object but '+dt(o.listeners)+" given",a;for(var l in o.listeners)if(o.listeners.hasOwnProperty(l)&&"function"!=typeof o.listeners[l])return a.valid=!1,a.error=i+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+l+" must be a function but "+dt(o.listeners[l])+" given",a}if(o.filter){if("function"!=typeof o.filter)return a.valid=!1,a.error=i+'"filter" must be a function, but '+dt(o.filter)+" given",a}else if(o.regex){if(A.helper.isString(o.regex)&&(o.regex=new RegExp(o.regex,"g")),!(o.regex instanceof RegExp))return a.valid=!1,a.error=i+'"regex" property must either be a string or a RegExp object, but '+dt(o.regex)+" given",a;if(A.helper.isUndefined(o.replace))return a.valid=!1,a.error=i+'"regex" extensions must implement a replace string or function',a}}return a}function i(e,t){return"\xa8E"+t.charCodeAt(0)+"E"}A.helper={},A.extensions={},A.setOption=function(e,t){return p[e]=t,this},A.getOption=function(e){return p[e]},A.getOptions=function(){return p},A.resetOptions=function(){p=r(!0)},A.setFlavor=function(e){if(!h.hasOwnProperty(e))throw Error(e+" flavor was not found");A.resetOptions();var t,n=h[e];for(t in u=e,n)n.hasOwnProperty(t)&&(p[t]=n[t])},A.getFlavor=function(){return u},A.getFlavorOptions=function(e){if(h.hasOwnProperty(e))return h[e]},A.getDefaultOptions=r,A.subParser=function(e,t){if(A.helper.isString(e)){if(void 0===t){if(n.hasOwnProperty(e))return n[e];throw Error("SubParser named "+e+" not registered!")}n[e]=t}},A.extension=function(e,t){if(!A.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=A.helper.stdExtName(e),A.helper.isUndefined(t)){if(f.hasOwnProperty(e))return f[e];throw Error("Extension named "+e+" is not registered!")}"function"==typeof t&&(t=t());var n=m(t=A.helper.isArray(t)?t:[t],e);if(!n.valid)throw Error(n.error);f[e]=t},A.getAllExtensions=function(){return f},A.removeExtension=function(e){delete f[e]},A.resetExtensions=function(){f={}},A.validateExtension=function(e){e=m(e,null);return!!e.valid},A.hasOwnProperty("helper")||(A.helper={}),A.helper.isString=function(e){return"string"==typeof e||e instanceof String},A.helper.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},A.helper.isArray=function(e){return Array.isArray(e)},A.helper.isUndefined=function(e){return void 0===e},A.helper.forEach=function(e,t){if(A.helper.isUndefined(e))throw new Error("obj param is required");if(A.helper.isUndefined(t))throw new Error("callback param is required");if(!A.helper.isFunction(t))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(t);else if(A.helper.isArray(e))for(var n=0;n<e.length;n++)t(e[n],n,e);else{if("object"!==dt(e))throw new Error("obj does not seem to be an array or an iterable object");for(var a in e)e.hasOwnProperty(a)&&t(e[a],a,e)}},A.helper.stdExtName=function(e){return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},A.helper.escapeCharactersCallback=i,A.helper.escapeCharacters=function(e,t,n){t="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])",n&&(t="\\\\"+t),n=new RegExp(t,"g");return e=e.replace(n,i)},A.helper.unescapeHTMLEntities=function(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var x,L,v=function v(e,t,n,a){var r,i,o,a=a||"",s=-1<a.indexOf("g"),l=new RegExp(t+"|"+n,"g"+a.replace(/g/g,"")),c=new RegExp(t,a.replace(/g/g,"")),d=[];do{for(r=0;p=l.exec(e);)if(c.test(p[0]))r++||(o=(i=l.lastIndex)-p[0].length);else if(r&&!--r){var f=p.index+p[0].length,p={left:{start:o,end:i},match:{start:i,end:p.index},right:{start:p.index,end:f},wholeMatch:{start:o,end:f}};if(d.push(p),!s)return d}}while(r&&(l.lastIndex=i));return d},o=(A.helper.matchRecursiveRegExp=function(e,t,n,a){for(var r=v(e,t,n,a),i=[],o=0;o<r.length;++o)i.push([e.slice(r[o].wholeMatch.start,r[o].wholeMatch.end),e.slice(r[o].match.start,r[o].match.end),e.slice(r[o].left.start,r[o].left.end),e.slice(r[o].right.start,r[o].right.end)]);return i},A.helper.replaceRecursiveRegExp=function(e,t,n,a,r){A.helper.isFunction(t)||(i=t,t=function t(){return i});var i,o=v(e,n,a,r),n=e,s=o.length;if(0<s){var l=[];0!==o[0].wholeMatch.start&&l.push(e.slice(0,o[0].wholeMatch.start));for(var c=0;c<s;++c)l.push(t(e.slice(o[c].wholeMatch.start,o[c].wholeMatch.end),e.slice(o[c].match.start,o[c].match.end),e.slice(o[c].left.start,o[c].left.end),e.slice(o[c].right.start,o[c].right.end))),c<s-1&&l.push(e.slice(o[c].wholeMatch.end,o[c+1].wholeMatch.start));o[s-1].wholeMatch.end<e.length&&l.push(e.slice(o[s-1].wholeMatch.end)),n=l.join("")}return n},A.helper.regexIndexOf=function(e,t,n){if(!A.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(t instanceof RegExp==!1)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";e=e.substring(n||0).search(t);return 0<=e?e+(n||0):e},A.helper.splitAtIndex=function(e,t){if(A.helper.isString(e))return[e.substring(0,t),e.substring(t)];throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string"},A.helper.encodeEmailAddress=function(e){var n=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e=e.replace(/./g,function(e){var t;return e="@"===e?n[Math.floor(2*Math.random())](e):.9<(t=Math.random())?n[2](e):.45<t?n[1](e):n[0](e)})},A.helper.padEnd=function(e,t,n){return t>>=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),String(e)+n.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){alert(e)},log:function(e){alert(e)},error:function(e){throw e}}),A.helper.regexes={asteriskDashAndColon:/([*_:~])/g},A.helper.emojis={"+1":"\ud83d\udc4d","-1":"\ud83d\udc4e",100:"\ud83d\udcaf",1234:"\ud83d\udd22","1st_place_medal":"\ud83e\udd47","2nd_place_medal":"\ud83e\udd48","3rd_place_medal":"\ud83e\udd49","8ball":"\ud83c\udfb1",a:"\ud83c\udd70\ufe0f",ab:"\ud83c\udd8e",abc:"\ud83d\udd24",abcd:"\ud83d\udd21",accept:"\ud83c\ude51",aerial_tramway:"\ud83d\udea1",airplane:"\u2708\ufe0f",alarm_clock:"\u23f0",alembic:"\u2697\ufe0f",alien:"\ud83d\udc7d",ambulance:"\ud83d\ude91",amphora:"\ud83c\udffa",anchor:"\u2693\ufe0f",angel:"\ud83d\udc7c",anger:"\ud83d\udca2",angry:"\ud83d\ude20",anguished:"\ud83d\ude27",ant:"\ud83d\udc1c",apple:"\ud83c\udf4e",aquarius:"\u2652\ufe0f",aries:"\u2648\ufe0f",arrow_backward:"\u25c0\ufe0f",arrow_double_down:"\u23ec",arrow_double_up:"\u23eb",arrow_down:"\u2b07\ufe0f",arrow_down_small:"\ud83d\udd3d",arrow_forward:"\u25b6\ufe0f",arrow_heading_down:"\u2935\ufe0f",arrow_heading_up:"\u2934\ufe0f",arrow_left:"\u2b05\ufe0f",arrow_lower_left:"\u2199\ufe0f",arrow_lower_right:"\u2198\ufe0f",arrow_right:"\u27a1\ufe0f",arrow_right_hook:"\u21aa\ufe0f",arrow_up:"\u2b06\ufe0f",arrow_up_down:"\u2195\ufe0f",arrow_up_small:"\ud83d\udd3c",arrow_upper_left:"\u2196\ufe0f",arrow_upper_right:"\u2197\ufe0f",arrows_clockwise:"\ud83d\udd03",arrows_counterclockwise:"\ud83d\udd04",art:"\ud83c\udfa8",articulated_lorry:"\ud83d\ude9b",artificial_satellite:"\ud83d\udef0",astonished:"\ud83d\ude32",athletic_shoe:"\ud83d\udc5f",atm:"\ud83c\udfe7",atom_symbol:"\u269b\ufe0f",avocado:"\ud83e\udd51",b:"\ud83c\udd71\ufe0f",baby:"\ud83d\udc76",baby_bottle:"\ud83c\udf7c",baby_chick:"\ud83d\udc24",baby_symbol:"\ud83d\udebc",back:"\ud83d\udd19",bacon:"\ud83e\udd53",badminton:"\ud83c\udff8",baggage_claim:"\ud83d\udec4",baguette_bread:"\ud83e\udd56",balance_scale:"\u2696\ufe0f",balloon:"\ud83c\udf88",ballot_box:"\ud83d\uddf3",ballot_box_with_check:"\u2611\ufe0f",bamboo:"\ud83c\udf8d",banana:"\ud83c\udf4c",bangbang:"\u203c\ufe0f",bank:"\ud83c\udfe6",bar_chart:"\ud83d\udcca",barber:"\ud83d\udc88",baseball:"\u26be\ufe0f",basketball:"\ud83c\udfc0",basketball_man:"\u26f9\ufe0f",basketball_woman:"\u26f9\ufe0f&zwj;\u2640\ufe0f",bat:"\ud83e\udd87",bath:"\ud83d\udec0",bathtub:"\ud83d\udec1",battery:"\ud83d\udd0b",beach_umbrella:"\ud83c\udfd6",bear:"\ud83d\udc3b",bed:"\ud83d\udecf",bee:"\ud83d\udc1d",beer:"\ud83c\udf7a",beers:"\ud83c\udf7b",beetle:"\ud83d\udc1e",beginner:"\ud83d\udd30",bell:"\ud83d\udd14",bellhop_bell:"\ud83d\udece",bento:"\ud83c\udf71",biking_man:"\ud83d\udeb4",bike:"\ud83d\udeb2",biking_woman:"\ud83d\udeb4&zwj;\u2640\ufe0f",bikini:"\ud83d\udc59",biohazard:"\u2623\ufe0f",bird:"\ud83d\udc26",birthday:"\ud83c\udf82",black_circle:"\u26ab\ufe0f",black_flag:"\ud83c\udff4",black_heart:"\ud83d\udda4",black_joker:"\ud83c\udccf",black_large_square:"\u2b1b\ufe0f",black_medium_small_square:"\u25fe\ufe0f",black_medium_square:"\u25fc\ufe0f",black_nib:"\u2712\ufe0f",black_small_square:"\u25aa\ufe0f",black_square_button:"\ud83d\udd32",blonde_man:"\ud83d\udc71",blonde_woman:"\ud83d\udc71&zwj;\u2640\ufe0f",blossom:"\ud83c\udf3c",blowfish:"\ud83d\udc21",blue_book:"\ud83d\udcd8",blue_car:"\ud83d\ude99",blue_heart:"\ud83d\udc99",blush:"\ud83d\ude0a",boar:"\ud83d\udc17",boat:"\u26f5\ufe0f",bomb:"\ud83d\udca3",book:"\ud83d\udcd6",bookmark:"\ud83d\udd16",bookmark_tabs:"\ud83d\udcd1",books:"\ud83d\udcda",boom:"\ud83d\udca5",boot:"\ud83d\udc62",bouquet:"\ud83d\udc90",bowing_man:"\ud83d\ude47",bow_and_arrow:"\ud83c\udff9",bowing_woman:"\ud83d\ude47&zwj;\u2640\ufe0f",bowling:"\ud83c\udfb3",boxing_glove:"\ud83e\udd4a",boy:"\ud83d\udc66",bread:"\ud83c\udf5e",bride_with_veil:"\ud83d\udc70",bridge_at_night:"\ud83c\udf09",briefcase:"\ud83d\udcbc",broken_heart:"\ud83d\udc94",bug:"\ud83d\udc1b",building_construction:"\ud83c\udfd7",bulb:"\ud83d\udca1",bullettrain_front:"\ud83d\ude85",bullettrain_side:"\ud83d\ude84",burrito:"\ud83c\udf2f",bus:"\ud83d\ude8c",business_suit_levitating:"\ud83d\udd74",busstop:"\ud83d\ude8f",bust_in_silhouette:"\ud83d\udc64",busts_in_silhouette:"\ud83d\udc65",butterfly:"\ud83e\udd8b",cactus:"\ud83c\udf35",cake:"\ud83c\udf70",calendar:"\ud83d\udcc6",call_me_hand:"\ud83e\udd19",calling:"\ud83d\udcf2",camel:"\ud83d\udc2b",camera:"\ud83d\udcf7",camera_flash:"\ud83d\udcf8",camping:"\ud83c\udfd5",cancer:"\u264b\ufe0f",candle:"\ud83d\udd6f",candy:"\ud83c\udf6c",canoe:"\ud83d\udef6",capital_abcd:"\ud83d\udd20",capricorn:"\u2651\ufe0f",car:"\ud83d\ude97",card_file_box:"\ud83d\uddc3",card_index:"\ud83d\udcc7",card_index_dividers:"\ud83d\uddc2",carousel_horse:"\ud83c\udfa0",carrot:"\ud83e\udd55",cat:"\ud83d\udc31",cat2:"\ud83d\udc08",cd:"\ud83d\udcbf",chains:"\u26d3",champagne:"\ud83c\udf7e",chart:"\ud83d\udcb9",chart_with_downwards_trend:"\ud83d\udcc9",chart_with_upwards_trend:"\ud83d\udcc8",checkered_flag:"\ud83c\udfc1",cheese:"\ud83e\uddc0",cherries:"\ud83c\udf52",cherry_blossom:"\ud83c\udf38",chestnut:"\ud83c\udf30",chicken:"\ud83d\udc14",children_crossing:"\ud83d\udeb8",chipmunk:"\ud83d\udc3f",chocolate_bar:"\ud83c\udf6b",christmas_tree:"\ud83c\udf84",church:"\u26ea\ufe0f",cinema:"\ud83c\udfa6",circus_tent:"\ud83c\udfaa",city_sunrise:"\ud83c\udf07",city_sunset:"\ud83c\udf06",cityscape:"\ud83c\udfd9",cl:"\ud83c\udd91",clamp:"\ud83d\udddc",clap:"\ud83d\udc4f",clapper:"\ud83c\udfac",classical_building:"\ud83c\udfdb",clinking_glasses:"\ud83e\udd42",clipboard:"\ud83d\udccb",clock1:"\ud83d\udd50",clock10:"\ud83d\udd59",clock1030:"\ud83d\udd65",clock11:"\ud83d\udd5a",clock1130:"\ud83d\udd66",clock12:"\ud83d\udd5b",clock1230:"\ud83d\udd67",clock130:"\ud83d\udd5c",clock2:"\ud83d\udd51",clock230:"\ud83d\udd5d",clock3:"\ud83d\udd52",clock330:"\ud83d\udd5e",clock4:"\ud83d\udd53",clock430:"\ud83d\udd5f",clock5:"\ud83d\udd54",clock530:"\ud83d\udd60",clock6:"\ud83d\udd55",clock630:"\ud83d\udd61",clock7:"\ud83d\udd56",clock730:"\ud83d\udd62",clock8:"\ud83d\udd57",clock830:"\ud83d\udd63",clock9:"\ud83d\udd58",clock930:"\ud83d\udd64",closed_book:"\ud83d\udcd5",closed_lock_with_key:"\ud83d\udd10",closed_umbrella:"\ud83c\udf02",cloud:"\u2601\ufe0f",cloud_with_lightning:"\ud83c\udf29",cloud_with_lightning_and_rain:"\u26c8",cloud_with_rain:"\ud83c\udf27",cloud_with_snow:"\ud83c\udf28",clown_face:"\ud83e\udd21",clubs:"\u2663\ufe0f",cocktail:"\ud83c\udf78",coffee:"\u2615\ufe0f",coffin:"\u26b0\ufe0f",cold_sweat:"\ud83d\ude30",comet:"\u2604\ufe0f",computer:"\ud83d\udcbb",computer_mouse:"\ud83d\uddb1",confetti_ball:"\ud83c\udf8a",confounded:"\ud83d\ude16",confused:"\ud83d\ude15",congratulations:"\u3297\ufe0f",construction:"\ud83d\udea7",construction_worker_man:"\ud83d\udc77",construction_worker_woman:"\ud83d\udc77&zwj;\u2640\ufe0f",control_knobs:"\ud83c\udf9b",convenience_store:"\ud83c\udfea",cookie:"\ud83c\udf6a",cool:"\ud83c\udd92",policeman:"\ud83d\udc6e",copyright:"\xa9\ufe0f",corn:"\ud83c\udf3d",couch_and_lamp:"\ud83d\udecb",couple:"\ud83d\udc6b",couple_with_heart_woman_man:"\ud83d\udc91",couple_with_heart_man_man:"\ud83d\udc68&zwj;\u2764\ufe0f&zwj;\ud83d\udc68",couple_with_heart_woman_woman:"\ud83d\udc69&zwj;\u2764\ufe0f&zwj;\ud83d\udc69",couplekiss_man_man:"\ud83d\udc68&zwj;\u2764\ufe0f&zwj;\ud83d\udc8b&zwj;\ud83d\udc68",couplekiss_man_woman:"\ud83d\udc8f",couplekiss_woman_woman:"\ud83d\udc69&zwj;\u2764\ufe0f&zwj;\ud83d\udc8b&zwj;\ud83d\udc69",cow:"\ud83d\udc2e",cow2:"\ud83d\udc04",cowboy_hat_face:"\ud83e\udd20",crab:"\ud83e\udd80",crayon:"\ud83d\udd8d",credit_card:"\ud83d\udcb3",crescent_moon:"\ud83c\udf19",cricket:"\ud83c\udfcf",crocodile:"\ud83d\udc0a",croissant:"\ud83e\udd50",crossed_fingers:"\ud83e\udd1e",crossed_flags:"\ud83c\udf8c",crossed_swords:"\u2694\ufe0f",crown:"\ud83d\udc51",cry:"\ud83d\ude22",crying_cat_face:"\ud83d\ude3f",crystal_ball:"\ud83d\udd2e",cucumber:"\ud83e\udd52",cupid:"\ud83d\udc98",curly_loop:"\u27b0",currency_exchange:"\ud83d\udcb1",curry:"\ud83c\udf5b",custard:"\ud83c\udf6e",customs:"\ud83d\udec3",cyclone:"\ud83c\udf00",dagger:"\ud83d\udde1",dancer:"\ud83d\udc83",dancing_women:"\ud83d\udc6f",dancing_men:"\ud83d\udc6f&zwj;\u2642\ufe0f",dango:"\ud83c\udf61",dark_sunglasses:"\ud83d\udd76",dart:"\ud83c\udfaf",dash:"\ud83d\udca8",date:"\ud83d\udcc5",deciduous_tree:"\ud83c\udf33",deer:"\ud83e\udd8c",department_store:"\ud83c\udfec",derelict_house:"\ud83c\udfda",desert:"\ud83c\udfdc",desert_island:"\ud83c\udfdd",desktop_computer:"\ud83d\udda5",male_detective:"\ud83d\udd75\ufe0f",diamond_shape_with_a_dot_inside:"\ud83d\udca0",diamonds:"\u2666\ufe0f",disappointed:"\ud83d\ude1e",disappointed_relieved:"\ud83d\ude25",dizzy:"\ud83d\udcab",dizzy_face:"\ud83d\ude35",do_not_litter:"\ud83d\udeaf",dog:"\ud83d\udc36",dog2:"\ud83d\udc15",dollar:"\ud83d\udcb5",dolls:"\ud83c\udf8e",dolphin:"\ud83d\udc2c",door:"\ud83d\udeaa",doughnut:"\ud83c\udf69",dove:"\ud83d\udd4a",dragon:"\ud83d\udc09",dragon_face:"\ud83d\udc32",dress:"\ud83d\udc57",dromedary_camel:"\ud83d\udc2a",drooling_face:"\ud83e\udd24",droplet:"\ud83d\udca7",drum:"\ud83e\udd41",duck:"\ud83e\udd86",dvd:"\ud83d\udcc0","e-mail":"\ud83d\udce7",eagle:"\ud83e\udd85",ear:"\ud83d\udc42",ear_of_rice:"\ud83c\udf3e",earth_africa:"\ud83c\udf0d",earth_americas:"\ud83c\udf0e",earth_asia:"\ud83c\udf0f",egg:"\ud83e\udd5a",eggplant:"\ud83c\udf46",eight_pointed_black_star:"\u2734\ufe0f",eight_spoked_asterisk:"\u2733\ufe0f",electric_plug:"\ud83d\udd0c",elephant:"\ud83d\udc18",email:"\u2709\ufe0f",end:"\ud83d\udd1a",envelope_with_arrow:"\ud83d\udce9",euro:"\ud83d\udcb6",european_castle:"\ud83c\udff0",european_post_office:"\ud83c\udfe4",evergreen_tree:"\ud83c\udf32",exclamation:"\u2757\ufe0f",expressionless:"\ud83d\ude11",eye:"\ud83d\udc41",eye_speech_bubble:"\ud83d\udc41&zwj;\ud83d\udde8",eyeglasses:"\ud83d\udc53",eyes:"\ud83d\udc40",face_with_head_bandage:"\ud83e\udd15",face_with_thermometer:"\ud83e\udd12",fist_oncoming:"\ud83d\udc4a",factory:"\ud83c\udfed",fallen_leaf:"\ud83c\udf42",family_man_woman_boy:"\ud83d\udc6a",family_man_boy:"\ud83d\udc68&zwj;\ud83d\udc66",family_man_boy_boy:"\ud83d\udc68&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_man_girl:"\ud83d\udc68&zwj;\ud83d\udc67",family_man_girl_boy:"\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_man_girl_girl:"\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc67",family_man_man_boy:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc66",family_man_man_boy_boy:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_man_man_girl:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67",family_man_man_girl_boy:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_man_man_girl_girl:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc67",family_man_woman_boy_boy:"\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_man_woman_girl:"\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67",family_man_woman_girl_boy:"\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_man_woman_girl_girl:"\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67",family_woman_boy:"\ud83d\udc69&zwj;\ud83d\udc66",family_woman_boy_boy:"\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_woman_girl:"\ud83d\udc69&zwj;\ud83d\udc67",family_woman_girl_boy:"\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_woman_girl_girl:"\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67",family_woman_woman_boy:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc66",family_woman_woman_boy_boy:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_woman_woman_girl:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67",family_woman_woman_girl_boy:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_woman_woman_girl_girl:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67",fast_forward:"\u23e9",fax:"\ud83d\udce0",fearful:"\ud83d\ude28",feet:"\ud83d\udc3e",female_detective:"\ud83d\udd75\ufe0f&zwj;\u2640\ufe0f",ferris_wheel:"\ud83c\udfa1",ferry:"\u26f4",field_hockey:"\ud83c\udfd1",file_cabinet:"\ud83d\uddc4",file_folder:"\ud83d\udcc1",film_projector:"\ud83d\udcfd",film_strip:"\ud83c\udf9e",fire:"\ud83d\udd25",fire_engine:"\ud83d\ude92",fireworks:"\ud83c\udf86",first_quarter_moon:"\ud83c\udf13",first_quarter_moon_with_face:"\ud83c\udf1b",fish:"\ud83d\udc1f",fish_cake:"\ud83c\udf65",fishing_pole_and_fish:"\ud83c\udfa3",fist_raised:"\u270a",fist_left:"\ud83e\udd1b",fist_right:"\ud83e\udd1c",flags:"\ud83c\udf8f",flashlight:"\ud83d\udd26",fleur_de_lis:"\u269c\ufe0f",flight_arrival:"\ud83d\udeec",flight_departure:"\ud83d\udeeb",floppy_disk:"\ud83d\udcbe",flower_playing_cards:"\ud83c\udfb4",flushed:"\ud83d\ude33",fog:"\ud83c\udf2b",foggy:"\ud83c\udf01",football:"\ud83c\udfc8",footprints:"\ud83d\udc63",fork_and_knife:"\ud83c\udf74",fountain:"\u26f2\ufe0f",fountain_pen:"\ud83d\udd8b",four_leaf_clover:"\ud83c\udf40",fox_face:"\ud83e\udd8a",framed_picture:"\ud83d\uddbc",free:"\ud83c\udd93",fried_egg:"\ud83c\udf73",fried_shrimp:"\ud83c\udf64",fries:"\ud83c\udf5f",frog:"\ud83d\udc38",frowning:"\ud83d\ude26",frowning_face:"\u2639\ufe0f",frowning_man:"\ud83d\ude4d&zwj;\u2642\ufe0f",frowning_woman:"\ud83d\ude4d",middle_finger:"\ud83d\udd95",fuelpump:"\u26fd\ufe0f",full_moon:"\ud83c\udf15",full_moon_with_face:"\ud83c\udf1d",funeral_urn:"\u26b1\ufe0f",game_die:"\ud83c\udfb2",gear:"\u2699\ufe0f",gem:"\ud83d\udc8e",gemini:"\u264a\ufe0f",ghost:"\ud83d\udc7b",gift:"\ud83c\udf81",gift_heart:"\ud83d\udc9d",girl:"\ud83d\udc67",globe_with_meridians:"\ud83c\udf10",goal_net:"\ud83e\udd45",goat:"\ud83d\udc10",golf:"\u26f3\ufe0f",golfing_man:"\ud83c\udfcc\ufe0f",golfing_woman:"\ud83c\udfcc\ufe0f&zwj;\u2640\ufe0f",gorilla:"\ud83e\udd8d",grapes:"\ud83c\udf47",green_apple:"\ud83c\udf4f",green_book:"\ud83d\udcd7",green_heart:"\ud83d\udc9a",green_salad:"\ud83e\udd57",grey_exclamation:"\u2755",grey_question:"\u2754",grimacing:"\ud83d\ude2c",grin:"\ud83d\ude01",grinning:"\ud83d\ude00",guardsman:"\ud83d\udc82",guardswoman:"\ud83d\udc82&zwj;\u2640\ufe0f",guitar:"\ud83c\udfb8",gun:"\ud83d\udd2b",haircut_woman:"\ud83d\udc87",haircut_man:"\ud83d\udc87&zwj;\u2642\ufe0f",hamburger:"\ud83c\udf54",hammer:"\ud83d\udd28",hammer_and_pick:"\u2692",hammer_and_wrench:"\ud83d\udee0",hamster:"\ud83d\udc39",hand:"\u270b",handbag:"\ud83d\udc5c",handshake:"\ud83e\udd1d",hankey:"\ud83d\udca9",hatched_chick:"\ud83d\udc25",hatching_chick:"\ud83d\udc23",headphones:"\ud83c\udfa7",hear_no_evil:"\ud83d\ude49",heart:"\u2764\ufe0f",heart_decoration:"\ud83d\udc9f",heart_eyes:"\ud83d\ude0d",heart_eyes_cat:"\ud83d\ude3b",heartbeat:"\ud83d\udc93",heartpulse:"\ud83d\udc97",hearts:"\u2665\ufe0f",heavy_check_mark:"\u2714\ufe0f",heavy_division_sign:"\u2797",heavy_dollar_sign:"\ud83d\udcb2",heavy_heart_exclamation:"\u2763\ufe0f",heavy_minus_sign:"\u2796",heavy_multiplication_x:"\u2716\ufe0f",heavy_plus_sign:"\u2795",helicopter:"\ud83d\ude81",herb:"\ud83c\udf3f",hibiscus:"\ud83c\udf3a",high_brightness:"\ud83d\udd06",high_heel:"\ud83d\udc60",hocho:"\ud83d\udd2a",hole:"\ud83d\udd73",honey_pot:"\ud83c\udf6f",horse:"\ud83d\udc34",horse_racing:"\ud83c\udfc7",hospital:"\ud83c\udfe5",hot_pepper:"\ud83c\udf36",hotdog:"\ud83c\udf2d",hotel:"\ud83c\udfe8",hotsprings:"\u2668\ufe0f",hourglass:"\u231b\ufe0f",hourglass_flowing_sand:"\u23f3",house:"\ud83c\udfe0",house_with_garden:"\ud83c\udfe1",houses:"\ud83c\udfd8",hugs:"\ud83e\udd17",hushed:"\ud83d\ude2f",ice_cream:"\ud83c\udf68",ice_hockey:"\ud83c\udfd2",ice_skate:"\u26f8",icecream:"\ud83c\udf66",id:"\ud83c\udd94",ideograph_advantage:"\ud83c\ude50",imp:"\ud83d\udc7f",inbox_tray:"\ud83d\udce5",incoming_envelope:"\ud83d\udce8",tipping_hand_woman:"\ud83d\udc81",information_source:"\u2139\ufe0f",innocent:"\ud83d\ude07",interrobang:"\u2049\ufe0f",iphone:"\ud83d\udcf1",izakaya_lantern:"\ud83c\udfee",jack_o_lantern:"\ud83c\udf83",japan:"\ud83d\uddfe",japanese_castle:"\ud83c\udfef",japanese_goblin:"\ud83d\udc7a",japanese_ogre:"\ud83d\udc79",jeans:"\ud83d\udc56",joy:"\ud83d\ude02",joy_cat:"\ud83d\ude39",joystick:"\ud83d\udd79",kaaba:"\ud83d\udd4b",key:"\ud83d\udd11",keyboard:"\u2328\ufe0f",keycap_ten:"\ud83d\udd1f",kick_scooter:"\ud83d\udef4",kimono:"\ud83d\udc58",kiss:"\ud83d\udc8b",kissing:"\ud83d\ude17",kissing_cat:"\ud83d\ude3d",kissing_closed_eyes:"\ud83d\ude1a",kissing_heart:"\ud83d\ude18",kissing_smiling_eyes:"\ud83d\ude19",kiwi_fruit:"\ud83e\udd5d",koala:"\ud83d\udc28",koko:"\ud83c\ude01",label:"\ud83c\udff7",large_blue_circle:"\ud83d\udd35",large_blue_diamond:"\ud83d\udd37",large_orange_diamond:"\ud83d\udd36",last_quarter_moon:"\ud83c\udf17",last_quarter_moon_with_face:"\ud83c\udf1c",latin_cross:"\u271d\ufe0f",laughing:"\ud83d\ude06",leaves:"\ud83c\udf43",ledger:"\ud83d\udcd2",left_luggage:"\ud83d\udec5",left_right_arrow:"\u2194\ufe0f",leftwards_arrow_with_hook:"\u21a9\ufe0f",lemon:"\ud83c\udf4b",leo:"\u264c\ufe0f",leopard:"\ud83d\udc06",level_slider:"\ud83c\udf9a",libra:"\u264e\ufe0f",light_rail:"\ud83d\ude88",link:"\ud83d\udd17",lion:"\ud83e\udd81",lips:"\ud83d\udc44",lipstick:"\ud83d\udc84",lizard:"\ud83e\udd8e",lock:"\ud83d\udd12",lock_with_ink_pen:"\ud83d\udd0f",lollipop:"\ud83c\udf6d",loop:"\u27bf",loud_sound:"\ud83d\udd0a",loudspeaker:"\ud83d\udce2",love_hotel:"\ud83c\udfe9",love_letter:"\ud83d\udc8c",low_brightness:"\ud83d\udd05",lying_face:"\ud83e\udd25",m:"\u24c2\ufe0f",mag:"\ud83d\udd0d",mag_right:"\ud83d\udd0e",mahjong:"\ud83c\udc04\ufe0f",mailbox:"\ud83d\udceb",mailbox_closed:"\ud83d\udcea",mailbox_with_mail:"\ud83d\udcec",mailbox_with_no_mail:"\ud83d\udced",man:"\ud83d\udc68",man_artist:"\ud83d\udc68&zwj;\ud83c\udfa8",man_astronaut:"\ud83d\udc68&zwj;\ud83d\ude80",man_cartwheeling:"\ud83e\udd38&zwj;\u2642\ufe0f",man_cook:"\ud83d\udc68&zwj;\ud83c\udf73",man_dancing:"\ud83d\udd7a",man_facepalming:"\ud83e\udd26&zwj;\u2642\ufe0f",man_factory_worker:"\ud83d\udc68&zwj;\ud83c\udfed",man_farmer:"\ud83d\udc68&zwj;\ud83c\udf3e",man_firefighter:"\ud83d\udc68&zwj;\ud83d\ude92",man_health_worker:"\ud83d\udc68&zwj;\u2695\ufe0f",man_in_tuxedo:"\ud83e\udd35",man_judge:"\ud83d\udc68&zwj;\u2696\ufe0f",man_juggling:"\ud83e\udd39&zwj;\u2642\ufe0f",man_mechanic:"\ud83d\udc68&zwj;\ud83d\udd27",man_office_worker:"\ud83d\udc68&zwj;\ud83d\udcbc",man_pilot:"\ud83d\udc68&zwj;\u2708\ufe0f",man_playing_handball:"\ud83e\udd3e&zwj;\u2642\ufe0f",man_playing_water_polo:"\ud83e\udd3d&zwj;\u2642\ufe0f",man_scientist:"\ud83d\udc68&zwj;\ud83d\udd2c",man_shrugging:"\ud83e\udd37&zwj;\u2642\ufe0f",man_singer:"\ud83d\udc68&zwj;\ud83c\udfa4",man_student:"\ud83d\udc68&zwj;\ud83c\udf93",man_teacher:"\ud83d\udc68&zwj;\ud83c\udfeb",man_technologist:"\ud83d\udc68&zwj;\ud83d\udcbb",man_with_gua_pi_mao:"\ud83d\udc72",man_with_turban:"\ud83d\udc73",tangerine:"\ud83c\udf4a",mans_shoe:"\ud83d\udc5e",mantelpiece_clock:"\ud83d\udd70",maple_leaf:"\ud83c\udf41",martial_arts_uniform:"\ud83e\udd4b",mask:"\ud83d\ude37",massage_woman:"\ud83d\udc86",massage_man:"\ud83d\udc86&zwj;\u2642\ufe0f",meat_on_bone:"\ud83c\udf56",medal_military:"\ud83c\udf96",medal_sports:"\ud83c\udfc5",mega:"\ud83d\udce3",melon:"\ud83c\udf48",memo:"\ud83d\udcdd",men_wrestling:"\ud83e\udd3c&zwj;\u2642\ufe0f",menorah:"\ud83d\udd4e",mens:"\ud83d\udeb9",metal:"\ud83e\udd18",metro:"\ud83d\ude87",microphone:"\ud83c\udfa4",microscope:"\ud83d\udd2c",milk_glass:"\ud83e\udd5b",milky_way:"\ud83c\udf0c",minibus:"\ud83d\ude90",minidisc:"\ud83d\udcbd",mobile_phone_off:"\ud83d\udcf4",money_mouth_face:"\ud83e\udd11",money_with_wings:"\ud83d\udcb8",moneybag:"\ud83d\udcb0",monkey:"\ud83d\udc12",monkey_face:"\ud83d\udc35",monorail:"\ud83d\ude9d",moon:"\ud83c\udf14",mortar_board:"\ud83c\udf93",mosque:"\ud83d\udd4c",motor_boat:"\ud83d\udee5",motor_scooter:"\ud83d\udef5",motorcycle:"\ud83c\udfcd",motorway:"\ud83d\udee3",mount_fuji:"\ud83d\uddfb",mountain:"\u26f0",mountain_biking_man:"\ud83d\udeb5",mountain_biking_woman:"\ud83d\udeb5&zwj;\u2640\ufe0f",mountain_cableway:"\ud83d\udea0",mountain_railway:"\ud83d\ude9e",mountain_snow:"\ud83c\udfd4",mouse:"\ud83d\udc2d",mouse2:"\ud83d\udc01",movie_camera:"\ud83c\udfa5",moyai:"\ud83d\uddff",mrs_claus:"\ud83e\udd36",muscle:"\ud83d\udcaa",mushroom:"\ud83c\udf44",musical_keyboard:"\ud83c\udfb9",musical_note:"\ud83c\udfb5",musical_score:"\ud83c\udfbc",mute:"\ud83d\udd07",nail_care:"\ud83d\udc85",name_badge:"\ud83d\udcdb",national_park:"\ud83c\udfde",nauseated_face:"\ud83e\udd22",necktie:"\ud83d\udc54",negative_squared_cross_mark:"\u274e",nerd_face:"\ud83e\udd13",neutral_face:"\ud83d\ude10","new":"\ud83c\udd95",new_moon:"\ud83c\udf11",new_moon_with_face:"\ud83c\udf1a",newspaper:"\ud83d\udcf0",newspaper_roll:"\ud83d\uddde",next_track_button:"\u23ed",ng:"\ud83c\udd96",no_good_man:"\ud83d\ude45&zwj;\u2642\ufe0f",no_good_woman:"\ud83d\ude45",night_with_stars:"\ud83c\udf03",no_bell:"\ud83d\udd15",no_bicycles:"\ud83d\udeb3",no_entry:"\u26d4\ufe0f",no_entry_sign:"\ud83d\udeab",no_mobile_phones:"\ud83d\udcf5",no_mouth:"\ud83d\ude36",no_pedestrians:"\ud83d\udeb7",no_smoking:"\ud83d\udead","non-potable_water":"\ud83d\udeb1",nose:"\ud83d\udc43",notebook:"\ud83d\udcd3",notebook_with_decorative_cover:"\ud83d\udcd4",notes:"\ud83c\udfb6",nut_and_bolt:"\ud83d\udd29",o:"\u2b55\ufe0f",o2:"\ud83c\udd7e\ufe0f",ocean:"\ud83c\udf0a",octopus:"\ud83d\udc19",oden:"\ud83c\udf62",office:"\ud83c\udfe2",oil_drum:"\ud83d\udee2",ok:"\ud83c\udd97",ok_hand:"\ud83d\udc4c",ok_man:"\ud83d\ude46&zwj;\u2642\ufe0f",ok_woman:"\ud83d\ude46",old_key:"\ud83d\udddd",older_man:"\ud83d\udc74",older_woman:"\ud83d\udc75",om:"\ud83d\udd49",on:"\ud83d\udd1b",oncoming_automobile:"\ud83d\ude98",oncoming_bus:"\ud83d\ude8d",oncoming_police_car:"\ud83d\ude94",oncoming_taxi:"\ud83d\ude96",open_file_folder:"\ud83d\udcc2",open_hands:"\ud83d\udc50",open_mouth:"\ud83d\ude2e",open_umbrella:"\u2602\ufe0f",ophiuchus:"\u26ce",orange_book:"\ud83d\udcd9",orthodox_cross:"\u2626\ufe0f",outbox_tray:"\ud83d\udce4",owl:"\ud83e\udd89",ox:"\ud83d\udc02","package":"\ud83d\udce6",page_facing_up:"\ud83d\udcc4",page_with_curl:"\ud83d\udcc3",pager:"\ud83d\udcdf",paintbrush:"\ud83d\udd8c",palm_tree:"\ud83c\udf34",pancakes:"\ud83e\udd5e",panda_face:"\ud83d\udc3c",paperclip:"\ud83d\udcce",paperclips:"\ud83d\udd87",parasol_on_ground:"\u26f1",parking:"\ud83c\udd7f\ufe0f",part_alternation_mark:"\u303d\ufe0f",partly_sunny:"\u26c5\ufe0f",passenger_ship:"\ud83d\udef3",passport_control:"\ud83d\udec2",pause_button:"\u23f8",peace_symbol:"\u262e\ufe0f",peach:"\ud83c\udf51",peanuts:"\ud83e\udd5c",pear:"\ud83c\udf50",pen:"\ud83d\udd8a",pencil2:"\u270f\ufe0f",penguin:"\ud83d\udc27",pensive:"\ud83d\ude14",performing_arts:"\ud83c\udfad",persevere:"\ud83d\ude23",person_fencing:"\ud83e\udd3a",pouting_woman:"\ud83d\ude4e",phone:"\u260e\ufe0f",pick:"\u26cf",pig:"\ud83d\udc37",pig2:"\ud83d\udc16",pig_nose:"\ud83d\udc3d",pill:"\ud83d\udc8a",pineapple:"\ud83c\udf4d",ping_pong:"\ud83c\udfd3",pisces:"\u2653\ufe0f",pizza:"\ud83c\udf55",place_of_worship:"\ud83d\uded0",plate_with_cutlery:"\ud83c\udf7d",play_or_pause_button:"\u23ef",point_down:"\ud83d\udc47",point_left:"\ud83d\udc48",point_right:"\ud83d\udc49",point_up:"\u261d\ufe0f",point_up_2:"\ud83d\udc46",police_car:"\ud83d\ude93",policewoman:"\ud83d\udc6e&zwj;\u2640\ufe0f",poodle:"\ud83d\udc29",popcorn:"\ud83c\udf7f",post_office:"\ud83c\udfe3",postal_horn:"\ud83d\udcef",postbox:"\ud83d\udcee",potable_water:"\ud83d\udeb0",potato:"\ud83e\udd54",pouch:"\ud83d\udc5d",poultry_leg:"\ud83c\udf57",pound:"\ud83d\udcb7",rage:"\ud83d\ude21",pouting_cat:"\ud83d\ude3e",pouting_man:"\ud83d\ude4e&zwj;\u2642\ufe0f",pray:"\ud83d\ude4f",prayer_beads:"\ud83d\udcff",pregnant_woman:"\ud83e\udd30",previous_track_button:"\u23ee",prince:"\ud83e\udd34",princess:"\ud83d\udc78",printer:"\ud83d\udda8",purple_heart:"\ud83d\udc9c",purse:"\ud83d\udc5b",pushpin:"\ud83d\udccc",put_litter_in_its_place:"\ud83d\udeae",question:"\u2753",rabbit:"\ud83d\udc30",rabbit2:"\ud83d\udc07",racehorse:"\ud83d\udc0e",racing_car:"\ud83c\udfce",radio:"\ud83d\udcfb",radio_button:"\ud83d\udd18",radioactive:"\u2622\ufe0f",railway_car:"\ud83d\ude83",railway_track:"\ud83d\udee4",rainbow:"\ud83c\udf08",rainbow_flag:"\ud83c\udff3\ufe0f&zwj;\ud83c\udf08",raised_back_of_hand:"\ud83e\udd1a",raised_hand_with_fingers_splayed:"\ud83d\udd90",raised_hands:"\ud83d\ude4c",raising_hand_woman:"\ud83d\ude4b",raising_hand_man:"\ud83d\ude4b&zwj;\u2642\ufe0f",ram:"\ud83d\udc0f",ramen:"\ud83c\udf5c",rat:"\ud83d\udc00",record_button:"\u23fa",recycle:"\u267b\ufe0f",red_circle:"\ud83d\udd34",registered:"\xae\ufe0f",relaxed:"\u263a\ufe0f",relieved:"\ud83d\ude0c",reminder_ribbon:"\ud83c\udf97",repeat:"\ud83d\udd01",repeat_one:"\ud83d\udd02",rescue_worker_helmet:"\u26d1",restroom:"\ud83d\udebb",revolving_hearts:"\ud83d\udc9e",rewind:"\u23ea",rhinoceros:"\ud83e\udd8f",ribbon:"\ud83c\udf80",rice:"\ud83c\udf5a",rice_ball:"\ud83c\udf59",rice_cracker:"\ud83c\udf58",rice_scene:"\ud83c\udf91",right_anger_bubble:"\ud83d\uddef",ring:"\ud83d\udc8d",robot:"\ud83e\udd16",rocket:"\ud83d\ude80",rofl:"\ud83e\udd23",roll_eyes:"\ud83d\ude44",roller_coaster:"\ud83c\udfa2",rooster:"\ud83d\udc13",rose:"\ud83c\udf39",rosette:"\ud83c\udff5",rotating_light:"\ud83d\udea8",round_pushpin:"\ud83d\udccd",rowing_man:"\ud83d\udea3",rowing_woman:"\ud83d\udea3&zwj;\u2640\ufe0f",rugby_football:"\ud83c\udfc9",running_man:"\ud83c\udfc3",running_shirt_with_sash:"\ud83c\udfbd",running_woman:"\ud83c\udfc3&zwj;\u2640\ufe0f",sa:"\ud83c\ude02\ufe0f",sagittarius:"\u2650\ufe0f",sake:"\ud83c\udf76",sandal:"\ud83d\udc61",santa:"\ud83c\udf85",satellite:"\ud83d\udce1",saxophone:"\ud83c\udfb7",school:"\ud83c\udfeb",school_satchel:"\ud83c\udf92",scissors:"\u2702\ufe0f",scorpion:"\ud83e\udd82",scorpius:"\u264f\ufe0f",scream:"\ud83d\ude31",scream_cat:"\ud83d\ude40",scroll:"\ud83d\udcdc",seat:"\ud83d\udcba",secret:"\u3299\ufe0f",see_no_evil:"\ud83d\ude48",seedling:"\ud83c\udf31",selfie:"\ud83e\udd33",shallow_pan_of_food:"\ud83e\udd58",shamrock:"\u2618\ufe0f",shark:"\ud83e\udd88",shaved_ice:"\ud83c\udf67",sheep:"\ud83d\udc11",shell:"\ud83d\udc1a",shield:"\ud83d\udee1",shinto_shrine:"\u26e9",ship:"\ud83d\udea2",shirt:"\ud83d\udc55",shopping:"\ud83d\udecd",shopping_cart:"\ud83d\uded2",shower:"\ud83d\udebf",shrimp:"\ud83e\udd90",signal_strength:"\ud83d\udcf6",six_pointed_star:"\ud83d\udd2f",ski:"\ud83c\udfbf",skier:"\u26f7",skull:"\ud83d\udc80",skull_and_crossbones:"\u2620\ufe0f",sleeping:"\ud83d\ude34",sleeping_bed:"\ud83d\udecc",sleepy:"\ud83d\ude2a",slightly_frowning_face:"\ud83d\ude41",slightly_smiling_face:"\ud83d\ude42",slot_machine:"\ud83c\udfb0",small_airplane:"\ud83d\udee9",small_blue_diamond:"\ud83d\udd39",small_orange_diamond:"\ud83d\udd38",small_red_triangle:"\ud83d\udd3a",small_red_triangle_down:"\ud83d\udd3b",smile:"\ud83d\ude04",smile_cat:"\ud83d\ude38",smiley:"\ud83d\ude03",smiley_cat:"\ud83d\ude3a",smiling_imp:"\ud83d\ude08",smirk:"\ud83d\ude0f",smirk_cat:"\ud83d\ude3c",smoking:"\ud83d\udeac",snail:"\ud83d\udc0c",snake:"\ud83d\udc0d",sneezing_face:"\ud83e\udd27",snowboarder:"\ud83c\udfc2",snowflake:"\u2744\ufe0f",snowman:"\u26c4\ufe0f",snowman_with_snow:"\u2603\ufe0f",sob:"\ud83d\ude2d",soccer:"\u26bd\ufe0f",soon:"\ud83d\udd1c",sos:"\ud83c\udd98",sound:"\ud83d\udd09",space_invader:"\ud83d\udc7e",spades:"\u2660\ufe0f",spaghetti:"\ud83c\udf5d",sparkle:"\u2747\ufe0f",sparkler:"\ud83c\udf87",sparkles:"\u2728",sparkling_heart:"\ud83d\udc96",speak_no_evil:"\ud83d\ude4a",speaker:"\ud83d\udd08",speaking_head:"\ud83d\udde3",speech_balloon:"\ud83d\udcac",speedboat:"\ud83d\udea4",spider:"\ud83d\udd77",spider_web:"\ud83d\udd78",spiral_calendar:"\ud83d\uddd3",spiral_notepad:"\ud83d\uddd2",spoon:"\ud83e\udd44",squid:"\ud83e\udd91",stadium:"\ud83c\udfdf",star:"\u2b50\ufe0f",star2:"\ud83c\udf1f",star_and_crescent:"\u262a\ufe0f",star_of_david:"\u2721\ufe0f",stars:"\ud83c\udf20",station:"\ud83d\ude89",statue_of_liberty:"\ud83d\uddfd",steam_locomotive:"\ud83d\ude82",stew:"\ud83c\udf72",stop_button:"\u23f9",stop_sign:"\ud83d\uded1",stopwatch:"\u23f1",straight_ruler:"\ud83d\udccf",strawberry:"\ud83c\udf53",stuck_out_tongue:"\ud83d\ude1b",stuck_out_tongue_closed_eyes:"\ud83d\ude1d",stuck_out_tongue_winking_eye:"\ud83d\ude1c",studio_microphone:"\ud83c\udf99",stuffed_flatbread:"\ud83e\udd59",sun_behind_large_cloud:"\ud83c\udf25",sun_behind_rain_cloud:"\ud83c\udf26",sun_behind_small_cloud:"\ud83c\udf24",sun_with_face:"\ud83c\udf1e",sunflower:"\ud83c\udf3b",sunglasses:"\ud83d\ude0e",sunny:"\u2600\ufe0f",sunrise:"\ud83c\udf05",sunrise_over_mountains:"\ud83c\udf04",surfing_man:"\ud83c\udfc4",surfing_woman:"\ud83c\udfc4&zwj;\u2640\ufe0f",sushi:"\ud83c\udf63",suspension_railway:"\ud83d\ude9f",sweat:"\ud83d\ude13",sweat_drops:"\ud83d\udca6",sweat_smile:"\ud83d\ude05",sweet_potato:"\ud83c\udf60",swimming_man:"\ud83c\udfca",swimming_woman:"\ud83c\udfca&zwj;\u2640\ufe0f",symbols:"\ud83d\udd23",synagogue:"\ud83d\udd4d",syringe:"\ud83d\udc89",taco:"\ud83c\udf2e",tada:"\ud83c\udf89",tanabata_tree:"\ud83c\udf8b",taurus:"\u2649\ufe0f",taxi:"\ud83d\ude95",tea:"\ud83c\udf75",telephone_receiver:"\ud83d\udcde",telescope:"\ud83d\udd2d",tennis:"\ud83c\udfbe",tent:"\u26fa\ufe0f",thermometer:"\ud83c\udf21",thinking:"\ud83e\udd14",thought_balloon:"\ud83d\udcad",ticket:"\ud83c\udfab",tickets:"\ud83c\udf9f",tiger:"\ud83d\udc2f",tiger2:"\ud83d\udc05",timer_clock:"\u23f2",tipping_hand_man:"\ud83d\udc81&zwj;\u2642\ufe0f",tired_face:"\ud83d\ude2b",tm:"\u2122\ufe0f",toilet:"\ud83d\udebd",tokyo_tower:"\ud83d\uddfc",tomato:"\ud83c\udf45",tongue:"\ud83d\udc45",top:"\ud83d\udd1d",tophat:"\ud83c\udfa9",tornado:"\ud83c\udf2a",trackball:"\ud83d\uddb2",tractor:"\ud83d\ude9c",traffic_light:"\ud83d\udea5",train:"\ud83d\ude8b",train2:"\ud83d\ude86",tram:"\ud83d\ude8a",triangular_flag_on_post:"\ud83d\udea9",triangular_ruler:"\ud83d\udcd0",trident:"\ud83d\udd31",triumph:"\ud83d\ude24",trolleybus:"\ud83d\ude8e",trophy:"\ud83c\udfc6",tropical_drink:"\ud83c\udf79",tropical_fish:"\ud83d\udc20",truck:"\ud83d\ude9a",trumpet:"\ud83c\udfba",tulip:"\ud83c\udf37",tumbler_glass:"\ud83e\udd43",turkey:"\ud83e\udd83",turtle:"\ud83d\udc22",tv:"\ud83d\udcfa",twisted_rightwards_arrows:"\ud83d\udd00",two_hearts:"\ud83d\udc95",two_men_holding_hands:"\ud83d\udc6c",two_women_holding_hands:"\ud83d\udc6d",u5272:"\ud83c\ude39",u5408:"\ud83c\ude34",u55b6:"\ud83c\ude3a",u6307:"\ud83c\ude2f\ufe0f",u6708:"\ud83c\ude37\ufe0f",u6709:"\ud83c\ude36",u6e80:"\ud83c\ude35",u7121:"\ud83c\ude1a\ufe0f",u7533:"\ud83c\ude38",u7981:"\ud83c\ude32",u7a7a:"\ud83c\ude33",umbrella:"\u2614\ufe0f",unamused:"\ud83d\ude12",underage:"\ud83d\udd1e",unicorn:"\ud83e\udd84",unlock:"\ud83d\udd13",up:"\ud83c\udd99",upside_down_face:"\ud83d\ude43",v:"\u270c\ufe0f",vertical_traffic_light:"\ud83d\udea6",vhs:"\ud83d\udcfc",vibration_mode:"\ud83d\udcf3",video_camera:"\ud83d\udcf9",video_game:"\ud83c\udfae",violin:"\ud83c\udfbb",virgo:"\u264d\ufe0f",volcano:"\ud83c\udf0b",volleyball:"\ud83c\udfd0",vs:"\ud83c\udd9a",vulcan_salute:"\ud83d\udd96",walking_man:"\ud83d\udeb6",walking_woman:"\ud83d\udeb6&zwj;\u2640\ufe0f",waning_crescent_moon:"\ud83c\udf18",waning_gibbous_moon:"\ud83c\udf16",warning:"\u26a0\ufe0f",wastebasket:"\ud83d\uddd1",watch:"\u231a\ufe0f",water_buffalo:"\ud83d\udc03",watermelon:"\ud83c\udf49",wave:"\ud83d\udc4b",wavy_dash:"\u3030\ufe0f",waxing_crescent_moon:"\ud83c\udf12",wc:"\ud83d\udebe",weary:"\ud83d\ude29",wedding:"\ud83d\udc92",weight_lifting_man:"\ud83c\udfcb\ufe0f",weight_lifting_woman:"\ud83c\udfcb\ufe0f&zwj;\u2640\ufe0f",whale:"\ud83d\udc33",whale2:"\ud83d\udc0b",wheel_of_dharma:"\u2638\ufe0f",wheelchair:"\u267f\ufe0f",white_check_mark:"\u2705",white_circle:"\u26aa\ufe0f",white_flag:"\ud83c\udff3\ufe0f",white_flower:"\ud83d\udcae",white_large_square:"\u2b1c\ufe0f",white_medium_small_square:"\u25fd\ufe0f",white_medium_square:"\u25fb\ufe0f",white_small_square:"\u25ab\ufe0f",white_square_button:"\ud83d\udd33",wilted_flower:"\ud83e\udd40",wind_chime:"\ud83c\udf90",wind_face:"\ud83c\udf2c",wine_glass:"\ud83c\udf77",wink:"\ud83d\ude09",wolf:"\ud83d\udc3a",woman:"\ud83d\udc69",woman_artist:"\ud83d\udc69&zwj;\ud83c\udfa8",woman_astronaut:"\ud83d\udc69&zwj;\ud83d\ude80",woman_cartwheeling:"\ud83e\udd38&zwj;\u2640\ufe0f",woman_cook:"\ud83d\udc69&zwj;\ud83c\udf73",woman_facepalming:"\ud83e\udd26&zwj;\u2640\ufe0f",woman_factory_worker:"\ud83d\udc69&zwj;\ud83c\udfed",woman_farmer:"\ud83d\udc69&zwj;\ud83c\udf3e",woman_firefighter:"\ud83d\udc69&zwj;\ud83d\ude92",woman_health_worker:"\ud83d\udc69&zwj;\u2695\ufe0f",woman_judge:"\ud83d\udc69&zwj;\u2696\ufe0f",woman_juggling:"\ud83e\udd39&zwj;\u2640\ufe0f",woman_mechanic:"\ud83d\udc69&zwj;\ud83d\udd27",woman_office_worker:"\ud83d\udc69&zwj;\ud83d\udcbc",woman_pilot:"\ud83d\udc69&zwj;\u2708\ufe0f",woman_playing_handball:"\ud83e\udd3e&zwj;\u2640\ufe0f",woman_playing_water_polo:"\ud83e\udd3d&zwj;\u2640\ufe0f",woman_scientist:"\ud83d\udc69&zwj;\ud83d\udd2c",woman_shrugging:"\ud83e\udd37&zwj;\u2640\ufe0f",woman_singer:"\ud83d\udc69&zwj;\ud83c\udfa4",woman_student:"\ud83d\udc69&zwj;\ud83c\udf93",woman_teacher:"\ud83d\udc69&zwj;\ud83c\udfeb",woman_technologist:"\ud83d\udc69&zwj;\ud83d\udcbb",woman_with_turban:"\ud83d\udc73&zwj;\u2640\ufe0f",womans_clothes:"\ud83d\udc5a",womans_hat:"\ud83d\udc52",women_wrestling:"\ud83e\udd3c&zwj;\u2640\ufe0f",womens:"\ud83d\udeba",world_map:"\ud83d\uddfa",worried:"\ud83d\ude1f",wrench:"\ud83d\udd27",writing_hand:"\u270d\ufe0f",x:"\u274c",yellow_heart:"\ud83d\udc9b",yen:"\ud83d\udcb4",yin_yang:"\u262f\ufe0f",yum:"\ud83d\ude0b",zap:"\u26a1\ufe0f",zipper_mouth_face:"\ud83e\udd10",zzz:"\ud83d\udca4",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},A.Converter=function(e){var t,n,r={},s=[],l=[],o={},a=u,i={parsed:{},raw:"",format:""};for(t in e=e||{},p)p.hasOwnProperty(t)&&(r[t]=p[t]);if("object"!==dt(e))throw Error("Converter expects the passed parameter to be an object, but "+dt(e)+" was passed instead.");for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);function c(e,t){if(t=t||null,A.helper.isString(e)){if(t=e=A.helper.stdExtName(e),A.extensions[e]){var n=A.extensions[e],a=e;if("function"==typeof n&&(n=n(new A.Converter)),A.helper.isArray(n)||(n=[n]),!(a=m(n,a)).valid)throw Error(a.error);for(var r=0;r<n.length;++r)switch(n[r].type){case"lang":s.push(n[r]);break;case"output":l.push(n[r]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}return}if(A.helper.isUndefined(f[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=f[e]}"function"==typeof e&&(e=e());a=m(e=A.helper.isArray(e)?e:[e],t);if(!a.valid)throw Error(a.error);for(var i=0;i<e.length;++i){switch(e[i].type){case"lang":s.push(e[i]);break;case"output":l.push(e[i])}if(e[i].hasOwnProperty("listeners"))for(var o in e[i].listeners)e[i].listeners.hasOwnProperty(o)&&d(o,e[i].listeners[o])}}function d(e,t){if(!A.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+dt(e)+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+dt(t)+" given");o.hasOwnProperty(e)||(o[e]=[]),o[e].push(t)}r.extensions&&A.helper.forEach(r.extensions,c),this._dispatch=function(e,t,n,a){if(o.hasOwnProperty(e))for(var r=0;r<o[e].length;++r){var i=o[e][r](e,t,this,n,a);i&&void 0!==i&&(t=i)}return t},this.listen=function(e,t){return d(e,t),this},this.makeHtml=function(t){var n,e,a;return t&&(n={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:s,outputModifiers:l,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}},t=(t=(t=(t=(t=t.replace(/\xa8/g,"\xa8T")).replace(/\$/g,"\xa8D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),r.smartIndentationFix&&(a=(e=t).match(/^\s*/)[0].length,a=new RegExp("^\\s{0,"+a+"}","gm"),t=e.replace(a,"")),t="\n\n"+t+"\n\n",t=(t=A.subParser("detab")(t,r,n)).replace(/^[ \t]+$/gm,""),A.helper.forEach(s,function(e){t=A.subParser("runExtension")(e,t,r,n)}),t=A.subParser("metadata")(t,r,n),t=A.subParser("hashPreCodeTags")(t,r,n),t=A.subParser("githubCodeBlocks")(t,r,n),t=A.subParser("hashHTMLBlocks")(t,r,n),t=A.subParser("hashCodeTags")(t,r,n),t=A.subParser("stripLinkDefinitions")(t,r,n),t=A.subParser("blockGamut")(t,r,n),t=A.subParser("unhashHTMLSpans")(t,r,n),t=(t=(t=A.subParser("unescapeSpecialChars")(t,r,n)).replace(/\xa8D/g,"$$")).replace(/\xa8T/g,"\xa8"),t=A.subParser("completeHTMLDocument")(t,r,n),A.helper.forEach(l,function(e){t=A.subParser("runExtension")(e,t,r,n)}),i=n.metadata),t},this.makeMarkdown=this.makeMd=function(e,t){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">\xa8NBSP;<"),!t){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");t=window.document}for(var t=t.createElement("div"),n=(t.innerHTML=e,{preList:function(e){for(var t=e.querySelectorAll("pre"),n=[],a=0;a<t.length;++a)if(1===t[a].childElementCount&&"code"===t[a].firstChild.tagName.toLowerCase()){var r=t[a].firstChild.innerHTML.trim(),i=t[a].firstChild.getAttribute("data-language")||"";if(""===i)for(var o=t[a].firstChild.className.split(" "),s=0;s<o.length;++s){var l=o[s].match(/^language-(.+)$/);if(null!==l){i=l[1];break}}r=A.helper.unescapeHTMLEntities(r),n.push(r),t[a].outerHTML='<precode language="'+i+'" precodenum="'+a.toString()+'"></precode>'}else n.push(t[a].innerHTML),t[a].innerHTML="",t[a].setAttribute("prenum",a.toString());return n}(t)}),a=(!function o(e){for(var t=0;t<e.childNodes.length;++t){var n=e.childNodes[t];3===n.nodeType?/\S/.test(n.nodeValue)?(n.nodeValue=n.nodeValue.split("\n").join(" "),n.nodeValue=n.nodeValue.replace(/(\s)+/g,"$1")):(e.removeChild(n),--t):1===n.nodeType&&o(n)}}(t),t.childNodes),r="",i=0;i<a.length;i++)r+=A.subParser("makeMarkdown.node")(a[i],n);return r},this.setOption=function(e,t){r[e]=t},this.getOption=function(e){return r[e]},this.getOptions=function(){return r},this.addExtension=function(e,t){c(e,t=t||null)},this.useExtension=function(e){c(e)},this.setFlavor=function(e){if(!h.hasOwnProperty(e))throw Error(e+" flavor was not found");var t,n=h[e];for(t in a=e,n)n.hasOwnProperty(t)&&(r[t]=n[t])},this.getFlavor=function(){return a},this.removeExtension=function(e){A.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var n=e[t],a=0;a<s.length;++a)s[a]===n&&s[a].splice(a,1);for(;0<l.length;++a)l[0]===n&&l[0].splice(a,1)}},this.getAllExtensions=function(){return{language:s,output:l}},this.getMetadata=function(e){return e?i.raw:i.parsed},this.getMetadataFormat=function(){return i.format},this._setMetadataPair=function(e,t){i.parsed[e]=t},this._setMetadataFormat=function(e){i.format=e},this._setMetadataRaw=function(e){i.raw=e}},A.subParser("anchors",function(e,s,l){var c=function c(e,t,n,a,r,i,o){if(A.helper.isUndefined(o)&&(o=""),n=n.toLowerCase(),-1<e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))a="";else if(!a){if(a="#"+(n=n||t.toLowerCase().replace(/ ?\n/g," ")),A.helper.isUndefined(l.gUrls[n]))return e;a=l.gUrls[n],A.helper.isUndefined(l.gTitles[n])||(o=l.gTitles[n])}e='<a href="'+(a=a.replace(A.helper.regexes.asteriskDashAndColon,A.helper.escapeCharactersCallback))+'"';return""!==o&&null!==o&&(e+=' title="'+(o=(o=o.replace(/"/g,"&quot;")).replace(A.helper.regexes.asteriskDashAndColon,A.helper.escapeCharactersCallback))+'"'),s.openLinksInNewWindow&&!/^#/.test(a)&&(e+=' rel="noopener noreferrer" target="\xa8E95Eblank"'),e+=">"+t+"</a>"};return e=(e=(e=(e=(e=l.converter._dispatch("anchors.before",e,s,l)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,c)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,c)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,c)).replace(/\[([^\[\]]+)]()()()()()/g,c),s.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,function(e,t,n,a,r){if("\\"===n)return t+a;if(A.helper.isString(s.ghMentionsLink))return n="",t+'<a href="'+s.ghMentionsLink.replace(/\{u}/g,r)+'"'+(n=s.openLinksInNewWindow?' rel="noopener noreferrer" target="\xa8E95Eblank"':n)+">"+a+"</a>";throw new Error("ghMentionsLink option must be a string")})),e=l.converter._dispatch("anchors.after",e,s,l)}),/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi),c=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,d=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,E=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,y=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,_=function _(d){return function(e,t,n,a,r,i,o){var s=n=n.replace(A.helper.regexes.asteriskDashAndColon,A.helper.escapeCharactersCallback),l="",c="",t=t||"",o=o||"";return/^www\./i.test(n)&&(n=n.replace(/^www\./i,"http://www.")),d.excludeTrailingPunctuationFromURLs&&i&&(l=i),t+'<a href="'+n+'"'+(c=d.openLinksInNewWindow?' rel="noopener noreferrer" target="\xa8E95Eblank"':c)+">"+s+"</a>"+l+o}},C=function C(r,i){return function(e,t,n){var a="mailto:";return t=t||"",n=A.subParser("unescapeSpecialChars")(n,r,i),r.encodeEmails?(a=A.helper.encodeEmailAddress(a+n),n=A.helper.encodeEmailAddress(n)):a+=n,t+'<a href="'+a+'">'+n+"</a>"}};A.subParser("autoLinks",function(e,t,n){return e=(e=(e=n.converter._dispatch("autoLinks.before",e,t,n)).replace(d,_(t))).replace(y,C(t,n)),e=n.converter._dispatch("autoLinks.after",e,t,n)}),A.subParser("simplifiedAutoLinks",function(e,t,n){return t.simplifiedAutoLink&&(e=n.converter._dispatch("simplifiedAutoLinks.before",e,t,n),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(c,_(t)):e.replace(o,_(t))).replace(E,C(t,n)),e=n.converter._dispatch("simplifiedAutoLinks.after",e,t,n)),e}),A.subParser("blockGamut",function(e,t,n){return e=n.converter._dispatch("blockGamut.before",e,t,n),e=A.subParser("blockQuotes")(e,t,n),e=A.subParser("headers")(e,t,n),e=A.subParser("horizontalRule")(e,t,n),e=A.subParser("lists")(e,t,n),e=A.subParser("codeBlocks")(e,t,n),e=A.subParser("tables")(e,t,n),e=A.subParser("hashHTMLBlocks")(e,t,n),e=A.subParser("paragraphs")(e,t,n),e=n.converter._dispatch("blockGamut.after",e,t,n)}),A.subParser("blockQuotes",function(e,t,n){e=n.converter._dispatch("blockQuotes.before",e,t,n);var a=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return t.splitAdjacentBlockquotes&&(a=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=(e+="\n\n").replace(a,function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/\xa80/g,"")).replace(/^[ \t]+$/gm,""),e=A.subParser("githubCodeBlocks")(e,t,n),e=(e=(e=A.subParser("blockGamut")(e,t,n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){return t.replace(/^ {2}/gm,"\xa80").replace(/\xa80/g,"")}),A.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",t,n)}),e=n.converter._dispatch("blockQuotes.after",e,t,n)}),A.subParser("codeBlocks",function(e,r,i){e=i.converter._dispatch("codeBlocks.before",e,r,i);return e=(e=(e+="\xa80").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=\xa80))/g,function(e,t,n){var a="\n",t=A.subParser("outdent")(t,r,i);return t=A.subParser("encodeCode")(t,r,i),t="<pre><code>"+(t=(t=(t=A.subParser("detab")(t,r,i)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+(a=r.omitExtraWLInCodeBlocks?"":a)+"</code></pre>",A.subParser("hashBlock")(t,r,i)+n})).replace(/\xa80/,""),e=i.converter._dispatch("codeBlocks.after",e,r,i)}),A.subParser("codeSpans",function(e,r,i){return e=(e=void 0===(e=i.converter._dispatch("codeSpans.before",e,r,i))?"":e).replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,a){return a=(a=a.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),a=t+"<code>"+(a=A.subParser("encodeCode")(a,r,i))+"</code>",a=A.subParser("hashHTMLSpans")(a,r,i)}),e=i.converter._dispatch("codeSpans.after",e,r,i)}),A.subParser("completeHTMLDocument",function(e,t,n){if(t.completeHTMLDocument){e=n.converter._dispatch("completeHTMLDocument.before",e,t,n);var a,r="html",i="<!DOCTYPE HTML>\n",o="",s='<meta charset="utf-8">\n',l="",c="";for(a in"undefined"!=typeof n.metadata.parsed.doctype&&(i="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(r=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==r||(s='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(a))switch(a.toLowerCase()){case"doctype":break;case"title":o="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":s="html"===r||"html5"===r?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":l=' lang="'+n.metadata.parsed[a]+'"',c+='<meta name="'+a+'" content="'+n.metadata.parsed[a]+'">\n';break;default:c+='<meta name="'+a+'" content="'+n.metadata.parsed[a]+'">\n'}e=i+"<html"+l+">\n<head>\n"+o+s+c+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",e=n.converter._dispatch("completeHTMLDocument.after",e,t,n)}return e}),A.subParser("detab",function(e,t,n){return e=(e=(e=(e=(e=(e=n.converter._dispatch("detab.before",e,t,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"\xa8A\xa8B")).replace(/\xa8B(.+?)\xa8A/g,function(e,t){for(var n=t,a=4-n.length%4,r=0;r<a;r++)n+=" ";return n})).replace(/\xa8A/g,"    ")).replace(/\xa8B/g,""),e=n.converter._dispatch("detab.after",e,t,n)}),A.subParser("ellipsis",function(e,t,n){return e=(e=n.converter._dispatch("ellipsis.before",e,t,n)).replace(/\.\.\./g,"\u2026"),e=n.converter._dispatch("ellipsis.after",e,t,n)}),A.subParser("emoji",function(e,t,n){return t.emoji&&(e=(e=n.converter._dispatch("emoji.before",e,t,n)).replace(/:([\S]+?):/g,function(e,t){return A.helper.emojis.hasOwnProperty(t)?A.helper.emojis[t]:e}),e=n.converter._dispatch("emoji.after",e,t,n)),e}),A.subParser("encodeAmpsAndAngles",function(e,t,n){return e=(e=(e=(e=(e=n.converter._dispatch("encodeAmpsAndAngles.before",e,t,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),e=n.converter._dispatch("encodeAmpsAndAngles.after",e,t,n)}),A.subParser("encodeBackslashEscapes",function(e,t,n){return e=(e=(e=n.converter._dispatch("encodeBackslashEscapes.before",e,t,n)).replace(/\\(\\)/g,A.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,A.helper.escapeCharactersCallback),e=n.converter._dispatch("encodeBackslashEscapes.after",e,t,n)}),A.subParser("encodeCode",function(e,t,n){return e=(e=n.converter._dispatch("encodeCode.before",e,t,n)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,A.helper.escapeCharactersCallback),e=n.converter._dispatch("encodeCode.after",e,t,n)}),A.subParser("escapeSpecialCharsWithinTagAttributes",function(e,t,n){return e=(e=(e=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,t,n)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,A.helper.escapeCharactersCallback)})).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,function(e){return e.replace(/([\\`*_~=|])/g,A.helper.escapeCharactersCallback)}),e=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,t,n)}),A.subParser("githubCodeBlocks",function(e,i,o){return i.ghCodeBlocks?(e=o.converter._dispatch("githubCodeBlocks.before",e,i,o),e=(e=(e+="\xa80").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(e,t,n,a){var r=i.omitExtraWLInCodeBlocks?"":"\n";return a=A.subParser("encodeCode")(a,i,o),a="<pre><code"+(n?' class="'+n+" language-"+n+'"':"")+">"+(a=(a=(a=A.subParser("detab")(a,i,o)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+r+"</code></pre>",a=A.subParser("hashBlock")(a,i,o),"\n\n\xa8G"+(o.ghCodeBlocks.push({text:e,codeblock:a})-1)+"G\n\n"})).replace(/\xa80/,""),o.converter._dispatch("githubCodeBlocks.after",e,i,o)):e}),A.subParser("hashBlock",function(e,t,n){return e=(e=n.converter._dispatch("hashBlock.before",e,t,n)).replace(/(^\n+|\n+$)/g,""),e="\n\n\xa8K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n",e=n.converter._dispatch("hashBlock.after",e,t,n)}),A.subParser("hashCodeTags",function(e,r,i){e=i.converter._dispatch("hashCodeTags.before",e,r,i);var o=function o(e,t,n,a){n=n+A.subParser("encodeCode")(t,r,i)+a;return"\xa8C"+(i.gHtmlSpans.push(n)-1)+"C"};return e=A.helper.replaceRecursiveRegExp(e,o,"<code\\b[^>]*>","</code>","gim"),e=i.converter._dispatch("hashCodeTags.after",e,r,i)}),A.subParser("hashElement",function(e,t,n){return function(e,t){return t=(t=(t=t.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),t="\n\n\xa8K"+(n.gHtmlBlocks.push(t)-1)+"K\n\n"}}),A.subParser("hashHTMLBlocks",function(e,t,r){e=r.converter._dispatch("hashHTMLBlocks.before",e,t,r);var n=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],i=function i(e,t,n,a){return-1!==n.search(/\bmarkdown\b/)&&(e=n+r.converter.makeHtml(t)+a),"\n\n\xa8K"+(r.gHtmlBlocks.push(e)-1)+"K\n\n"};t.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,function(e,t){return"&lt;"+t+"&gt;"}));for(var a=0;a<n.length;++a)for(var o=new RegExp("^ {0,3}(<"+n[a]+"\\b[^>]*>)","im"),s="<"+n[a]+"\\b[^>]*>",l="</"+n[a]+">";-1!==(c=A.helper.regexIndexOf(e,o));){var c=A.helper.splitAtIndex(e,c),d=A.helper.replaceRecursiveRegExp(c[1],i,s,l,"im");if(d===c[1])break;e=c[0].concat(d)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,A.subParser("hashElement")(e,t,r)),e=(e=A.helper.replaceRecursiveRegExp(e,function(e){return"\n\n\xa8K"+(r.gHtmlBlocks.push(e)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,A.subParser("hashElement")(e,t,r)),e=r.converter._dispatch("hashHTMLBlocks.after",e,t,r)}),A.subParser("hashHTMLSpans",function(e,t,n){function a(e){return"\xa8C"+(n.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=n.converter._dispatch("hashHTMLSpans.before",e,t,n)).replace(/<[^>]+?\/>/gi,a)).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,a)).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,a)).replace(/<[^>]+?>/gi,a),e=n.converter._dispatch("hashHTMLSpans.after",e,t,n)}),A.subParser("unhashHTMLSpans",function(e,t,n){e=n.converter._dispatch("unhashHTMLSpans.before",e,t,n);for(var a=0;a<n.gHtmlSpans.length;++a){for(var r=n.gHtmlSpans[a],i=0;/\xa8C(\d+)C/.test(r);){var o=RegExp.$1,r=r.replace("\xa8C"+o+"C",n.gHtmlSpans[o]);if(10===i)break;++i}e=e.replace("\xa8C"+a+"C",r)}return e=n.converter._dispatch("unhashHTMLSpans.after",e,t,n)}),A.subParser("hashPreCodeTags",function(e,r,i){e=i.converter._dispatch("hashPreCodeTags.before",e,r,i);var o=function o(e,t,n,a){n=n+A.subParser("encodeCode")(t,r,i)+a;return"\n\n\xa8G"+(i.ghCodeBlocks.push({text:e,codeblock:n})-1)+"G\n\n"};return e=A.helper.replaceRecursiveRegExp(e,o,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),e=i.converter._dispatch("hashPreCodeTags.after",e,r,i)}),A.subParser("headers",function(e,r,i){e=i.converter._dispatch("headers.before",e,r,i);var o=isNaN(parseInt(r.headerLevelStart))?1:parseInt(r.headerLevelStart),t=r.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,n=r.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm,t=(e=(e=e.replace(t,function(e,t){var n=A.subParser("spanGamut")(t,r,i),t=r.noHeaderId?"":' id="'+s(t)+'"',t="<h"+o+t+">"+n+"</h"+o+">";return A.subParser("hashBlock")(t,r,i)})).replace(n,function(e,t){var n=A.subParser("spanGamut")(t,r,i),t=r.noHeaderId?"":' id="'+s(t)+'"',a=o+1,t="<h"+a+t+">"+n+"</h"+a+">";return A.subParser("hashBlock")(t,r,i)}),r.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm);function s(e){var t=e=r.customizedHeaderId&&(t=e.match(/\{([^{]+?)}\s*$/))&&t[1]?t[1]:e,e=A.helper.isString(r.prefixHeaderId)?r.prefixHeaderId:!0===r.prefixHeaderId?"section-":"";return r.rawPrefixHeaderId||(t=e+t),t=(r.ghCompatibleHeaderId?t.replace(/ /g,"-").replace(/&amp;/g,"").replace(/\xa8T/g,"").replace(/\xa8D/g,"").replace(/[&+$,\/:;=?@"#{}|^\xa8~\[\]`\\*)(%.!'<>]/g,""):r.rawHeaderId?t.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/\xa8T/g,"\xa8").replace(/\xa8D/g,"$").replace(/["']/g,"-"):t.replace(/[^\w]/g,"")).toLowerCase(),i.hashLinkCounts[t=r.rawPrefixHeaderId?e+t:t]?t=t+"-"+i.hashLinkCounts[t]++:i.hashLinkCounts[t]=1,t}return e=e.replace(t,function(e,t,n){var a=n,a=(r.customizedHeaderId&&(a=n.replace(/\s?\{([^{]+?)}\s*$/,"")),A.subParser("spanGamut")(a,r,i)),n=r.noHeaderId?"":' id="'+s(n)+'"',t=o-1+t.length,n="<h"+t+n+">"+a+"</h"+t+">";return A.subParser("hashBlock")(n,r,i)}),e=i.converter._dispatch("headers.after",e,r,i)}),A.subParser("horizontalRule",function(e,t,n){e=n.converter._dispatch("horizontalRule.before",e,t,n);var a=A.subParser("hashBlock")("<hr />",t,n);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,a)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,a)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,a),e=n.converter._dispatch("horizontalRule.after",e,t,n)}),A.subParser("images",function(e,t,f){function l(e,t,n,a,r,i,o,s){var l=f.gUrls,c=f.gTitles,d=f.gDimensions;if(n=n.toLowerCase(),s=s||"",-1<e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))a="";else if(""===a||null===a){if(a="#"+(n=""!==n&&null!==n?n:t.toLowerCase().replace(/ ?\n/g," ")),A.helper.isUndefined(l[n]))return e;a=l[n],A.helper.isUndefined(c[n])||(s=c[n]),A.helper.isUndefined(d[n])||(r=d[n].width,i=d[n].height)}t=t.replace(/"/g,"&quot;").replace(A.helper.regexes.asteriskDashAndColon,A.helper.escapeCharactersCallback);e='<img src="'+(a=a.replace(A.helper.regexes.asteriskDashAndColon,A.helper.escapeCharactersCallback))+'" alt="'+t+'"';return s&&A.helper.isString(s)&&(e+=' title="'+(s=s.replace(/"/g,"&quot;").replace(A.helper.regexes.asteriskDashAndColon,A.helper.escapeCharactersCallback))+'"'),r&&i&&(e=e+(' width="'+(r="*"===r?"auto":r))+'" height="'+(i="*"===i?"auto":i)+'"'),e+=" />"}return e=(e=(e=(e=(e=(e=f.converter._dispatch("images.before",e,t,f)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,l)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,function(e,t,n,a,r,i,o,s){return l(e,t,n,a=a.replace(/\s/g,""),r,i,0,s)})).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,l)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,l)).replace(/!\[([^\[\]]+)]()()()()()/g,l),e=f.converter._dispatch("images.after",e,t,f)}),A.subParser("italicsAndBold",function(e,t,n){return e=n.converter._dispatch("italicsAndBold.before",e,t,n),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,function(e,t){return"<strong><em>"+t+"</em></strong>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(e,t){return"<strong>"+t+"</strong>"})).replace(/\b_(\S[\s\S]*?)_\b/g,function(e,t){return"<em>"+t+"</em>"}):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,function(e,t){return/\S$/.test(t)?"<strong><em>"+t+"</em></strong>":e})).replace(/__(\S[\s\S]*?)__/g,function(e,t){return/\S$/.test(t)?"<strong>"+t+"</strong>":e})).replace(/_([^\s_][\s\S]*?)_/g,function(e,t){return/\S$/.test(t)?"<em>"+t+"</em>":e}),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(e,t,n){return t+"<strong><em>"+n+"</em></strong>"})).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(e,t,n){return t+"<strong>"+n+"</strong>"})).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(e,t,n){return t+"<em>"+n+"</em>"}):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(e,t){return/\S$/.test(t)?"<strong><em>"+t+"</em></strong>":e})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(e,t){return/\S$/.test(t)?"<strong>"+t+"</strong>":e})).replace(/\*([^\s*][\s\S]*?)\*/g,function(e,t){return/\S$/.test(t)?"<em>"+t+"</em>":e}),e=n.converter._dispatch("italicsAndBold.after",e,t,n)}),A.subParser("lists",function(e,p,c){function u(e,t){c.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var n=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80| {0,3}([*+-]|\d+[.])[ \t]+))/gm,l=/\n[ \t]*\n(?!\xa80)/.test(e+="\xa80");return p.disableForced4SpacesIndentedSublists&&(n=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(n,function(e,t,n,a,r,i,o){o=o&&""!==o.trim();var r=A.subParser("outdent")(r,p,c),s="";return i&&p.tasklists&&(s=' class="task-list-item" style="list-style-type: none;"',r=r.replace(/^[ \t]*\[(x|X| )?]/m,function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return o&&(e+=" checked"),e+=">"})),r=r.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(e){return"\xa8A"+e}),r="<li"+s+">"+(r=(r=(t||-1<r.search(/\n{2,}/)?(r=A.subParser("githubCodeBlocks")(r,p,c),A.subParser("blockGamut")):(r=(r=A.subParser("lists")(r,p,c)).replace(/\n$/,""),r=(r=A.subParser("hashHTMLBlocks")(r,p,c)).replace(/\n\n+/g,"\n\n"),A.subParser(l?"paragraphs":"spanGamut")))(r,p,c)).replace("\xa8A",""))+"</li>\n"})).replace(/\xa80/g,""),c.gListLevel--,e=t?e.replace(/\s+$/,""):e}function g(e,t){if("ol"===t){t=e.match(/^ *(\d+)\./);if(t&&"1"!==t[1])return' start="'+t[1]+'"'}return""}function h(e){return"ul"===e?' style="list-style: disc !important;padding: 0px 0px 0px 40px !important;"':' style="list-style: decimal !important;padding: 0px 0px 0px 40px !important;"'}function r(a,r,i){var e,o=p.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,s=p.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,l="ul"===r?o:s,c="",d=h(r);return-1!==a.search(l)?function f(e){var t=e.search(l),n=g(a,r);d=h(r),-1!==t?(c+="\n\n<"+r+d+n+">\n"+u(e.slice(0,t),!!i)+"</"+r+">\n",l="ul"===(r="ul"===r?"ol":"ul")?o:s,f(e.slice(t))):c+="\n\n<"+r+d+n+">\n"+u(e,!!i)+"</"+r+">\n"}(a):(e=g(a,r),c="\n\n<"+r+d+e+">\n"+u(a,!!i)+"</"+r+">\n"),c}return e=c.converter._dispatch("lists.before",e,p,c),e+="\xa80",e=(e=c.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(e,t,n){return r(t,-1<n.search(/[*+-]/g)?"ul":"ol",!0)}):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(e,t,n,a){return r(n,-1<a.search(/[*+-]/g)?"ul":"ol",!1)})).replace(/\xa80/,""),e=c.converter._dispatch("lists.after",e,p,c)}),A.subParser("metadata",function(e,t,a){return t.metadata&&(e=(e=(e=(e=a.converter._dispatch("metadata.before",e,t,a)).replace(/^\s*\xab\xab\xab+(\S*?)\n([\s\S]+?)\n\xbb\xbb\xbb+\n/,function(e,t,n){return r(n),"\xa8M"})).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(e,t,n){return t&&(a.metadata.format=t),r(n),"\xa8M"})).replace(/\xa8M/g,""),e=a.converter._dispatch("metadata.after",e,t,a)),e;function r(e){(e=(e=(a.metadata.raw=e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,function(e,t,n){return a.metadata.parsed[t]=n,""})}}),A.subParser("outdent",function(e,t,n){return e=(e=(e=n.converter._dispatch("outdent.before",e,t,n)).replace(/^(\t|[ ]{1,4})/gm,"\xa80")).replace(/\xa80/g,""),e=n.converter._dispatch("outdent.after",e,t,n)}),A.subParser("paragraphs",function(e,t,n){for(var a=(e=(e=(e=n.converter._dispatch("paragraphs.before",e,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),r=[],i=a.length,o=0;o<i;o++){var s=a[o];0<=s.search(/\xa8(K|G)(\d+)\1/g)?r.push(s):0<=s.search(/\S/)&&(s=(s=A.subParser("spanGamut")(s,t,n)).replace(/^([ \t]*)/g,"<p>"),r.push(s+="</p>"))}for(i=r.length,o=0;o<i;o++){for(var l="",c=r[o],d=!1;/\xa8(K|G)(\d+)\1/.test(c);){var f=RegExp.$1,p=RegExp.$2;l=(l="K"===f?n.gHtmlBlocks[p]:d?A.subParser("encodeCode")(n.ghCodeBlocks[p].text,t,n):n.ghCodeBlocks[p].codeblock).replace(/\$/g,"$$$$"),c=c.replace(/(\n\n)?\xa8(K|G)\d+\2(\n\n)?/,l),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(c)&&(d=!0)}r[o]=c}return e=(e=(e=r.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",e,t,n)}),A.subParser("runExtension",function(e,t,n,a){return e.filter?t=e.filter(t,a.converter,n):e.regex&&((a=e.regex)instanceof RegExp||(a=new RegExp(a,"g")),t=t.replace(a,e.replace)),t}),A.subParser("spanGamut",function(e,t,n){return e=n.converter._dispatch("spanGamut.before",e,t,n),e=A.subParser("codeSpans")(e,t,n),e=A.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,n),e=A.subParser("encodeBackslashEscapes")(e,t,n),e=A.subParser("images")(e,t,n),e=A.subParser("anchors")(e,t,n),e=A.subParser("autoLinks")(e,t,n),e=A.subParser("simplifiedAutoLinks")(e,t,n),e=A.subParser("emoji")(e,t,n),e=A.subParser("underline")(e,t,n),e=A.subParser("italicsAndBold")(e,t,n),e=A.subParser("strikethrough")(e,t,n),e=A.subParser("ellipsis")(e,t,n),e=A.subParser("hashHTMLSpans")(e,t,n),e=A.subParser("encodeAmpsAndAngles")(e,t,n),t.simpleLineBreaks?/\n\n\xa8K/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),e=n.converter._dispatch("spanGamut.after",e,t,n)}),A.subParser("strikethrough",function(e,n,a){return n.strikethrough&&(e=(e=a.converter._dispatch("strikethrough.before",e,n,a)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(e,t){return t=t,"<del>"+(t=n.simplifiedAutoLink?A.subParser("simplifiedAutoLinks")(t,n,a):t)+"</del>"}),e=a.converter._dispatch("strikethrough.after",e,n,a)),e}),A.subParser("stripLinkDefinitions",function(e,s,l){var c=function c(e,t,n,a,r,i,o){return t=t.toLowerCase(),n.match(/^data:.+?\/.+?;base64,/)?l.gUrls[t]=n.replace(/\s/g,""):l.gUrls[t]=A.subParser("encodeAmpsAndAngles")(n,s,l),i?i+o:(o&&(l.gTitles[t]=o.replace(/"|'/g,"&quot;")),s.parseImgDimensions&&a&&r&&(l.gDimensions[t]={width:a,height:r}),"")};return e=(e=(e=(e+="\xa80").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=\xa80)|(?=\n\[))/gm,c)).replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=\xa80))/gm,c)).replace(/\xa80/,"")}),A.subParser("tables",function(e,_,C){return _.tables&&(e=(e=(e=(e=C.converter._dispatch("tables.before",e,_,C)).replace(/\\(\|)/g,A.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|\xa80)/gm,t)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|\xa80)/gm,t),e=C.converter._dispatch("tables.after",e,_,C)),e;function t(e){for(var t=e.split("\n"),n=0;n<t.length;++n)/^ {0,3}\|/.test(t[n])&&(t[n]=t[n].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(t[n])&&(t[n]=t[n].replace(/\|[ \t]*$/,"")),t[n]=A.subParser("codeSpans")(t[n],_,C);var a,r,i,o,s,l=t[0].split("|").map(function(e){return e.trim()}),c=t[1].split("|").map(function(e){return e.trim()}),d=[],f=[],p=[],u=[];for(t.shift(),t.shift(),n=0;n<t.length;++n)""!==t[n].trim()&&d.push(t[n].split("|").map(function(e){return e.trim()}));if(l.length<c.length)return e;for(n=0;n<c.length;++n)p.push((a=c[n],/^:[ \t]*--*$/.test(a)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(a)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(a)?' style="text-align:center;"':""));for(n=0;n<l.length;++n)A.helper.isUndefined(p[n])&&(p[n]=""),f.push((r=l[n],i=p[n],void 0,o="",r=r.trim(),"<th"+(o=_.tablesHeaderId||_.tableHeaderId?' id="'+r.replace(/ /g,"_").toLowerCase()+'"':o)+i+">"+(r=A.subParser("spanGamut")(r,_,C))+"</th>\n"));for(n=0;n<d.length;++n){for(var g=[],h=0;h<f.length;++h)A.helper.isUndefined(d[n][h]),g.push((s=d[n][h],"<td"+p[h]+">"+A.subParser("spanGamut")(s,_,C)+"</td>\n"));u.push(g)}for(var m=f,v=u,b="<table>\n<thead>\n<tr>\n",E=m.length,y=0;y<E;++y)b+=m[y];for(b+="</tr>\n</thead>\n<tbody>\n",y=0;y<v.length;++y){b+="<tr>\n";for(var w=0;w<E;++w)b+=v[y][w];b+="</tr>\n"}return b+="</tbody>\n</table>\n"}}),A.subParser("underline",function(e,t,n){return t.underline&&(e=n.converter._dispatch("underline.before",e,t,n),e=(e=t.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,function(e,t){return"<u>"+t+"</u>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(e,t){return"<u>"+t+"</u>"}):(e=e.replace(/___(\S[\s\S]*?)___/g,function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e})).replace(/__(\S[\s\S]*?)__/g,function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e})).replace(/(_)/g,A.helper.escapeCharactersCallback),e=n.converter._dispatch("underline.after",e,t,n)),e}),A.subParser("unescapeSpecialChars",function(e,t,n){return e=(e=n.converter._dispatch("unescapeSpecialChars.before",e,t,n)).replace(/\xa8E(\d+)E/g,function(e,t){t=parseInt(t);return String.fromCharCode(t)}),e=n.converter._dispatch("unescapeSpecialChars.after",e,t,n)}),A.subParser("makeMarkdown.blockquote",function(e,t){var n="";if(e.hasChildNodes())for(var a=e.childNodes,r=a.length,i=0;i<r;++i){var o=A.subParser("makeMarkdown.node")(a[i],t);""!==o&&(n+=o)}return n="> "+(n=n.trim()).split("\n").join("\n> ")}),A.subParser("makeMarkdown.codeBlock",function(e,t){var n=e.getAttribute("language"),e=e.getAttribute("precodenum");return"```"+n+"\n"+t.preList[e]+"\n```"}),A.subParser("makeMarkdown.codeSpan",function(e){return"`"+e.innerHTML+"`"}),A.subParser("makeMarkdown.emphasis",function(e,t){var n="";if(e.hasChildNodes()){n+="*";for(var a=e.childNodes,r=a.length,i=0;i<r;++i)n+=A.subParser("makeMarkdown.node")(a[i],t);n+="*"}return n}),A.subParser("makeMarkdown.header",function(e,t,n){var n=new Array(n+1).join("#"),a="";if(e.hasChildNodes())for(var a=n+" ",r=e.childNodes,i=r.length,o=0;o<i;++o)a+=A.subParser("makeMarkdown.node")(r[o],t);return a}),A.subParser("makeMarkdown.hr",function(){return"---"}),A.subParser("makeMarkdown.image",function(e){var t="";return e.hasAttribute("src")&&(t=(t+="!["+e.getAttribute("alt")+"](")+"<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t}),A.subParser("makeMarkdown.links",function(e,t){var n="";if(e.hasChildNodes()&&e.hasAttribute("href")){for(var a=e.childNodes,r=a.length,n="[",i=0;i<r;++i)n+=A.subParser("makeMarkdown.node")(a[i],t);n=(n+="](")+("<"+e.getAttribute("href")+">"),e.hasAttribute("title")&&(n+=' "'+e.getAttribute("title")+'"'),n+=")"}return n}),A.subParser("makeMarkdown.list",function(e,t,n){var a="";if(!e.hasChildNodes())return"";for(var r=e.childNodes,i=r.length,o=e.getAttribute("start")||1,s=0;s<i;++s)"undefined"!=typeof r[s].tagName&&"li"===r[s].tagName.toLowerCase()&&(a+=("ol"===n?o.toString()+". ":"- ")+A.subParser("makeMarkdown.listItem")(r[s],t),++o);return(a+="\n\x3c!-- --\x3e\n").trim()}),A.subParser("makeMarkdown.listItem",function(e,t){for(var n="",a=e.childNodes,r=a.length,i=0;i<r;++i)n+=A.subParser("makeMarkdown.node")(a[i],t);return/\n$/.test(n)?n=n.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):n+="\n",n}),A.subParser("makeMarkdown.node",function(e,t,n){n=n||!1;var a="";if(3===e.nodeType)return A.subParser("makeMarkdown.txt")(e,t);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":n||(a=A.subParser("makeMarkdown.header")(e,t,1)+"\n\n");break;case"h2":n||(a=A.subParser("makeMarkdown.header")(e,t,2)+"\n\n");break;case"h3":n||(a=A.subParser("makeMarkdown.header")(e,t,3)+"\n\n");break;case"h4":n||(a=A.subParser("makeMarkdown.header")(e,t,4)+"\n\n");break;case"h5":n||(a=A.subParser("makeMarkdown.header")(e,t,5)+"\n\n");break;case"h6":n||(a=A.subParser("makeMarkdown.header")(e,t,6)+"\n\n");break;case"p":n||(a=A.subParser("makeMarkdown.paragraph")(e,t)+"\n\n");break;case"blockquote":n||(a=A.subParser("makeMarkdown.blockquote")(e,t)+"\n\n");break;case"hr":n||(a=A.subParser("makeMarkdown.hr")(e,t)+"\n\n");break;case"ol":n||(a=A.subParser("makeMarkdown.list")(e,t,"ol")+"\n\n");break;case"ul":n||(a=A.subParser("makeMarkdown.list")(e,t,"ul")+"\n\n");break;case"precode":n||(a=A.subParser("makeMarkdown.codeBlock")(e,t)+"\n\n");break;case"pre":n||(a=A.subParser("makeMarkdown.pre")(e,t)+"\n\n");break;case"table":n||(a=A.subParser("makeMarkdown.table")(e,t)+"\n\n");break;case"code":a=A.subParser("makeMarkdown.codeSpan")(e,t);break;case"em":case"i":a=A.subParser("makeMarkdown.emphasis")(e,t);break;case"strong":case"b":a=A.subParser("makeMarkdown.strong")(e,t);break;case"del":a=A.subParser("makeMarkdown.strikethrough")(e,t);break;case"a":a=A.subParser("makeMarkdown.links")(e,t);break;case"img":a=A.subParser("makeMarkdown.image")(e,t);break;default:a=e.outerHTML+"\n\n"}return a}),A.subParser("makeMarkdown.paragraph",function(e,t){var n="";if(e.hasChildNodes())for(var a=e.childNodes,r=a.length,i=0;i<r;++i)n+=A.subParser("makeMarkdown.node")(a[i],t);return n=n.trim()}),A.subParser("makeMarkdown.pre",function(e,t){e=e.getAttribute("prenum");return"<pre>"+t.preList[e]+"</pre>"}),A.subParser("makeMarkdown.strikethrough",function(e,t){var n="";if(e.hasChildNodes()){n+="~~";for(var a=e.childNodes,r=a.length,i=0;i<r;++i)n+=A.subParser("makeMarkdown.node")(a[i],t);n+="~~"}return n}),A.subParser("makeMarkdown.strong",function(e,t){var n="";if(e.hasChildNodes()){n+="**";for(var a=e.childNodes,r=a.length,i=0;i<r;++i)n+=A.subParser("makeMarkdown.node")(a[i],t);n+="**"}return n}),A.subParser("makeMarkdown.table",function(e,t){for(var n="",a=[[],[]],r=e.querySelectorAll("thead>tr>th"),i=e.querySelectorAll("tbody>tr"),o=0;o<r.length;++o){var s=A.subParser("makeMarkdown.tableCell")(r[o],t),l="---";if(r[o].hasAttribute("style"))switch(r[o].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":l=":---";break;case"text-align:right;":l="---:";break;case"text-align:center;":l=":---:"}a[0][o]=s.trim(),a[1][o]=l}for(o=0;o<i.length;++o)for(var c=a.push([])-1,d=i[o].getElementsByTagName("td"),f=0;f<r.length;++f){var p=" ";"undefined"!=typeof d[f]&&(p=A.subParser("makeMarkdown.tableCell")(d[f],t)),a[c].push(p)}var u=3;for(o=0;o<a.length;++o)for(f=0;f<a[o].length;++f){var g=a[o][f].length;u<g&&(u=g)}for(o=0;o<a.length;++o){for(f=0;f<a[o].length;++f)1===o?":"===a[o][f].slice(-1)?a[o][f]=A.helper.padEnd(a[o][f].slice(-1),u-1,"-")+":":a[o][f]=A.helper.padEnd(a[o][f],u,"-"):a[o][f]=A.helper.padEnd(a[o][f],u);n+="| "+a[o].join(" | ")+" |\n"}return n.trim()}),A.subParser("makeMarkdown.tableCell",function(e,t){var n="";if(!e.hasChildNodes())return"";for(var a=e.childNodes,r=a.length,i=0;i<r;++i)n+=A.subParser("makeMarkdown.node")(a[i],t,!0);return n.trim()}),A.subParser("makeMarkdown.txt",function(e){e=e.nodeValue;return e=(e=e.replace(/ +/g," ")).replace(/\xa8NBSP;/g," "),e=(e=(e=(e=(e=(e=(e=(e=(e=A.helper.unescapeHTMLEntities(e)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}),ct.PLUGINS.markdown=function(o){var s,l,e,n,t,a=o.$,c=!1,r="",d="",f="",p="",u=[],g=[],h="",m=null,v=null;function b(e){var t;e=function(e){var t=e,n=e.match(/(\[\^(.+?)\])[^:]/g),a=e.match(/(\[\^(.+?)\]:)/g);if(n&&a){n.forEach(function(e,t,n){n[t]=n[t].substring(0,n[t].length-1)}),n=n.filter(function(e,t){return n.indexOf(e)===t}),a=a.filter(function(e,t){return a.indexOf(e)===t});for(var r=1,i=0;i<n.length;i++){var o=1==r?'<hr class="footnote-sep"><ol>':"";if(-1<a.indexOf(n[i]+":")){for(var s=-1<(t=(t=t.split(a[i]).join("{ftnt-plc}")).replace(a[i].substring(0,a[i].length-1),'<sup id="fnref:'.concat(r,'"><a href="#fn:').concat(r,'" class="footnote-a">').concat(r,"</a></sup>"))).indexOf(n[i])?1:0,l=0;s&&(l++,t=t.replace(a[i].substring(0,a[i].length-1),'<sup id="fnref:'.concat(r,":").concat(l,'"><a href="#fn:').concat(r,":").concat(l,'" class="footnote-a">').concat(r,":").concat(l,"</a></sup>")),s=-1<t.indexOf(n[i])?1:0););var c=(t=t.split("{ftnt-plc}").join(a[i])).indexOf(a[i]),d=t,f=d.substring(c,d.length-1);if(f=f.split("\n")[0],t=t.replace(f,""),-1<f.indexOf(": ")){f=f.split(": ")[1],f+='<a href="#fnref:'.concat(r,'" class="footnote-a">\u21a9</a>');for(var p=l;0!=l;)f+='<a href="#fnref:'.concat(r,":").concat(p-l+1,'" class="footnote-a">\u21a9</a>'),l--;f+="</p></li>",t=t+o+'<li id="fn:'.concat(r,'"><p>')+f,r++}}}1!=r&&(t+="</ol>")}return e=t}(e=function(e){for(var t=/^[A-Za-z0-9]/g,n=/^:[ ]{1}(.+?)+/g,a=e.split("\n"),r=a,i=a.length-1,o=1;o<i;o++)null!==a[o].match(n)&&(null!==a[o-1].match(t)&&o<i-1&&null!==a[o+1].match(n)?(r[o-1]="<dl><dt>"+a[o-1]+"</dt>",r[o]="<dd>"+a[o].substring(2)+"</dd>"):null!==a[o-1].match(t)&&(o<i-1&&null===a[o+1].match(n)||o==i-1)?(r[o-1]="<dl><dt>"+a[o-1]+"</dt>",r[o]="<dd>"+a[o].substring(2)+"</dd></dl>"):o<i-1&&null!==a[o+1].match(n)?r[o]="<dd>"+a[o].substring(2)+"</dd>":r[o]="<dd>"+a[o].substring(2)+"</dd></dl>");return e=r.join("\n")}(e=function(e){var a=e.indexOf("```"),r=0;-1<a&&(r=-1<(r=e.substring(a+1).indexOf("```"))?r+3:r);return e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,function(e,t,n){return a<n&&n<r?"---":"<hr />\n"})}(e=t=-1<(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=e).split("</p>").join("</p>\n")).split("</div>").join("\n")).replace(/(<([^>]+)>)/gi,"")).replace(/&gt;/gi,">")).replace(/&lt;/gi,"<")).split("&quot;").join('"')).split("&amp;").join("&")).split("&#39;").join("'")).split("&nbsp;").join(" ")).replace(/\|+\n[^\|]/g,function(e){return e.replace("\n","\n\n")})).indexOf("Powered by Froala Editor")?t.replace("Powered by Froala Editor",""):t))),e=n.makeHtml(e),e=o.clean.html(e),o.$wp.find(l)[0].innerHTML=e}return{_init:function(){if(o.events.on("contentChanged",function(){c&&b(o.html.get(!1,!1))},!0),o.events.$on(a(o.o_win),"resize",function(){c&&(l[0].style.width=o.$wp[0].clientWidth-o.$el[0].clientWidth+2+"px")}),o.events.on("paste.afterCleanup",function(e){if(c){for(var t,n=o.doc.createElement("div"),a=(n.innerHTML=e,n.querySelectorAll("img")),r=0;r<a.length;r++)(t=a[r]).outerHTML=t.outerHTML.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");e=n.innerHTML}return e}),n=new A.Converter({strikethrough:!0,tables:!0,tablesHeaderId:!0,simpleLineBreaks:!0,ghCodeBlocks:!0,tasklists:!0,customizedHeaderId:!0,requireSpaceBeforeHeadingText:!0,underline:!0}),o.$tb&&(e=o.$tb.find('.fr-command[data-cmd="markdown"]')),!o.$wp)return!1},refresh:function(e){var t=c;e.toggleClass("fr-active",t).attr("aria-pressed",t)},toggle:function(){var i;c?(d=o.html.get(!0,!0),o.opts.pastePlain=!1,o.$el.removeClass("fr-markdown-editor"),o.$wp.append(t[0].firstChild),a(t).remove(),o.$wp.find(s).remove(),o.$wp.find(l).remove(),o.$wp[0].lastChild.after(o.$placeholder[0]),o.$el.removeAttr("style"),o.size.refresh(),o.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command").not(e).removeClass("fr-disabled").attr("aria-disabled",!1),o.opts.iframe&&(o.$el=v,o.$wp=m,Object.keys(g).map(function(e){o.$el[0].setAttribute(e,g[e]),"class"!=e&&h[0].removeAttribute(e)}),o.$el[0].style.removeProperty("padding")),o.html.set(r),o.opts.iframe&&(o.$el=v,o.$wp=m,o.$placeholder=null,o.placeholder.show(),o.placeholder.refresh())):(r=o.html.get(!0,!0),o.html.set(d),o.opts.pastePlain=!0,o.opts.iframe?(o.$el[0].removeAttribute("spellcheck"),Array.from(o.$el[0].attributes).map(function(e){var t=e.name,e=e.value;return"class"!=t&&(u[t]=e),g[t]=e,o.$el[0].removeAttribute(t)}),o.$el[0].style.padding=0,o.$el[0].innerHTML="",o.$placeholder.hide()):o.$el.addClass("fr-markdown-editor"),t=a('<div class="fr-wrapper-markdown" />'),o.opts.heightMin?t.css("min-height","".concat(o.opts.heightMin,"px")):t.css("min-height","200px"),o.opts.heightMax?(t.css("maxHeight","".concat(o.opts.heightMax,"px")),t.css("overflow","auto")):(t.css("maxHeight",""),t.css("overflow","")),o.opts.height&&(t.css("height","".concat(o.opts.height,"px")),t.css("overflow","auto"),t.css("minHeight",o.opts.height-o.helpers.getPX(o.$el.css("padding-top"))-o.helpers.getPX(o.$el.css("padding-bottom")))),o.opts.iframe?(p=a('<div class="fr-box fr-basic fr-top"></div>'),f=a('<div class="fr-markdown-wrapper"></div>'),h=a('<div class="fr-element fr-markdown-editor"><p><br></p></div>'),Object.keys(u).map(function(e){return h[0].setAttribute(e,u[e])}),d&&(h[0].innerHTML=d),t[0].appendChild(h[0]),f[0].appendChild(t[0]),p[0].appendChild(f[0]),1==a(o.$html.find("body")[0]).find(".fr-box").length?(o.$el.prevAll().filter(function(e){return!["CodeMirror cm-s-default CodeMirror-wrap","fr-code"].includes(e.className)}).remove(),o.$el[0].appendChild(t[0])):(o.$el[0].appendChild(p[0]),m=o.$wp,o.$wp=f),v=o.$el,o.$el=h):(o.$wp.append(t),t[0].appendChild(o.$el[0])),s=a('<div class="gutter-horizontal"><div class="e-resize-handler"><i class="fa fa-circle-thin" aria-hidden="true"></i></div></div>'),a(t).append(s[0]),l=a('<div class="fr-element fr-markdown-view"></div>'),a(t).append(l[0]),a(t).after(o.$placeholder[0]),o.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").not(e).filter(function(){return"fullscreen"!==a(this).data("cmd")&&"moreMisc"!==a(this).data("cmd")}).addClass("fr-disabled").attr("aria-disabled",!0),a(s).on("mousedown touchstart",function(e){i={e:e,offsetLeft:s[0].offsetLeft,offsetTop:s[0].offsetTop,firstWidth:o.$el[0].offsetWidth,secondWidth:l[0].offsetWidth};var t=function t(e){o.selection.clear();e={x:e.clientX-i.e.clientX,y:e.clientY-i.e.clientY};e.x=Math.min(Math.max(e.x,-i.firstWidth),i.secondWidth),i.firstWidth+e.x<125||i.secondWidth-e.x<125||(s[0].style.left=i.offsetLeft+e.x+"px",o.$el[0].style.width=i.firstWidth+e.x+"px",l[0].style.width=i.secondWidth-e.x+"px")},n=function n(e){o.selection.clear();e={x:e.changedTouches[0].clientX-i.e.changedTouches[0].clientX,y:e.changedTouches[0].clientY-i.e.changedTouches[0].clientY};e.x=Math.min(Math.max(e.x,-i.firstWidth),i.secondWidth),i.firstWidth+e.x<100||i.secondWidth-e.x<100||(s[0].style.left=i.offsetLeft+e.x+"px",o.$el[0].style.width=i.firstWidth+e.x+"px",l[0].style.width=i.secondWidth-e.x+"px")},a=function a(){document.onmousemove=document.onmouseup=null,document.ontouchmove=document.ontouchend=null},r=function r(){o.$doc[0].onmousemove=o.$doc[0].onmouseup=null,o.$doc[0].ontouchmove=o.$doc[0].ontouchend=null};o.opts.iframe&&o.markdown.isEnabled?(o.$doc[0].onmousemove=t,o.$doc[0].ontouchmove=n,o.$doc[0].onmouseup=r,o.$doc[0].ontouchend=r):(document.onmousemove=t,document.ontouchmove=n,document.onmouseup=a,document.ontouchend=a)}),b(d)),c=!c},isEnabled:function(){return c}}},ct.DefineIcon("markdown",{NAME:"markdown",SVG_KEY:"markdown"}),ct.RegisterCommand("markdown",{title:"Markdown",undo:!1,focus:!1,toggle:!0,forcedRefresh:!0,accessibilityFocus:!0,callback:function(){this.markdown.toggle()},refresh:function(e){this.markdown.refresh(e)},plugin:"markdown"}),Object.assign(ct.DEFAULTS,{wordCounterMax:-1,wordCounterCount:!0}),ct.PLUGINS.wordCounter=function(s){var t,n=s.$;function l(){var e=s.el.innerText.toString(),t=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/(^\s*)|(\s*$)/gi," ")).replace(/\u00a0/g," ")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")).replace(/[\u200A\u200C-\u200D\uFEFF\u202F\u2000-\u2009\u205F\u3000\u1680\u00A0\u0020]/g," ")).replace(/[\u200B]/g,"")).replace(/\t+/g," ")).split(" ").join("\n"),s.$el.find(".fr-page-break")),n=(t.text()||"").trim().split(/\s+/).filter(Boolean).length,e=e.split(/\r?\n/),a=0;return e.forEach(function(e){0<(e=e.replace(/\s/g,"")).length&&a++}),a-t.length*n}function e(e){var t,n,a,r,i,o=!1;return s.opts.wordCounterMax<0||l()<s.opts.wordCounterMax||(t=e.which,i=(n=s.selection.get()).focusOffset,r=n.focusNode.textContent,a=(r=r.replace(/\u00a0/g," ")).toUpperCase().charCodeAt(i-1),r=r.toUpperCase().charCodeAt(i),!function(e,t){if(s.keys.isCharacter(e)&&s.keys.isCharacter(t)&&e!=ct.KEYCODE.SPACE&&t!=ct.KEYCODE.SPACE)return 1;return}(a=n.focusNode.data?a:r=NaN,r)||t!==ct.KEYCODE.ENTER&&t!==ct.KEYCODE.SPACE||(o=!0),i=r,(a===ct.KEYCODE.SPACE&&i===ct.KEYCODE.SPACE||function(e,t){if(isNaN(e)&&t===ct.KEYCODE.SPACE||e===ct.KEYCODE.SPACE&&isNaN(t))return 1;return}(a,r)||function(e,t){if(isNaN(e)&&isNaN(t))return 1;return}(a,r))&&s.keys.isCharacter(t)&&t!=ct.KEYCODE.SPACE&&(o=!0),l()>s.opts.wordCounterMax&&(s.keys.isCharacter(t)||t===ct.KEYCODE.ENTER)&&(o=!0),!(!s.keys.ctrlKey(e)&&o||t===ct.KEYCODE.IME))||(e.preventDefault(),e.stopPropagation(),s.events.trigger("wordCounter.exceeded"),!1)}function a(){var e;s.opts.wordCounterCount&&(e=l()+(0<s.opts.wordCounterMax?"/"+s.opts.wordCounterMax:""),t.text("".concat(s.language.translate("Words")," : ").concat(e)),s.opts.toolbarBottom&&t.css("margin-bottom",s.$tb.outerHeight(!0)),0<=(e=s.$wp.get(0).offsetWidth-s.$wp.get(0).clientWidth))&&("rtl"==s.opts.direction?t.css("margin-left",e):t.css("margin-right",e))}function r(e){return s.opts.wordCounterMax<0||n("<div>").html(e).text().split(" ").length+l()<=s.opts.wordCounterMax?e:(s.events.trigger("wordCounter.exceeded"),"")}return{_init:function(){return!!s.$wp&&!!s.opts.wordCounterCount&&((t=n(document.createElement("span")).attr("class","fr-counter fr-wCounter")).css("bottom",s.$wp.css("border-bottom-width")),(s.$second_tb||s.$wp).append(t),s.events.on("keydown",e,!0),s.events.on("paste.afterCleanup",r),s.events.on("keyup contentChanged input",function(){s.events.trigger("wordCounter.update")}),s.events.on("wordCounter.update",a),s.events.trigger("wordCounter.update"),void s.events.on("destroy",function(){n(s.o_win).off("resize.char".concat(s.id)),t.removeData().remove(),t=null}))},wordCount:l}},Object.assign(ct.POPUP_TEMPLATES,{"filestackPlugin.error":"[_UPLOAD_LAYER_]"}),ct.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED=[".pdf",".docx",".ppt",".pptx",".doc",".xlsx",".xls",".csv",".txt","image/jpeg","image/png","image/jpg","image/gif","image/webp","video/*","audio/*","mp3"],ct.REQUIRED_PLUGINS=["image","video","file","filesManager"],ct.FILESTACK_PICKER_OPTIONS_IMAGE_ONLY_SUPPORTED=["image/jpeg","image/png","image/jpg","image/gif","image/webp"],ct.FILESTACK_DEFAULT_ACCEPT_FILE_TYPES=[".pdf",".docx",".ppt",".pptx",".doc",".xlsx",".xls",".csv",".txt"],ct.FILESTACK_PICKER_OPTIONS_VIDEO_ONLY_SUPPORTED=["video/*"],ct.FILESTACK_PICKER_OPTIONS_FROMSOURCES_MAX_SUPPORTED=["local_file_system","imagesearch","url","googledrive","facebook","instagram","dropbox"],ct.FILESTACK_PICKER_DEFAULT_OPTIONS={displayMode:"overlay",uploadInBackground:!1,stage:{cname:"stage.filestackapi.com"}},Object.assign(ct.DEFAULTS,{filestackOptions:{}}),ct.DEFAULTS.imageInsertButtons&&!ct.DEFAULTS.imageInsertButtons.includes("openFilePickerImage")&&ct.DEFAULTS.imageInsertButtons.push("openFilePickerImage"),ct.DEFAULTS.imageEditButtons&&!ct.DEFAULTS.imageEditButtons.includes("filestackIcon")&&ct.DEFAULTS.imageEditButtons.push("filestackIcon"),ct.DEFAULTS.videoInsertButtons&&!ct.DEFAULTS.videoInsertButtons.includes("openFilePickerVideo")&&ct.DEFAULTS.videoInsertButtons.push("openFilePickerVideo"),ct.DEFAULTS.filesInsertButtons&&!ct.DEFAULTS.filesInsertButtons.includes("openFilePicker")&&ct.DEFAULTS.filesInsertButtons.push("openFilePicker"),ct.DEFAULTS.fileInsertButtons&&!ct.DEFAULTS.fileInsertButtons.includes("openFilePickerFile")&&ct.DEFAULTS.fileInsertButtons.push("openFilePickerFile"),ct.FILE_STACK_URL_PART="filestack",ct.PLUGINS.filestack=function(c){var a,d,t=["pdf","msword","vnd.openxmlformats-officedocument.wordprocessingml.document","vnd.ms-excel","vnd.openxmlformats-officedocument.spreadsheetml.sheet","vnd.ms-powerpoint","vnd.openxmlformats-officedocument.presentationml.presentation","csv","plain","ogg"],f=1,r=4,p=5,u=6,i=7,o={};function g(e,t){h(c.language.translate(o[e]),t)}function h(e,t,n,a){var r,i=c.popups.get("filestackPlugin.error");i=i||s(e),n&&(i.find(".fr-image-progress-bar-layer").addClass("fr-active"),i.find(".fr-error-message").addClass("fr-layer"),i.find(".fr-buttons").hide()),!c.$tb||("openFilePicker"===t?r="openFilePicker":"openFilePickerReplaceImageOnly"===t||"openFilePickerImage"===t?r="insertImage":"openFilePickerReplaceVideoOnly"===t||"openFilePickerVideo"===t?r="insertVideo":"openFilePickerVideoOnly"===t?r="openFilePickerVideoOnly":"openFilePickerImageOnly"===t?r="openFilePickerImageOnly":"openFilePickerFile"===t&&(r="openFilePickerFile"),e=c.$tb.find(".fr-command[data-cmd='".concat(r,"']")),n?c.popups.show("filestackPlugin.error",a.x,a.y):!i.hasClass("fr-active")&&(c.popups.refresh("filestackPlugin.error"),c.popups.setContainer("filestackPlugin.error",c.$tb),e.isVisible()||c.opts.toolbarInline)&&(n=(r=c.opts.toolbarInline&&["openFilePickerImage","openFilePickerVideo"].includes(t)?c.$(".fr-popup")[0].style:c.button.getPosition(e)).left,c.popups.show("filestackPlugin.error",n,r.top,e.outerHeight())))}function m(){var t,e="",n=(t=[],ct.REQUIRED_PLUGINS.forEach(function(e){c.opts.pluginsEnabled.indexOf(e)<0&&t.push(e.charAt(0).toUpperCase()+e.slice(1))}),t),e=n.join(", ");return 1<n.length?e+=" plugin are":e+=" plugin is",e}function s(e){var t=e.includes("Do you want to enable"),n=t?"<div style='text-align:right;' class='fr-buttons'>\n          <button class='fr-trim-button fr-plugins-enable'>".concat(c.language.translate("Enable"),"</button>               \n          <button class='fr-trim-button fr-plugins-cancel'>").concat(c.language.translate("Cancel"),"</button>\n        </div>"):"<div style='text-align:right;' class='fr-buttons'>\n          <button class='fr-trim-button fr-plugins-ok'>".concat(c.language.translate("OK"),"</button>               \n        </div>"),e="".concat('<div class="fr-image-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader fr-indeterminate"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="imageDismissError" tabIndex="2" role="button">OK</button></div></div>',"\n      <div style= 'padding:10px'>\n      <div class = 'fr-message fr-error-message'><h3 style ='font-size: 16px; margin: 10px 10px;font-weight: normal;'>").concat(c.language.translate(e),"</h3></div>\n      ").concat(n,"\n    "),n=c.popups.create("filestackPlugin.error",{upload_layer:e});return t?(e=n.find(".fr-plugins-enable")[0],t=n.find(".fr-plugins-cancel")[0],e.addEventListener("click",function(e){ct.REQUIRED_PLUGINS.forEach(function(e){c.opts.pluginsEnabled.indexOf(e)<0&&c.opts.pluginsEnabled.push(e)});var t,n=ct.PLUGINS;for(t in n)c[t]||ct.PLUGINS[t]&&c.opts.pluginsEnabled.indexOf(t)<0||(c[t]=new n[t](c),c[t]._init&&c[t]._init());S(),c.events.trigger("filestack.pluginsEnabled"),c.popups.hide("filestackPlugin.error"),y(),e.preventDefault()}),t.addEventListener("click",function(e){c.popups.hide("filestackPlugin.error"),y(),e.preventDefault()})):(e=n.find(".fr-plugins-ok")[0])&&e.addEventListener("click",function(e){c.popups.hide("filestackPlugin.error"),e.preventDefault()}),n}function v(){var t=!0;return ct.REQUIRED_PLUGINS.forEach(function(e){c.opts.pluginsEnabled.indexOf(e)<0&&(t=!1)}),t}o[f]="Filestack api is missing",o[2]="The Filestack options are missing. Please check filestackOptions",o[3]="The Filestack picker is missing. Please check filestackOption",o[r]="Image upload to filestack failed while processing the request",o[p]="Filestack plugin is currently not supported on this browser",o[u]="The selected media types are not supported",o[i]="The selected source types are not supported by Filestack",o[8]="Error opening Filestack picker due to invalid picker parameters",o[9]="This image is not supported for image transformation",o[10]="The Filestack client is not created yet";var b=c.opts.filestackOptions.filestackAPI;if(b)try{d=c.opts.filestackOptions.staging?filestack.init(b,ct.FILESTACK_PICKER_DEFAULT_OPTIONS.stage):filestack.init(b,ct.FILESTACK_PICKER_DEFAULT_OPTIONS)}catch(R){0===!Object.keys(c.opts.filestackOptions).length&&g(10)}function E(){var e=[];return"undefined"==typeof filestack||"function"!=typeof filestack.init||(window.File&&window.FileReader&&window.FileList&&window.Blob||e.push("File API"),"fetch"in window||e.push("Fetch API"),"Promise"in window||e.push("Promise API"),"DataTransfer"in window||e.push("Drag & Drop API"),"mediaDevices"in navigator)||"webkitGetUserMedia"in navigator||e.push("MediaDevices API (Camera/Microphone Uploads)"),Promise.resolve(!0)}function l(e){return!1===c.events.trigger("filestack.uploadedToFilestack",[e],!0)?(c.edit.on(),!1):e}function y(e){var t=c.button.getButtons('button[data-cmd="openFilePicker"]'),n=c.button.getButtons('button[data-cmd="openFilePickerImageOnly"]'),a=c.button.getButtons('button[data-cmd="openFilePickerVideoOnly"]'),r=c.button.getButtons('button[data-cmd="openFilePickerFile"]');t.removeClass("fr-filestack-active"),n.removeClass("fr-filestack-active"),a.removeClass("fr-filestack-active"),r.removeClass("fr-filestack-active"),!1===c.events.trigger("filestack.filestackPickerClosed",[e],!0)&&c.edit.on()}function w(){L=x=null,c.selection.restore()}function _(e){g(r,e),!1===c.events.trigger("filestack.uploadFailedToFilestack",[e],!0)&&c.edit.on()}function C(e){return t.includes(e.split("/")[1])}function A(e){if("undefined"!=typeof e.filesUploaded){var a,t=_e(e.filesUploaded);try{var n,r=function r(){var t,n=a.value;if(C(n.mimetype)||n.mimetype.includes("image/jpeg")||n.mimetype.includes("image/png")||n.mimetype.includes("image/")||n.mimetype.includes("video/")||n.mimetype.includes("audio/mpeg"))return n.mimetype.includes("image/")&&T(!0),n.mimetype.includes("video/")&&k(),t=function t(e){n.mimetype.includes("image")?e.next().is("br")&&e.next().remove():(e.next()&&e.next().is("br")&&e.next().remove(),e.prev()&&e.prev().is("br")&&e.prev().remove()),c.selection.setAfter(e[0])},!l(e)||x||L||(n.mimetype.includes("ogg")?c.file.insert(n.url,n.filename,null):n.mimetype.includes("image")?(c.image.insert(n.url,!1,null,null),c.events.on("image.loaded",t)):n.mimetype.includes("video")?(c.events.on("video.inserted",t),c.video.insertHtmlVideo(n.url,null,null,null,null)):n.mimetype.includes("audio/mpeg")?(c.events.on("video.inserted",t),c.video.insertHtmlVideo(n.url,null,null,null,null,"audio")):C(n.mimetype)&&c.file.insert(n.url,n.filename,null)),x?(c.image.insert(n.url,!1,null,x),x=null,{v:void 0}):L?(c.video.insertHtmlVideo(n.url,!1,null,L),L=null,{v:void 0}):void 0};for(t.s();!(a=t.n()).done;)if(n=r())return n.v}catch(i){t.e(i)}finally{t.f()}}}function T(e){var t=!1,n=(c.opts.imageInsertButtons=c.opts.imageInsertButtons.map(function(e){return"openFilePickerImage"===e?(t=!0,"openFilePickerReplaceImageOnly"):e}),t&&c.events.trigger("filestack-init"),c.popups.hide("image.edit"),c.doc.querySelector(".fr-popup:not(.fr-do-not-hide)"));n&&n.remove(),c.opts.pluginsEnabled.includes("filestack")&&(n=e,c.opts.imageEditButtons.includes("filestackIcon")&&(a=c.opts.imageEditButtons.indexOf("filestackIcon")),!c.opts.imageEditButtons.includes("filestackIcon")&&n&&c.opts.pluginsEnabled.includes("filestack")?!a&&0!==a||c.opts.imageEditButtons.splice(a,0,"filestackIcon"):n||(c.opts.imageEditButtons=c.opts.imageEditButtons.filter(function(e){return"filestackIcon"!=e})),c.opts.filestackOptions.uploadToFilestackOnly&&n?c.opts.imageEditButtons=c.opts.imageEditButtons.filter(function(e){return"imageTUI"!=e}):c.opts.pluginsEnabled.includes("imageTUI")&&!c.opts.imageEditButtons.includes("imageTUI")&&c.opts.imageEditButtons.push("imageTUI")),c.events.trigger("filestack-init-edit")}function k(){var t=!1;c.opts.videoInsertButtons=c.opts.videoInsertButtons.map(function(e){return"openFilePickerVideo"===e?(t=!0,"openFilePickerReplaceVideoOnly"):e}),t&&c.events.trigger("filestack-init-video")}function S(){c.popups.onHide("image.insert",function(){var e=c.button.getButtons('button[data-cmd="openFilePickerImage"]'),t=c.button.getButtons('button[data-cmd="openFilePickerReplaceImageOnly"]');e.removeClass("fr-filestack-active"),t.removeClass("fr-filestack-active")}),c.popups.onHide("video.insert",function(){var e=c.button.getButtons('button[data-cmd="openFilePickerVideo"]'),t=c.button.getButtons('button[data-cmd="openFilePickerReplaceVideoOnly"]');e.removeClass("fr-filestack-active"),t.removeClass("fr-filestack-active")}),c.popups.onHide("filesManager.insert",function(){c.button.getButtons('button[data-cmd="openFilePicker"]').removeClass("fr-filestack-active")});var t,n,e=c.opts.filestackOptions.pickerOptions?Object.assign({},c.opts.filestackOptions.pickerOptions,{accept:c.opts.filestackOptions.pickerOptions.accept||[],fromSources:c.opts.filestackOptions.pickerOptions.fromSources||[]}):{accept:[],fromSources:[]},a=(e.fromSources=(t=ct.FILESTACK_PICKER_OPTIONS_FROMSOURCES_MAX_SUPPORTED,(r=e.fromSources)&&0!==r.length?(n=[],r.forEach(function(e){-1<t.indexOf(e)&&n.push(e)}),0===n.length&&g(i),n):t),e.onOpen=function(e){c.events.on("window.mouseup",function(e){if(document.getElementById("__filestack-picker")&&c.helpers.isMobile())return e.preventDefault(),e.stopPropagation(),!1},!0),!1===c.events.trigger("filestack.filestackPickerOpened",[e],!0)&&c.edit.on();e=c.selection.get();e&&(e.anchorNode,e.anchorOffset)},e.onUploadDone=A,e.onFileUploadFailed=_,e.onClose=y,e.onCancel=w,c.opts.filestackOptions=Object.assign({},c.opts.filestackOptions,{pickerOptions:e}),function a(e){var t="IMG"===e.target.tagName,n="VIDEO"===e.target.tagName,e=e.target.src&&e.target.src.includes(ct.FILE_STACK_URL_PART)&&!e.target.src.includes("blob:");t?T(e):n&&k()}),r=c.helpers.isMobile()&&!c.helpers.isWindowsPhone(),r=(c.events.on(r?"touchend":"click",a,r),c.events.on("drop",function(){T(!1),k()},!0),!c.opts.filestackOptions.uploadToFilestackOnly||c.opts.iframe||c.opts.fullPage||(d&&E()&&v()&&(e=filestackDnD.init(d,c.el))&&e.on("uploadFileFinish",function(e){var t;e.files[0].mimetype.includes("image/")&&T(!0),e.files[0].mimetype.includes("video/")&&k(),(C(e.files[0].mimetype)||e.files[0].mimetype.includes("pdf")||e.files[0].mimetype.includes("image/jpeg")||e.files[0].mimetype.includes("image/png")||e.files[0].mimetype.includes("image/")||e.files[0].mimetype.includes("video/")||e.files[0].name&&e.files[0].name.includes(".ogg"))&&(t=function t(e){c.popups.hide("filestackPlugin.error"),c.selection.setAfter(e[0])},e.files[0].mimetype.includes("image")?l(e)&&(c.image.insert(e.data.url,!1),c.events.on("image.inserted",t)):e.files[0].mimetype.includes("video")?(c.video.insertHtmlVideo(e.data.url),c.events.on("video.inserted",t)):(e.files[0].mimetype.includes("pdf")||C(e.files[0].mimetype)||e.files[0].name&&e.files[0].name.includes(".ogg"))&&c.file.insert(e.data.url,e.data._file.name,null),c.popups.hide("filestackPlugin.error"))}),c.events.on("drop",function(e){return d?E()?v()?(c.markers.remove(),c.markers.insertAtPoint(e.originalEvent),c.$el.find(".fr-marker").replaceWith(ct.MARKERS),0===c.$el.find(".fr-marker").length&&c.selection.setAtEnd(c.el),h("Image loading","",!0,{x:e.originalEvent.x,y:e.originalEvent.y})):h(m()+" not enabled. Do you want to enable?","openFilePicker"):(s(o[p]),c.popups.show("filestackPlugin.error",e.originalEvent.x,e.originalEvent.y)):(s(o[f]),c.popups.show("filestackPlugin.error",e.originalEvent.x,e.originalEvent.y)),e.preventDefault(),e.stopPropagation(),!1},!0)),document.getElementById("insertImage-".concat(c.id))),e=(r&&r.addEventListener("mouseup",function(){var t=!1;c.opts.imageInsertButtons=c.opts.imageInsertButtons.map(function(e){return"openFilePickerReplaceImageOnly"===e?(t=!0,"openFilePickerImage"):e}),t&&c.events.trigger("filestack-init")}),document.getElementById("insertVideo-".concat(c.id)));e&&e.addEventListener("mouseup",function(){var t=!1;c.opts.videoInsertButtons=c.opts.videoInsertButtons.map(function(e){return"openFilePickerReplaceVideoOnly"===e?(t=!0,"openFilePickerVideo"):e}),t&&c.events.trigger("filestack-init-video")}),c.events.on("image.loaded",function(e){(!e[0].src.includes(ct.FILE_STACK_URL_PART)||e[0].src.includes(ct.FILE_STACK_URL_PART)&&e[0].src.includes("blob:"))&&setTimeout(function(){var e=document.querySelector("#filestackIcon-".concat(c.id));e&&e.parentNode.removeChild(e)},10)})}return c.events.on("filestack.imageTransformation.click",function(){var e,n,t,a;e=c.image.get(),x=e,n=c.image.get()[0].currentSrc||"",t=filestack.init(b),(e=new FilestackTransform(t)).setConfigKey("output.blob",!0),e.open(n).then(function(e){t.upload(e).then(function(e){var t=c.selection.save();void 0!==n&&(c.image.insert(e.url,!1,null,x),x=null,c.selection.restore(t))}),t.on("upload.error",function(){g(r)})}),c.events.on("keydown",function(){var e=document.getElementsByClassName("fs-transforms-container");c.helpers.isMobile()&&e&&e[0].childNodes&&e[0].childNodes.length&&(x=null)}),a=c.button.getButtons('button[data-cmd="filestackIcon"]'),e.on("canvas:save",function(){a.removeClass("fr-filestack-active"),h("Image loading","",!0,{x:x.offset().left,y:x.offset().top+x.height()})}),e.on("canvas:cancel",function(){a.removeClass("fr-filestack-active")})}),c.events.on("filestack.imageTransformation.error",function(){g(9)}),{_init:S,showFilestackPopup:function(e,t,n){if(!e)return!1;var a;if("openFilePicker"===e||"openFilePickerFile"===e?a=ct.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED:"openFilePickerImageOnly"===e||"openFilePickerReplaceImageOnly"===e||"openFilePickerImage"===e?a=ct.FILESTACK_PICKER_OPTIONS_IMAGE_ONLY_SUPPORTED:"openFilePickerVideoOnly"!==e&&"openFilePickerReplaceVideoOnly"!==e&&"openFilePickerVideo"!==e||(a=ct.FILESTACK_PICKER_OPTIONS_VIDEO_ONLY_SUPPORTED),!b)return g(f,e),!1;if(!E())return g(p,e),!1;if(!v())return h(m()+" not enabled. Do you want to enable?",e),!1;if(!d&&0===!Object.keys(c.opts.filestackOptions).length)return g(10,e),!1;t&&(x=t),n&&(L=n);var r,i,o=c.opts.filestackOptions.pickerOptions?Object.assign({},c.opts.filestackOptions.pickerOptions,{accept:c.opts.filestackOptions.pickerOptions.accept||[],fromSources:c.opts.filestackOptions.pickerOptions.fromSources||[]}):{accept:[],fromSources:[]},s=c.opts.fileAllowedTypes&&1===c.opts.fileAllowedTypes.length&&"*"===c.opts.fileAllowedTypes[0]?ct.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED:c.opts.fileAllowedTypes,l=(0===o.accept.length&&(o.accept=ct.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED),ct.FILESTACK_PICKER_OPTIONS_VIDEO_ONLY_SUPPORTED),l=(c.opts.videoAllowedTypes&&(l=c.opts.videoAllowedTypes.map(function(e){return("mp3"===e?"audio/":"video/").concat(e)})),"openFilePickerImageOnly"===e||"openFilePickerReplaceImageOnly"===e||"openFilePickerImage"===e?a=c.opts.imageAllowedTypes.map(function(e){return"image/".concat(e)}):"openFilePickerVideoOnly"===e||"openFilePickerReplaceVideoOnly"===e||"openFilePickerVideo"===e?a=l:"openFilePickerFile"===e&&(a=s),o.maxFiles),t=((t||n)&&(l=1),"openFilePicker"===e?(r=a,(s=o.accept)&&0!==s.length?(i=[],s.forEach(function(e){-1<r.indexOf(e)&&i.push(e)}),0===i.length&&g(u),i):r):a),n=Object.assign({},o,{accept:t,maxFiles:l});try{d.picker(n).open(),c.popups.hideAll(),c.selection.save()}catch(R){0===Object.keys(c.opts.filestackOptions).length&&g(8,e)}},isBrowserSupported:E}},ct.DefineIcon("filestackIcon",{ALT:"Open Filestack file picker",NAME:"filestack",SVG_KEY:"filestackIcon"}),ct.DefineIcon("filestackIconAdd",{ALT:"Open Filestack file picker",NAME:"filestackAdd",SVG_KEY:"filestackIconAdd"}),ct.DefineIcon("imageTransformations",{ALT:"Open Filestack image transformations",NAME:"imageTransformations",SVG_KEY:"imageTransformations"}),ct.DefineIcon("imageFilestackOnly",{template:"svgMultiplePath",PATHS:'<path d="M11.1 15.8h7.7V5.7H5.1v4.2H3.4V5.7c0-.9.8-1.7 1.7-1.7h13.7c.9 0 1.7.8 1.7 1.7v10.1c0 .9-.8 1.7-1.7 1.7h-7.7v-1.7Zm0-2.5 2.6-3.4h.2l3.3 4.2h-6.1v-.8ZM8.9 6.9c.7 0 1.3.6 1.3 1.3s-.6 1.3-1.3 1.3-1.3-.6-1.3-1.3.6-1.3 1.3-1.3Z"/><path d="M11.1 17.5 8.7 20v-2.5h2.4Zm-4.9-1.6v.9h-.9v-.9h.9Zm4.9.9h-.9v-6H3.5V19h4.6v.9H2.5V9.8h8.6v7Zm-3.4-1.6H5.3v-.9h2.4v.9Zm.6-2.5v.9h-3v-.9h3Z"/>'}),ct.DefineIcon("videoFilestackOnly",{template:"svgMultiplePath",PATHS:'<path d="m11 11.3 1 2.6h3.6V6.8h-9v3.6H4.8V6c0-.2.1-.5.3-.6s.4-.3.6-.3h10.8c.2 0 .5.1.6.3s.3.4.3.6v3.1l2.1-2c.3-.3.6-.3 1-.2.3 0 .6.5.6.8v5.5c0 .4-.2.7-.6.8-.3.1-.7 0-1-.2l-2.1-2v3.1c0 .2 0 .5-.3.6-.2.2-.4.3-.6.3H12V14l-1-2.7Z" /><path d="M11.1 17.5 8.7 20v-2.5h2.4Zm-4.9-1.6v.9h-.9v-.9h.9Zm4.9.9h-.9v-6H3.5V19h4.6v.9H2.5V9.8h8.6v7Zm-3.4-1.6H5.3v-.9h2.4v.9Zm.6-2.5v.9h-3v-.9h3Z"/>'}),ct.RegisterCommand("openFilePicker",{type:"button",icon:"filestackIcon",title:"Open Filestack File Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePicker"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePicker")},plugin:"filestack"}),ct.RegisterCommand("openFilePickerImageOnly",{type:"button",icon:"imageFilestackOnly",title:"Open Filestack Image Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerImageOnly"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerImageOnly",this.image&&this.image.get())},plugin:"filestack"}),ct.RegisterCommand("openFilePickerImage",{type:"button",icon:"filestackIcon",title:"Open Filestack Image Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerImage"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerImage",this.image&&this.image.get())},plugin:"filestack"}),ct.RegisterCommand("openFilePickerReplaceImageOnly",{type:"button",icon:"filestackIconAdd",title:"Open Filestack File Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerReplaceImageOnly"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerReplaceImageOnly",this.image&&this.image.get())},plugin:"filestack"}),ct.RegisterCommand("openFilePickerVideoOnly",{type:"button",icon:"videoFilestackOnly",title:"Open Filestack Video Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerVideoOnly"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerVideoOnly",null,this.video&&this.video.get())},plugin:"filestack"}),ct.RegisterCommand("openFilePickerVideo",{type:"button",icon:"filestackIcon",title:"Open Filestack Video Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerVideo"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerVideo",null,this.video&&this.video.get())},plugin:"filestack"}),ct.RegisterCommand("openFilePickerReplaceVideoOnly",{type:"button",icon:"filestackIconAdd",title:"Open Filestack File Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerReplaceVideoOnly"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerReplaceVideoOnly",null,this.video&&this.video.get())},plugin:"filestack"}),ct.RegisterCommand("filestackIcon",{type:"button",icon:"imageTransformations",title:"Image Transformations",plugin:"filestack",callback:function(){var e=!1,t=this.image.get(0)[0];(e=t&&t.currentSrc?t.currentSrc.includes(ct.FILE_STACK_URL_PART)&&!t.currentSrc.includes("blob:"):e)?(this.button.getButtons('button[data-cmd="filestackIcon"]').addClass("fr-filestack-active"),this.events.trigger("filestack.imageTransformation.click")):this.events.trigger("filestack.imageTransformation.error")}}),ct.RegisterCommand("openFilePickerFile",{type:"button",icon:"filestackIcon",title:"Open Filestack Upload File",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerFile"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerFile")},plugin:"filestack"}),Object.assign(ct.DEFAULTS,{enableMatchCase:!1,enableMatchWholeWord:!1,showFindAndReplace:!1}),ct.POPUP_TEMPLATES["findReplace.popup"]="[_BUTTONS_][_FIND_REPLACE_LAYER_]",ct.PLUGINS.findReplace=function(d){var f=[],p=-1,r=!1,i=!1,o=null,s=null,c=null,u=null,g=null,h=d.$(d.icon.create("findAndReplaceArrowDown")).addClass("fr-arrow-button")[0].outerHTML,m=d.$(d.icon.create("findAndReplaceArrowUp")).addClass("fr-arrow-button")[0].outerHTML;function t(){var e=d.popups.get("findReplace.popup"),t=e.find("#fr-findText-"+d.id).val().trim(),n=e.find("#fr-replaceText-"+d.id)[0],a=e.find('div.fr-input-line > label[for="fr-replaceText-'.concat(d.id,'"]'))[0],r=e.find(".fr-replace-btn")[0],i=e.find(".fr-replace-all-btn")[0],o=e.find("#fr-arrowDown-"+d.id)[0],e=e.find("#fr-arrowUp-"+d.id)[0],s=0<f.length;n.readOnly=!t,n.classList.toggle("fr-disabled",!s),n.readOnly=!s,r.classList.toggle("fr-disabled",!s),a.classList.toggle("fr-label-disabled",!s),i.classList.toggle("fr-disabled",!s),o.classList.toggle("fr-disabled",!s),e.classList.toggle("fr-disabled",!s),t||O(0)}function l(){var s,a,r,l,e={buttons:"",find_replace_layer:"\n                    <div class='fr-find-replace-layer' tabindex=\"-1\">\n                        <div class='fr-header fr-drag-handle' tabindex=\"-1\">".concat(d.language.translate("Find and Replace"),"</div>\n                        <div class='fr-body' tabindex=\"-1\">\n                            <button type='button' class='fr-close-btn' title='").concat(d.language.translate("Close"),"' aria-label='").concat(d.language.translate("Close"),"' tabIndex='0'>&times;</button>\n                            <div class='fr-input-container'>\n\t                            <div class='fr-input-line fr-find-field'>\n                                <input id='fr-findText-").concat(d.id,"' class='fr-findText' type='text' placeholder='").concat(d.language.translate("Find"),"' tabIndex='1'>\n                              </div>\n                                <span class='fr-count-indicator'></span>\n                                <div class='fr-arrow-buttons'>\n                                    <div class='fr-arrow-buttons'>\n                                        <button type='button' id='fr-arrowDown-").concat(d.id,"' aria-label='").concat(d.language.translate("Next"),"' title='").concat(d.language.translate("Next"),"' tabIndex='2'>\n                                            ").concat(h,"\n                                        </button>\n                                        <button type='button' id='fr-arrowUp-").concat(d.id,"' aria-label='").concat(d.language.translate("Previous"),"' title='").concat(d.language.translate("Previous"),"' tabIndex='3'>\n                                            ").concat(m,"\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class='fr-input-line fr-replace-field'>\n                              <input id='fr-replaceText-").concat(d.id,"' class='fr-replaceText' type='text' aria-label='").concat(d.language.translate("Replace with"),"' placeholder='").concat(d.language.translate("Replace with"),"' tabIndex='4' />\n                            </div>\n                            <button type='button' class=\"fr-toggle-advanced-options\" title='").concat(d.language.translate("Advanced Options"),"' aria-label='").concat(d.language.translate("Advanced Options"),"' tabIndex='5'>").concat(d.language.translate("Advanced Options"),'<span class="fr-arrow">').concat(h,'</span></button>\n                            <div class=\'fr-advanced-options-panel\' style=\'display: none;\'>\n                              <div class="fr-checkbox-group">\n                                <div class="fr-checkbox-row">\n                                  <input type="checkbox" id="fr-matchCase-').concat(d.id,'" name="fr-matchCaseToggle" dir="auto" tabIndex=\'6\'>\n                                  <label for="fr-matchCase-').concat(d.id,'">').concat(d.language.translate("Match case"),'</label>\n                                </div>\n                                <div class="fr-checkbox-row">\n                                  <input type="checkbox" id="fr-wholeWord-').concat(d.id,'" name="fr-wholeWordToggle" dir="auto" tabIndex=\'7\'>\n                                  <label for="fr-wholeWord-').concat(d.id,'">').concat(d.language.translate("Whole words only"),"</label>\n                                </div>\n                              </div>\n                            </div>\n                            <div class='fr-button-group'>\n                                <button type='button' class='fr-replace-btn' aria-label='").concat(d.language.translate("Replace"),"' tabIndex='8'>").concat(d.language.translate("Replace"),"</button>\n                                <button type='button' class='fr-replace-all-btn' aria-label='").concat(d.language.translate("Replace All"),"' tabIndex='9'>").concat(d.language.translate("Replace All"),"</button>\n                                <button type='button' class='fr-find-btn' aria-label='").concat(d.language.translate("Find"),"' tabIndex='10'>").concat(d.language.translate("Find"),"</button>\n                            </div>\n                        </div>\n                    </div>\n                ")};return g=d.popups.create("findReplace.popup",e),s=g.get(0),r=a=0,l=d.popups.get("findReplace.popup"),d.events.$on(l,"mousedown",function(e){var t;function n(e,t){c=e-a+"px",u=t-r+"px",s.style.left=c,s.style.top=u}function i(){setTimeout(function(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i),s.onmouseup=null;var e=d.$iframe&&d.$iframe.get(0);e&&l&&l.isVisible()&&(e.style.pointerEvents="");var e=(d.popups.get("findReplace.popup")&&d.popups.get("findReplace.popup").data("instance")||d).$box[0],t=e.getBoundingClientRect(),n=s.getBoundingClientRect(),a=n.top-t.top-10,r=n.left-t.left,n=(a+n.height>t.height&&(a=t.height-n.height),r+n.width>t.width&&(r=t.width-n.width),a<0&&(a=n.height>t.height||n.top<=0?46:n.top-40),r<0&&(r=t.left),document.activeElement);e.appendChild(s),n.focus(),s.style.position="absolute",s.style.top="".concat(a,"px"),s.style.left="".concat(r,"px")},50)}function o(e){n(e.pageX,e.pageY)}e.target.classList.contains("fr-drag-handle")&&((t=d.$iframe&&d.$iframe.get(0))&&l&&l.isVisible()&&(t.style.pointerEvents="none"),t=s.getBoundingClientRect(),a=e.clientX-t.left,r=e.clientY-t.top+10,s.style.position="absolute",s.style.zIndex=d.opts.zIndex+20,document.body.append(s),n(e.pageX,e.pageY),document.addEventListener("mousemove",o),d.events.on("mouseup",i),document.addEventListener("mouseup",i),s.onmouseup=i,d.events.on("popups.hide.findReplace.popup",i))}),d.events.$on(l,"dragstart",function(e){return e.preventDefault()}),d.events.$on(g,"click","#fr-matchCase-"+d.id,v,!1),d.events.$on(g,"click","#fr-wholeWord-"+d.id,b,!1),d.events.bindClick(g,".fr-find-btn",y),d.events.bindClick(g,".fr-replace-btn",w),d.events.bindClick(g,".fr-replace-all-btn",_),d.events.bindClick(g,"#fr-arrowUp-"+d.id,function(){return x(p)}),d.events.bindClick(g,"#fr-arrowDown-"+d.id,function(){return R(p+1)}),d.events.bindClick(g,".fr-close-btn",T),d.events.bindClick(g,".fr-toggle-advanced-options",C),g.on("focusin",function(){d.quickInsert&&"function"==typeof d.quickInsert.hide&&d.quickInsert.hide()}),d.events.on("input paste.after cut commands.redo commands.undo",function(){0<f.length&&g.isVisible()&&y()}),d.events.on("commands.before",function(e){0<f.length&&"clearFormatting"===e&&(S(),O(0))}),d.events.on("keydown",function(e){g.isVisible()&&(e.keyCode===ct.KEYCODE.BACKSPACE||e.keyCode===ct.KEYCODE.DELETE)&&0<f.length&&y()}),g.on("keyup",n),g}function n(e){var t;!d.popups.get("findReplace.popup").isVisible()||e.keyCode!==ct.KEYCODE.ENTER&&e.keyCode!==ct.KEYCODE.SPACE||(t=e.target,e.keyCode===ct.KEYCODE.ENTER&&(A(!1),t.matches("#fr-findText-"+d.id)?y():t.matches("#fr-replaceText-"+d.id)&&w()),t.matches("#fr-arrowUp-"+d.id)?x(p):t.matches("#fr-arrowDown-"+d.id)?R(p+1):t.matches(".fr-close-btn")?T():t.matches(".fr-find-btn")?y():t.matches(".fr-replace-btn")?w():t.matches(".fr-replace-all-btn")?_():t.matches(".fr-toggle-advanced-options")?C():t.matches("#fr-matchCase-"+d.id)?(e.currentTarget.checked=!e.currentTarget.checked,v(e)):t.matches("#fr-wholeWord-"+d.id)&&(e.currentTarget.checked=!e.currentTarget.checked,b(e)))}function v(e){r=e.currentTarget.checked,E()}function b(e){i=e.currentTarget.checked,E()}function E(){S(),O(0),t()}function y(){var e=g.find("#fr-findText-"+d.id)[0],e=e?e.value.trim():"";e?(a(e),0<f.length?(R(0),A(!1)):(A(!0,e),O(0))):(S(),O(0),A(!1)),t()}function w(){var e;g.find(".fr-replace-btn").hasClass("fr-disabled")||(L((e=g.find("#fr-replaceText-"+d.id)[0])?e.value.replace(/ /g,"\xa0"):""),t())}function _(){var e;g.find(".fr-replace-all-btn").hasClass("fr-disabled")||(I((e=g.find("#fr-replaceText-"+d.id)[0])?e.value.replace(/ /g,"\xa0"):""),t())}function C(){var e=g.find(".fr-toggle-advanced-options .fr-arrow")[0],t=g.find(".fr-advanced-options-panel").get(0),n="none"===t.style.display||!t.style.display;t.style.display=n?"block":"none",e.innerHTML=n?m:h}function A(e,t){var t=1<arguments.length&&t!==undefined?t:"",n=d.popups.get("findReplace.popup"),a=n.find(".fr-find-error").get(0),r=n.find("#fr-findText-"+d.id).get(0);a||(n=n.find(".fr-input-container").get(0),(a=document.createElement("div")).className="fr-find-error",n.parentNode.insertBefore(a,n.nextSibling)),e?(a.textContent="".concat(d.language.translate("There are no entries matching"),' "').concat(t,'"'),a.style.display="block",r.classList.add("error")):(a.style.display="none",r&&r.classList.remove("error"))}function e(){var e=d.popups.get("findReplace.popup"),e=(e&&e.isVisible()&&(e=e.data("instance"))&&e!==d&&e.findReplace&&e.findReplace.hidePopup(),d.undo.saveStep(),!0===d.opts.enableMatchCase&&(r=!0),!0===d.opts.enableMatchWholeWord&&(i=!0),d.selection.save(),d.popups.get("findReplace.popup")),t=((e=e||l())&&e.data("container")[0]!==d.$box[0]&&(S(),e.remove(),e=l()),e.data("instance")),t=(e.addClass("fr-do-not-hide"),t!==d&&(f=[],E()),e.data("instance",d),d.popups.setContainer("findReplace.popup",d.$box),e.get(0)),n=(t&&d.$tb&&d.$tb.length&&d.$tb.append(t),d.$box[0].getBoundingClientRect()),n=(t.style.position="absolute",o=n.right-500,s=46,t.offsetWidth),a=t.offsetHeight,n=(0<=o&&0<=s&&o+n<=window.innerWidth&&s+a<=window.innerHeight?(t.style.left="".concat(o,"px"),t.style.top="".concat(s,"px")):(t.style.left="".concat(window.innerWidth/2-n/2,"px"),t.style.top="".concat(window.innerHeight/20-a/12,"px")),d.popups.show("findReplace.popup"),e.find("#fr-matchCase-"+d.id)[0].checked=r,e.find("#fr-wholeWord-"+d.id)[0].checked=i,t.style.zIndex=d.opts.zIndex+20,e.find("#fr-findText-"+d.id)[0]),a=d.selection.text().trim();a&&(n.value=a),n.focus(),n.addEventListener("input",function(){A(!1),f=[],E()}),E()}function T(){var e,t;!1!==d.events.trigger("findandreplace.beforeClose")&&(e=d.popups.get("findReplace.popup"))&&((t=d.$iframe&&d.$iframe.get(0))&&e&&e.isVisible()&&(t.style.pointerEvents=""),e.removeClass("fr-do-not-hide"),d.popups.hide("findReplace.popup"),c=u=null,S(),A(!1),f=[],p=-1,d.selection.restore(),d.undo.saveStep(),O(0))}function a(e){var t=d.popups.get("findReplace.popup"),n=t.data("instance")||d;if(n.el.querySelectorAll(".fr-marker").forEach(function(e){var t=e.parentNode;e.remove(),t&&t.normalize()}),S(),e.trim()){var a,r=t.find("#fr-matchCase-"+d.id)[0].checked,t=t.find("#fr-wholeWord-"+d.id)[0].checked,n=(f=[],p=-1,n.el),r=r?"g":"gi",t=t?"(?<=^|\\s)(".concat(c(e),")(?=\\s|$|\\b)"):c(e),i=new RegExp(t,r),o=function(e){var t,n=[],a=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:function(e){e=e.parentNode;return!e||["SCRIPT","STYLE"].includes(e.tagName)||e.classList&&e.classList.contains("fr-tracking-deleted")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}});for(;t=a.nextNode();)t.parentElement.matches(".fr-page-break-label")||d.$(t.parentElement).closest(".fr-code-snippet").length||n.push(t);return n}(n),s="",l=[];for(o.forEach(function(e,t){var n,a,r,t=o[t-1];t&&(t=t.parentNode,n=/\s$/.test(s),a=/^\s/.test(e.textContent),t===(r=e.parentNode)||t.contains(r)||r.contains(t)?"block"!==window.getComputedStyle(r).display||"block"!==window.getComputedStyle(t).display||n||a||(s+=" "):n||a||(s+=" ")),l.push({start:s.length,end:s.length+e.textContent.length,node:e}),s+=e.textContent}),f=[];null!==(a=function(e,t){t instanceof RegExp||(t=new RegExp(t));return t.exec(e)}(s,i));)f.push({start:a.index,end:a.index+a[0].length});k(f,l),O(f.length)}function c(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}function k(e,u){for(var t=e.map(function(e){var t,n=e.start,a=e.end,r=null,i=null,o=0,s=0,l=_e(u);try{for(l.s();!(t=l.n()).done;){var c=t.value,d=c.node,f=c.start;if(f<=n&&n<f+d.textContent.length&&(r=d,o=n-f),f<a&&a<=f+d.textContent.length){i=d,s=a-f;break}}}catch(p){l.e(p)}finally{l.f()}return r&&i?((e=document.createRange()).setStart(r,o),e.setEnd(i,s),e):null}).filter(Boolean),n=t.length-1;0<=n;n--){var a=t[n],r=document.createElement("span");r.className="fr-find-replace-highlight";try{a.surroundContents(r)}catch(o){var i=a.extractContents();i.querySelectorAll(".fr-find-replace-highlight").forEach(function(e){var t=document.createTextNode(e.textContent);e.parentNode.replaceChild(t,e)}),r.appendChild(i),a.insertNode(r)}}}function S(){(d.popups.get("findReplace.popup")&&d.popups.get("findReplace.popup").data("instance")||d).el.querySelectorAll(".fr-find-replace-highlight, .fr-find-replace-current-highlight").forEach(function(e){e.classList.remove("fr-find-replace-highlight","fr-find-replace-current-highlight");var t=0<e.classList.length,n=""!==(e.getAttribute("style")||"").trim(),a=Array.from(e.attributes).some(function(e){return!["class","style"].includes(e.name)});if(!t&&!n&&!a){for(var r=e.parentNode;e.firstChild;)r.insertBefore(e.firstChild,e);r.removeChild(e),r.normalize()}})}function R(e){f.length&&(p=(e+f.length)%f.length,(e=(d.popups.get("findReplace.popup").data("instance")||d).$el.get(0)).querySelectorAll(".fr-find-replace-current-highlight").forEach(function(e){e.classList.remove("fr-find-replace-current-highlight")}),(e=e.querySelectorAll(".fr-find-replace-highlight"))[p]&&(e[p].classList.add("fr-find-replace-current-highlight"),e[p].scrollIntoView({behavior:"smooth",block:"center"})),O(f.length))}function x(e){f.length&&(p=(e-1+f.length)%f.length,(e=(d.popups.get("findReplace.popup").data("instance")||d).$el.get(0)).querySelectorAll(".fr-find-replace-current-highlight").forEach(function(e){e.classList.remove("fr-find-replace-current-highlight")}),(e=e.querySelectorAll(".fr-find-replace-highlight"))[p]&&(e[p].classList.add("fr-find-replace-current-highlight"),e[p].scrollIntoView({behavior:"smooth",block:"center"})),O(f.length))}function L(e){var t,n,a,r,i;-1!==p&&f.length&&((t=d.popups.get("findReplace.popup").data("instance")||d).undo.saveStep(),n=t.$el.find(".fr-find-replace-current-highlight").get(0))&&(a=n.textContent,r=n.parentNode,i=document.createTextNode(e),!1!==t.events.trigger("findandreplace.beforeOnReplace"))&&(t.opts.trackChangesEnabled?(t.markers.insert(),t.track_changes.pasteInEdior(e)):r.replaceChild(i,n),r.normalize(),f.splice(p,1),0<f.length?R(p%f.length):p=-1,t.events.trigger("findandreplace.onReplace",[{oldValue:a,newValue:e}]),t.undo.saveStep(),O(f.length))}function I(r){var i,e,o,s;f.length&&((i=d.popups.get("findReplace.popup").data("instance")||d).undo.saveStep(),e=i.$el.get(0).querySelectorAll(".fr-find-replace-highlight"),s=!(o=[]),e.forEach(function(e){var t,n,a;!1===i.events.trigger("findandreplace.beforeOnReplace")?s=!0:i.opts.trackChangesEnabled?(i.track_changes.pasteInEdior(r),f.splice(p,1),0<f.length?R(p%f.length):p=-1,O(f.length)):(t=e.textContent,n=document.createTextNode(r),(a=e.parentNode).replaceChild(n,e),a.normalize(),o.push({oldValue:t,newValue:r}))}),i.undo.saveStep(),!1===s)&&(i.events.trigger("findandreplace.onReplaceAll",[o]),f=[],p=-1,E())}function O(e){var t=d.popups.get("findReplace.popup").find(".fr-count-indicator")[0];t&&(0<e?(t.textContent="".concat(p+1," of ").concat(e),t.style.visibility="visible"):(t.textContent="",t.style.visibility="hidden",f=[]))}return d.events.on("popup.tab",function(e){var t=d.popups.get("findReplace.popup");if(t&&t.contains(e.target))return(e.keyCode!==ct.KEYCODE.TAB||document.activeElement==e.target)&&(e.keyCode===ct.KEYCODE.ESC?(T(),!1):void 0)}),d.events.on("initialized",function(){!0===d.opts.showFindAndReplace&&e()}),{findMatches:a,findNextMatch:R,findPreviousMatch:x,replaceMatch:L,replaceMatches:I,getMatchesCount:function(){return f.length},getCurrentMatch:function(){var e;return-1!==p&&f.length&&(e=(d.popups.get("findReplace.popup").data("instance")||d).$el.find(".fr-find-replace-current-highlight").get(0))?e.textContent:null},getCurrentMatchIndex:function(){return p},showPopup:e,hidePopup:T}},ct.DefineIcon("findReplaceIcon",{template:"svgMultiplePath",PATHS:'<path d="M11 6C9.9115 6 8.93683 6.30833 8.076 6.925C7.215 7.54167 6.61725 8.34233 6.28275 9.327C6.20842 9.51283 6.086 9.65542 5.9155 9.75475C5.745 9.85408 5.56167 9.88517 5.3655 9.848C5.16283 9.8045 5.00317 9.70258 4.8865 9.54225C4.76983 9.38208 4.74358 9.21092 4.80775 9.02875C5.20642 7.69942 5.97533 6.61225 7.1145 5.76725C8.2535 4.92242 9.54867 4.5 11 4.5C12.1757 4.5 13.1767 4.75325 14.003 5.25975C14.8292 5.76608 15.4948 6.32183 16 6.927V5.25C16 5.03717 16.0718 4.859 16.2155 4.7155C16.359 4.57183 16.5372 4.5 16.75 4.5C16.9628 4.5 17.141 4.57183 17.2845 4.7155C17.4282 4.859 17.5 5.03717 17.5 5.25V9.09625C17.5 9.35392 17.4138 9.56892 17.2413 9.74125C17.0689 9.91375 16.8538 10 16.596 10H12.75C12.5372 10 12.359 9.92817 12.2155 9.7845C12.0718 9.641 12 9.46283 12 9.25C12 9.03717 12.0718 8.859 12.2155 8.7155C12.359 8.57183 12.5372 8.5 12.75 8.5H15.2693C14.8629 7.84233 14.303 7.26125 13.5895 6.75675C12.876 6.25225 12.0128 6 11 6ZM11 17.5C10.0167 17.5 9.08142 17.2853 8.19425 16.8558C7.30708 16.4263 6.57567 15.832 6 15.073V16.75C6 16.9628 5.92817 17.141 5.7845 17.2845C5.641 17.4282 5.46283 17.5 5.25 17.5C5.03717 17.5 4.859 17.4282 4.7155 17.2845C4.57183 17.141 4.5 16.9628 4.5 16.75V12.9038C4.5 12.6461 4.58625 12.4311 4.75875 12.2588C4.93108 12.0863 5.14617 12 5.404 12H9.25C9.46283 12 9.641 12.0718 9.7845 12.2155C9.92817 12.359 10 12.5372 10 12.75C10 12.9628 9.92817 13.141 9.7845 13.2845C9.641 13.4282 9.46283 13.5 9.25 13.5H6.73075C7.15642 14.2347 7.742 14.835 8.4875 15.301C9.233 15.767 10.0705 16 11 16C12.0718 16 13.0314 15.701 13.8788 15.103C14.7263 14.5048 15.3257 13.7269 15.677 12.7692C15.7615 12.5666 15.889 12.4022 16.0595 12.276C16.23 12.1497 16.4217 12.1083 16.6345 12.152C16.8473 12.2058 17.0044 12.3206 17.1058 12.4963C17.2071 12.6718 17.2257 12.8608 17.1615 13.0635C17.0512 13.4417 16.9073 13.7862 16.7298 14.097C16.5523 14.408 16.3359 14.7244 16.0807 15.0463L20.127 19.0922C20.2653 19.2307 20.3362 19.4048 20.3395 19.6145C20.3427 19.824 20.2718 20.0012 20.127 20.1462C19.982 20.2911 19.8063 20.3635 19.6 20.3635C19.3937 20.3635 19.218 20.2911 19.073 20.1462L15.027 16.1C14.4462 16.5628 13.8176 16.9118 13.1413 17.147C12.4651 17.3823 11.7513 17.5 11 17.5Z" fill="#333333"/>'}),ct.RegisterShortcut(ct.KEYCODE.F,"findReplaceButton",null,"F"),ct.RegisterCommand("findReplaceButton",{title:"Find and Replace",icon:"findReplaceIcon",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("findReplace.popup")?this.findReplace.hidePopup():this.findReplace.showPopup()},plugin:"findReplace"}),ct.DefineIcon("findAndReplaceArrowDown",{NAME:"chevron-down",VIEWBOX:"0 0 448 512",SVG_KEY:"chevronDown"}),ct.DefineIcon("findAndReplaceArrowUp",{NAME:"chevron-up",VIEWBOX:"0 0 448 512",SVG_KEY:"chevronUp"}),Object.assign(ct.POPUP_TEMPLATES,{"wordExport.error":"[_EXPORT_LAYER_]"}),Object.assign(ct.DEFAULTS,{wordExportFileName:"froala_editor"}),ct.PLUGINS.exportToWord=function(c){var d=c.$,f="";function u(e,t){t=new RegExp("\\b".concat(t,"\\s*:\\s*([^;]+)"),"i").exec(e);return t?t[1].trim():""}function o(){return(o=g(w().m(function e(t){var n,v,b,a,r,i,E,y;return w().w(function(e){for(;;)switch(e.n){case 0:for((n=document.createElement("div")).innerHTML=t,v=n.querySelectorAll("img"),b=c.el.querySelectorAll("img"),a=0;a<v.length;a++)r=v[a],(i=r.parentElement).classList.contains("fr-img-wrap")&&(r=i.parentElement,i=r.parentElement),i&&"SPAN"===i.tagName&&!i.classList.contains("fr-marker")&&(i.parentNode.insertBefore(r,i),0!==i.childNodes.length&&""!==i.textContent.trim()||i.remove());E=w().m(function E(){var t,n,a,r,i,o,s,l,c,d,f,p,u,g,h,m;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=v[y],n=b[y],!(a=t.getAttribute("src"))||a.startsWith("data:"))return e.a(2,1);e.n=1;break;case 1:return n=n.closest("span.fr-img-caption")?n.closest("span.fr-img-caption"):n,l=n?window.getComputedStyle(n):{},r=l["float"]||"",i=l.height||t.getAttribute("height")||"100px",o=l.width||t.getAttribute("width")||"100px",s=l.marginLeft&&"0px"!==l.marginLeft?l.marginLeft:"",l=l.marginRight&&"0px"!==l.marginRight?l.marginRight:"",c="0px"===s||""==s?"left":"0px"===l||""===l?"right":"center",e.p=2,e.n=3,fetch(a).then(function(e){return e.blob()});case 3:return d=e.v,e.n=4,new Promise(function(e,t){var n=new FileReader;n.onloadend=function(){return e(n.result)},n.onerror=t,n.readAsDataURL(d)});case 4:p=e.v,(f=document.createElement("img")).setAttribute("src",p),f.setAttribute("width",parseInt(o)),f.setAttribute("height",parseInt(i)),f.style.display="block",p=t.closest("span.fr-img-caption")||null,u=null,p&&((u=document.createElement("table")).style.borderCollapse="collapse",u.style.margin="auto",u.classList.add("fr-img-caption"),h=document.createElement("tr"),(m=document.createElement("td")).style.textAlign="center",m.appendChild(f),h.appendChild(m),u.appendChild(h),m=document.createElement("tr"),(h=document.createElement("td")).style.textAlign="center",h.style.width=o+"px",g=p.querySelector("span.fr-inner"),g=g.cloneNode(!0),h.appendChild(g),m.appendChild(h),u.appendChild(m)),(g=p?u:f).style.display="inline-block","left"===r||"right"===r?(g.setAttribute("align",r),p?p.replaceWith(g):(g.style.margin="0 0 1em 1em",(h=document.createElement("p")).setAttribute("align",r),h.style.display="inline-block",h.appendChild(g),t.replaceWith(h))):"none"===r&&("5px"===s||"5px"===l?(g.setAttribute("align",c),g.style.textAlign=c,(p||t).replaceWith(g)):((m=document.createElement("div")).setAttribute("align",c),m.style.textAlign=c,m.appendChild(g),(p||t).replaceWith(m))),e.n=6;break;case 5:e.p=5,0;case 6:return e.a(2)}},E,null,[[2,5]])}),y=0;case 1:if(y<v.length)return e.d(function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}}}throw new TypeError(typeof e+" is not iterable")}(E()),2);e.n=4;break;case 2:if(e.v)return e.a(3,3);e.n=3;break;case 3:y++,e.n=1;break;case 4:return e.a(2,n.innerHTML)}},e)}))).apply(this,arguments)}function t(){return(t=g(w().m(function e(a){var r,i,o,s,l;return w().w(function(e){for(;;)switch(e.n){case 0:return i=c.$el.find(".fr-selected-cell"),r=c.$el.find(".fr-selection-handle-selected"),0<i.length&&i.each(function(){var e=d(this);e.removeClass("fr-selected-cell"),""===e.attr("class")&&e.removeAttr("class")}),0<r.length&&((i=d(this)).removeClass("fr-selection-handle-selected"),""===i.attr("class"))&&i.removeAttr("class"),c.popups.hideAll(),f=a||c.html.get(),e.n=1,c.events.trigger("word.beforeExport",[f]);case 1:if(!1===(f=e.v))return e.a(2,!1);e.n=2;break;case 2:c.popups.get("wordExport.error")||(t=c.language.translate("Export libraries are missing."),n=void 0,n="<div style='text-align:right;' class='fr-buttons'>\n          <button class='fr-trim-button fr-plugins-ok'>".concat(c.language.translate("OK"),"</button>               \n        </div>"),t="<div style= 'padding:10px'>\n      <div class = 'fr-message fr-error-message'><h3 style ='font-size: 16px; margin: 10px 10px;font-weight: normal;'>".concat(c.language.translate(t),"</h3></div>\n      ").concat(n,"\n    "),n=c.popups.create("wordExport.error",{export_layer:t}),c.popups.setContainer("wordExport.error",c.$tb),(t=n.find(".fr-plugins-ok")[0])&&t.addEventListener("click",function(e){c.popups.hide("wordExport.error"),e.preventDefault()}),0),window.htmlDocx&&window.saveAs?(r=window.htmlDocx.asBlob(f),i=c.opts.wordExportFileName,window.saveAs(r,i+".docx")):(o=c.$tb.find('.fr-command[data-cmd="export_to_word"]'),l=c.button.getPosition(o),s=l.left,l=l.top,c.popups.show("wordExport.error",s,l,o.outerHeight(),!0)),c.events.trigger("word.afterExport",[f]);case 3:return e.a(2)}var t,n},e,this)}))).apply(this,arguments)}function s(e){var t=e.cloneNode(!0);return function d(e,t){var n,a=window.getComputedStyle(e),r=_e(a);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.style[i]=a.getPropertyValue(i)}}catch(c){r.e(c)}finally{r.f()}for(var o=Array.from(e.children),s=Array.from(t.children),l=0;l<o.length;l++)d(o[l],s[l])}(e,t),t}return c.events.on("word.beforeExport",function(){var t=g(w().m(function e(a){var r,i;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,function(){return o.apply(this,arguments)}(a);case 1:return i=e.v,(r=document.createElement("div")).innerHTML=i,r.querySelectorAll(".fr-emoticon").forEach(function(e){var t,n=(e.getAttribute("style")||"").match(/url\(["']?(.*?)["']?\)/);n&&n[1]&&((t=document.createElement("img")).src=n[1],t.alt="emoji",t.setAttribute("width","20"),t.setAttribute("height","20"),e.replaceWith(t))}),r.querySelectorAll("table:not(.fr-img-caption)").forEach(function(e,t){e.setAttribute("border","1"),e.setAttribute("cellpadding","10"),e.setAttribute("cellspacing","0");var n,a=e.getAttribute("style")||"",r=c.el.querySelectorAll("table")[t],d=(t=e,i="left",/\bfloat\s*:\s*right\b/i.test(n=a)?i="right":/\bmargin\s*:\s*auto\b/i.test(n)&&(i="center"),t.setAttribute("align",i),window.getComputedStyle(r).border||"1px solid #DDD"),f=(n=(n=d).match(/^(\d+(?:\.\d+)?)/))?parseFloat(n[1]):1,i=(e.style.borderCollapse=u(a,"border-collapse")||"collapse",e.querySelectorAll("tr")),p=i.length;i.forEach(function(e,s){var t=e.querySelectorAll("td, th"),l=t.length,c=r?r.querySelectorAll("tr")[s]:null;e.style.backgroundColor=window.getComputedStyle(c).backgroundColor||"",t.forEach(function(e,t){var n,a,r=c?c.querySelectorAll("td, th")[t]:null,r=window.getComputedStyle(r)||"",i=(e.style.padding="10px",e.style.height=e.style.height||"50px",e.setAttribute("valign","top"),e.style.verticalAlign="top",e.style.backgroundColor=r.backgroundColor,e.getAttribute("style")||""),o=(o={width:"1px",style:"solid",color:"#DDD"},(a=u(i=i,"border"))||(a=u(i,"border-width")||o.width,n=u(i,"border-style")||o.style,i=u(i,"border-color")||o.color,"".concat(a," ").concat(n," ").concat(i)));e.style.borderTop||(e.style.borderTop=o),e.style.borderBottom||(e.style.borderBottom=o),e.style.borderLeft||(e.style.borderLeft=o),e.style.borderRight||(e.style.borderRight=o),1<f&&(0===s&&(e.style.borderTop=d),s===p-1&&(e.style.borderBottom=d),0===t&&(e.style.borderLeft=d),t===l-1)&&(e.style.borderRight=d),e.style.borderStyle="none"!==r.borderStyle&&r.borderStyle?r.borderStyle:"solid"})})}),r.innerHTML=(t=r.innerHTML,t=(n=function(e,t,n){var a=new RegExp("<".concat(t,"(?:\\s[^>]*)?>"),"gi"),a=(e=e.replace(a,'<span style="'.concat(n,';">')),new RegExp("</".concat(t,">"),"gi"));return e=e.replace(a,"</span>")})(t,"strong","font-weight: bold"),t=n(t,"em","font-style: italic")),r.querySelectorAll('[data-title="PageBreak"]').forEach(function(e){var t=c.doc.createElement("span");t.innerHTML='<br clear=all style="mso-special-character:line-break;page-break-before:always">',e.replaceWith(t)}),r.querySelectorAll("[data-code-snippet]").forEach(function(e){var t=c.$el.find("#"+e.id),n=s(t[0]),a=c.doc.createElement("div"),n=n.querySelector("code");a.innerHTML='\n          <table style="border-collapse: collapse;">\n            <tr style="background: #ECECEC; padding: 10px; border-collapse: collapse;">\n              <td>\n                <p style="background: #ECECEC; margin:0; font-family: sans-serif; font-size: 14px;">'.concat(t.find(".fr-code-header div").text(),'</p>\n              </td>\n            </tr>\n            <tr style="background: #f5f2f0; padding: 10px; border-collapse: collapse;">\n              <td>\n                <div style="background: #f5f2f0; margin:0; padding:0; line-height: 0px; text-box: none;"><pre>').concat(n.outerHTML,"</pre></div>\n              </td>\n            </tr>\n          </table>\n        "),e.replaceWith(a)}),i="\n        <html xmlns:o='urn:schemas-microsoft-com:office:office'\n              xmlns:w='urn:schemas-microsoft-com:office:word'\n              xmlns='http://www.w3.org/TR/REC-html40'>\n          <head><meta charset='utf-8'></head>\n          <body>".concat(r.innerHTML,"</body>\n        </html>"),e.a(2,i);case 2:return e.p=2,e.a(2,!1)}var t,n},e,null,[[0,2]])}));return function(e){return t.apply(this,arguments)}}()),{"export":function(e){return t.apply(this,arguments)}}},ct.DefineIcon("export_to_word",{template:"svgMultiplePath",PATHS:'\n  <path d="M22.5247 17.7645L18.6914 21.5978L14.858 17.7645L16.1997 16.4228L17.733 17.9561V13.9551H19.6497V17.9561L21.183 16.4228L22.5247 17.7645Z" fill="#333333"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M9.06971 15.1051H2.62971C2.18513 15.1051 1.82471 14.7447 1.82471 14.3001V7.86008C1.82471 7.4155 2.18513 7.05508 2.62971 7.05508H9.06971C9.51429 7.05508 9.87471 7.4155 9.87471 7.86008V14.3001C9.87471 14.7447 9.51429 15.1051 9.06971 15.1051ZM4.50294 12.3628C4.49849 12.2917 4.48924 12.2085 4.47499 12.1129C4.46074 12.0176 4.44601 11.9408 4.43072 11.8829L3.74411 9.06758H2.83096L3.94451 13.0926H5.00877L5.715 10.4345C5.73029 10.3727 5.75058 10.2774 5.77579 10.1482C5.801 10.0191 5.81799 9.92188 5.82676 9.85639H5.83987C5.84641 9.91252 5.86338 10.0024 5.89076 10.1258C5.91814 10.2493 5.94277 10.3493 5.96468 10.4261L6.71689 13.0926H7.76482L8.86846 9.06758H7.97174L7.34101 11.8519C7.2972 12.0428 7.26984 12.2112 7.25888 12.3572H7.24577C7.21953 12.1457 7.18669 11.9718 7.14723 11.8352L6.35886 9.06758H5.37341L4.61139 11.8773C4.59384 11.9428 4.57571 12.0232 4.55712 12.1186C4.53853 12.2141 4.52596 12.2954 4.51937 12.3628H4.50294Z" fill="#333333"/>\n  <path d="M5.27471 5.90508V4.37174C5.27471 3.84466 5.46238 3.39345 5.83773 3.0181C6.21307 2.64275 6.66429 2.45508 7.19137 2.45508H13.8997L19.6497 8.20508V11.104H17.733V9.16341H12.9414V4.37174H7.19137V5.90508H5.27471Z" fill="#333333"/>\n  <path d="M5.83773 19.1421C6.21307 19.5174 6.66429 19.7051 7.19137 19.7051H12.9414V17.7884H7.19137V16.2551H5.27471V17.7884C5.27471 18.3155 5.46238 18.7667 5.83773 19.1421Z" fill="#333333"/>\n  '}),ct.RegisterCommand("export_to_word",{title:"Export to Word",focus:!1,undo:!1,refreshAfterCallback:!1,callback:function(){this.exportToWord["export"]()}}),Object.assign(ct.POPUP_TEMPLATES,{"wordImport.error":"[_IMPORT_LAYER_]","wordImport.progress":"[_PROGRESS_BAR_]"}),Object.assign(ct.DEFAULTS,{importFromWordMaxFileSize:3145728,importFromWordFileTypesAllowed:["docx"],importFromWordUrlToUpload:null,importFromWordEnableImportOnDrop:!0}),ct.PLUGINS.importFromWord=function(c){var a;function d(e){c.popups.get("wordImport.progress")||(n={progress_bar:'\n        <div class="fr-image-progress-bar-layer fr-layer fr-active">\n          <h3 tabIndex="-1" class="fr-message">'.concat(c.language.translate("Uploading"),'</h3>\n          <div class="fr-loader fr-indeterminate"><span class="fr-progress"></span></div>\n          <div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="imageDismissError" tabIndex="2" role="button">OK</button></div>\n        </div>')},n=c.popups.create("wordImport.progress",n),c.popups.setContainer("wordImport.progress",c.$tb));var t,n=c.$tb.find('.fr-command[data-cmd="import_from_word"]');e?(n.addClass("fr-active"),n.isVisible()?(t=(e=c.button.getPosition(n)).left,c.popups.show("wordImport.progress",t,e.top,n.outerHeight(),!0)):c.popups.show("wordImport.progress")):(n.removeClass("fr-active"),c.popups.hide("wordImport.progress"))}function f(e){d(!1);var t=c.popups.get("wordImport.error"),n=(t||(n={import_layer:"\n        <div class=\"fr-layer fr-active\" >\n          <div class ='fr-message fr-error-message'><h3 style ='font-size: 16px; margin: 0;font-weight: normal;'>".concat(c.language.translate("Ensure that all required dependent libraries are available for the plugin to work."),"</h3></div>\n          <div style='text-align:right;' class='fr-buttons'>\n            <button class='fr-trim-button fr-plugins-ok'>").concat(c.language.translate("OK"),"</button>               \n          </div>\n        </div>")},n=c.popups.create("wordImport.error",n),c.popups.setContainer("wordImport.error",c.$tb),c.events.$on(n,"click",".fr-plugins-ok",function(e){c.popups.hide("wordImport.error"),e.preventDefault()}),t=n),t.find("h3").text(e),c.$tb.find('.fr-command[data-cmd="import_from_word"]'));n.isVisible()?(e=(t=c.button.getPosition(n)).left,c.popups.show("wordImport.error",e,t.top,n.outerHeight(),!0)):c.popups.show("wordImport.error")}function p(e){e=e.split(".").pop().toLowerCase();return c.opts.importFromWordFileTypesAllowed.includes(e)}function r(){return(r=g(w().m(function e(t){var n,r,i,o,s,l;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,n=c.opts.importFromWordUrlToUpload,window.mammoth||null!==n){e.n=1;break}return f(c.language.translate("Ensure that all required dependent libraries are available for the plugin to work.")),e.a(2);case 1:if(p(t.name)){e.n=2;break}return f(c.language.translate("Please upload a valid file")+"(".concat(c.opts.importFromWordFileTypesAllowed.map(function(e){return".".concat(e)}).join(", "),".)")),e.a(2);case 2:if(0<(r=c.opts.importFromWordMaxFileSize)&&t.size>r)return f(c.language.translate("File size must be less than")+" "+r/1048576+"MB."),e.a(2);e.n=3;break;case 3:if(0===t.size)return f(c.language.translate("Something went wrong. Please try again.")),e.a(2);e.n=4;break;case 4:if(n)return(r=new FormData).append("file",t),e.n=5,fetch(n,{method:"POST",body:r});e.n=10;break;case 5:if(i=e.v,d(!1),i.ok){e.n=6;break}return f(c.language.translate("Something went wrong. Please try again.")),e.a(2);case 6:return e.n=7,i.json();case 7:if((o=e.v)&&o.html)return e.a(2,o.html);e.n=8;break;case 8:f(c.language.translate("Something went wrong. Please try again."));case 9:return e.a(2);case 10:e.n=11;var a=t;return new Promise(function(t,n){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=function(e){n(e)},e.readAsArrayBuffer(a)});case 11:return o=e.v,s=window.mammoth,e.n=12,s.convert({arrayBuffer:o});case 12:if((l=e.v).value&&""!==l.value.trim()){e.n=13;break}return e.a(2,!1);case 13:return e.a(2,l.value);case 14:return e.p=14,f(c.language.translate("Something went wrong. Please try again.")),e.a(2)}},e,null,[[0,14]])}))).apply(this,arguments)}function i(){return t.apply(this,arguments)}function t(){return(t=g(w().m(function e(t){var n;return w().w(function(e){for(;;)switch(e.n){case 0:return d(!0),e.n=1,c.events.trigger("word.beforeImport",[t]);case 1:if(!1===e.v)return d(!1),e.a(2,!1);e.n=2;break;case 2:return e.n=3,function(){return r.apply(this,arguments)}(t);case 3:(n=e.v)&&""!==n.trim()&&(c.html.insert(n),c.undo.saveStep()),d(!1),c.events.trigger("word.afterImport",[n]);case 4:return e.a(2)}},e)}))).apply(this,arguments)}function n(e){return 1!=e.length||!p(e[0].name)||(i(e[0]),!1)}return{_init:function(){c.helpers.isMobile()||c.opts.importFromWordEnableImportOnDrop&&(c.file&&c.opts.fileUpload?c.events.on("file.beforeUpload",n,!0):c.events.on("drop",function(e){if(e.originalEvent&&e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.files&&e.originalEvent.dataTransfer.files.length&&!n(e.originalEvent.dataTransfer.files))return e.preventDefault(),e.stopPropagation(),!1},!0))},"import":function(e){e&&e instanceof File?i(e):(a&&a.parentNode&&a.parentNode.removeChild(a),(a=c.doc.createElement("input")).type="file",a.className="fr-import-from-word-field",a.accept=c.opts.importFromWordFileTypesAllowed.map(function(e){return".".concat(e)}).join(","),a.style.display="none",c.doc.body.appendChild(a),a.addEventListener("change",function(){var t=g(w().m(function e(t){var n;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,n=t.target.files[0]){e.n=1;break}return e.a(2);case 1:return e.n=2,i(n);case 2:return e.p=2,a&&a.parentNode&&a.remove(),e.f(2);case 3:return e.a(2)}},e,null,[[0,,2,3]])}));return function(e){return t.apply(this,arguments)}}()),a.click())}}},ct.DefineIcon("import_from_word",{template:"svgMultiplePath",PATHS:'\n  <path d="M14.5082 17.7884L18.3415 13.9551L22.1749 17.7884L20.8332 19.1301L19.2999 17.5967V21.5978H17.3832V17.5967L15.8499 19.1301L14.5082 17.7884Z" fill="#333333"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.71985 15.1051H2.27985C1.83527 15.1051 1.47485 14.7447 1.47485 14.3001V7.86008C1.47485 7.4155 1.83527 7.05508 2.27985 7.05508H8.71985C9.16443 7.05508 9.52485 7.4155 9.52485 7.86008V14.3001C9.52485 14.7447 9.16443 15.1051 8.71985 15.1051ZM4.15308 12.3628C4.14864 12.2917 4.13939 12.2085 4.12514 12.1129C4.11088 12.0176 4.09616 11.9408 4.08087 11.8829L3.39425 9.06758H2.4811L3.59466 13.0926H4.65892L5.36515 10.4345C5.38044 10.3727 5.40073 10.2774 5.42594 10.1482C5.45114 10.0191 5.46814 9.92188 5.47691 9.85639H5.49002C5.49655 9.91252 5.51352 10.0024 5.54091 10.1258C5.56829 10.2493 5.59292 10.3493 5.61483 10.4261L6.36703 13.0926H7.41497L8.5186 9.06758H7.62188L6.99116 11.8519C6.94734 12.0428 6.91998 12.2112 6.90903 12.3572H6.89592C6.86967 12.1457 6.83684 11.9718 6.79738 11.8352L6.00901 9.06758H5.02356L4.26154 11.8773C4.24399 11.9428 4.22585 12.0232 4.20727 12.1186C4.18868 12.2141 4.17611 12.2954 4.16951 12.3628H4.15308Z" fill="#333333"/>\n  <path d="M4.92485 5.90508V4.37174C4.92485 3.84466 5.11253 3.39345 5.48787 3.0181C5.86322 2.64275 6.31444 2.45508 6.84152 2.45508H13.5499L19.2999 8.20508V11.104H17.3832V9.16341H12.5915V4.37174H6.84152V5.90508H4.92485Z" fill="#333333"/>\n  <path d="M5.48787 19.1421C5.86322 19.5174 6.31444 19.7051 6.84152 19.7051H12.5915V17.7884H6.84152V16.2551H4.92485V17.7884C4.92485 18.3155 5.11253 18.7667 5.48787 19.1421Z" fill="#333333"/>\n  '}),ct.RegisterCommand("import_from_word",{title:"Import from Word",focus:!0,undo:!0,refreshAfterCallback:!1,callback:function(){this.importFromWord["import"]()}}),Object.assign(ct.DEFAULTS,{exportPageBreak:!0}),ct.PLUGINS.pageBreak=function(c){var d=c.$,e=c.html.defaultTag(),f=e?"<"+e+"><br></"+e+">":"<br>",i='\n        <div class="fr-page-break" contenteditable="false" style="break-after: always;" data-title="PageBreak">\n          <div class="fr-page-break-line" >\n            <span class="fr-page-break-label">'.concat(c.language.translate("Page Break"),"</span>\n          </div>\n        </div>");function n(e){if(!a()&&!u()){if(!1===c.events.trigger("pageBreak.beforeInsert",[]))return!1;e?e.outerHTML=i:(e=function(e){var t=c.selection.element(),n=c.el.firstChild,a=c.el.lastChild,r=t.previousSibling&&d(t.previousSibling).hasClass("fr-page-break")||d(t.parentElement.previousSibling).hasClass("fr-page-break"),i=t.nextSibling&&d(t.nextSibling).hasClass("fr-page-break")||d(t.parentElement.nextSibling).hasClass("fr-page-break"),o=c.markers.insert(),s=o&&c.node.isFirstSibling(o),l=o&&c.node.isLastSibling(o);l!==s&&(c.core.isEmpty()||c.node.isEmpty(t)&&r&&i||a==t.parentElement&&r?e=f+e+f:n!=t&&n!=t.parentElement||l?i&&r&&s?e=f+e:a==t||a==t.parentElement||i?r&&s?e=f+e+f:e+=f:r&&s&&(e=f+e):c.node.isEmpty(n)||o.nextSibling?e=f+e+f:a==t&&(e+=f));return c.markers.remove(),e}(i),c.selection.isFull()?c.html.set(e):c.html.insert(e))}}function a(){var e=d(c.selection.element());return"Table"===e.get(0).tagName||e.closest("table").length}function t(e){if("Page Break"===(e=e.originalEvent).dataTransfer.getData("text/plain")){var t=c.$el.find(".fr-element-draggable");if(c.selection.restore(),a()||t.hasClass("fr-not-dropzone"))return c.browser.mozilla&&(e.stopPropagation(),e.preventDefault()),!1;t.remove(),n()}}function r(e){var t=c.$el.find(".fr-page-break.fr-selection-handle-selected"),n=e.which;if(t.length&&!c.keys.isArrow(e.which)&&n!==ct.KEYCODE.TAB&&n!==ct.KEYCODE.ALT&&n!==ct.KEYCODE.ESC){if(e.ctrlKey||e.metaKey||n===ct.KEYCODE.SHIFT)return!0;p(),c.keys.isCharacter(n)&&(t=c.markers.insert(),e=d(f),t.replaceWith(e[0]),"BR"!==(n=e[0]).tagName)&&n.querySelector("br")&&((t=document.createRange()).setStart(n,0),t.collapse(!0),(e=window.getSelection()).removeAllRanges(),e.addRange(t))}}function o(e){var t;return c.opts.exportPageBreak?e:((t=c.doc.createElement("div")).innerHTML=e,d(t).find('[data-title="PageBreak"]').remove(),t.innerHTML)}function s(e){c.markers.insert();var e=e.clipboardData?e.clipboardData.getData("text/html"):null,t=c.$el.find(".fr-marker"),n=c.$el.find(".fr-page-break.fr-selection-handle-selected"),a=t.length?t[0].closest("table"):null,t=t.length?t[0].closest(".fr-page-break"):null;return c.markers.remove(),c.html.cleanEmptyTags(!0),!((t||a||0<n.length)&&e&&e.includes('class="fr-page-break'))}function l(){c.$box.find(".fr-selection-handle").addClass("fr-selection-handle-inactive")}function p(){var e=c.$el.find(".fr-page-break.fr-selection-handle-selected");if(!u())return!1;c.undo.saveStep(),l(),e.get(0).remove(),c.$el.focus(),c.toolbar.enable()}function u(){var e=c.$el.find(".fr-page-break.fr-selection-handle-selected"),t=d(c.selection.element());return 0<e.length||t.hasClass("fr-page-break")||0<t.parents(".fr-page-break").length}function g(){for(var e=c.$el.find('[data-title="PageBreak"]'),t=c.doc.createElement("div"),n=(t.innerHTML=i,d(t).children().get(0)),a=0;a<e.length;a++){var r=e.get(a);c.el.firstChild!==r&&c.el.lastChild!==r||(r.nextSibling&&(r.nextSibling,"BR"!==r.nextSibling.nodeName)||d(r).after(f),"\u200b"===r.nextSibling.nodeValue&&r.nextSibling.replaceWith(d(f)[0]),r.previousSibling&&(r.previousSibling,"BR"!==r.previousSibling.nodeName))||d(r).before(f),r.classList.contains("fr-page-break")||d(r).replaceWith(n.cloneNode(!0))}}return{_init:function(){if(!c.$wp)return!1;c.events.on("drop",t),c.events.on("keydown",r,!0),c.events.on("html.get",o),c.events.on("paste.before",s),c.events.on("paste.after",g),c.events.on("cut",l),c.dragSelectControls._init()},insert:n,remove:p}},ct.RegisterCommand("pageBreak",{type:"button",plugin:"pageBreak",title:"Page Break",callback:function(){this.pageBreak.insert()}}),ct.DefineIcon("pageBreak",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M9.59125 12.4073C9.40972 12.4065 9.23501 12.4781 9.1063 12.6068C8.97759 12.7355 8.90601 12.9102 8.90687 13.0917C8.90772 13.2724 8.98016 13.4463 9.10801 13.5732C9.2367 13.7011 9.41056 13.7718 9.59123 13.771H10.4171C10.5978 13.7718 10.7716 13.7011 10.8995 13.5732C11.0282 13.4454 11.1006 13.2724 11.1015 13.0917C11.1023 12.9102 11.0299 12.7355 10.902 12.6068C10.7733 12.4781 10.5986 12.4065 10.4171 12.4073H9.59125ZM12.9083 12.4073C12.7267 12.4065 12.552 12.4781 12.4233 12.6068C12.2946 12.7355 12.223 12.9102 12.2239 13.0917C12.2239 13.2724 12.2963 13.4463 12.425 13.5732C12.5537 13.7011 12.7276 13.7718 12.9083 13.771H13.7332C13.9148 13.7718 14.0886 13.7011 14.2165 13.5732C14.3452 13.4454 14.4176 13.2724 14.4185 13.0917C14.4185 12.9102 14.3469 12.7355 14.2182 12.6068C14.0895 12.4781 13.9156 12.4065 13.7332 12.4073H12.9083ZM16.2203 12.4073C16.0387 12.4082 15.8657 12.4806 15.7387 12.6085C15.6109 12.7372 15.5393 12.911 15.5402 13.0917C15.5419 13.4667 15.8453 13.7701 16.2203 13.771H17.0512H17.0504C17.2311 13.7718 17.4049 13.7011 17.5336 13.5732C17.6615 13.4454 17.7348 13.2724 17.7348 13.0917C17.7356 12.9102 17.664 12.7355 17.5353 12.6068C17.4066 12.4781 17.2319 12.4065 17.0504 12.4073L16.2203 12.4073ZM19.5373 12.4073H19.5364C19.3558 12.4082 19.1827 12.4806 19.0549 12.6085C18.9279 12.7372 18.8572 12.911 18.8572 13.0917C18.8589 13.4667 19.1623 13.7701 19.5364 13.771H20.4782C20.6589 13.7718 20.8328 13.7011 20.9614 13.5732C21.0893 13.4454 21.1617 13.2724 21.1626 13.0917C21.1634 12.9102 21.091 12.7355 20.9631 12.6068C20.8344 12.4781 20.6597 12.4065 20.4782 12.4073L19.5373 12.4073Z" fill="#333333"/>\n    <path d="M6.86688 4.90907C6.68449 4.90821 6.51063 4.98065 6.38193 5.1085C6.25323 5.23719 6.18164 5.4119 6.18164 5.59345V9.00079C6.18164 10.1224 7.10891 11.0445 8.2305 11.0445H17.7733C18.8949 11.0445 19.8171 10.1224 19.8171 9.00079V5.59345C19.8171 5.41277 19.7463 5.2389 19.6185 5.11022C19.4915 4.98238 19.3185 4.90994 19.137 4.90908C18.9563 4.90993 18.7833 4.98238 18.6555 5.11022C18.5285 5.23891 18.4569 5.41277 18.4577 5.59345V9.00079C18.4577 9.38517 18.1577 9.68006 17.7734 9.68006H8.23052C7.84615 9.68006 7.54615 9.38517 7.54615 9.00079V5.59345C7.547 5.41277 7.47541 5.2389 7.34842 5.11022C7.22058 4.98238 7.04755 4.90992 6.86688 4.90907Z" fill="#333333" stroke="#333333" stroke-width="0.3"/>\n    <path d="M6.86663 21.2727C6.68425 21.2735 6.51039 21.2011 6.38168 21.0733C6.25299 20.9446 6.1814 20.7699 6.1814 20.5883V17.181C6.1814 16.0594 7.10867 15.1372 8.23025 15.1372H17.7731C18.8947 15.1372 19.8168 16.0594 19.8168 17.181V20.5883C19.8168 20.769 19.7461 20.9429 19.6183 21.0715C19.4913 21.1994 19.3183 21.2718 19.1367 21.2727C18.9561 21.2718 18.783 21.1994 18.6552 21.0715C18.5282 20.9428 18.4566 20.769 18.4575 20.5883V17.181C18.4575 16.7966 18.1575 16.5017 17.7731 16.5017H8.23027C7.8459 16.5017 7.5459 16.7966 7.5459 17.181V20.5883C7.54676 20.769 7.47516 20.9429 7.34818 21.0715C7.22033 21.1994 7.04731 21.2718 6.86663 21.2727Z" fill="#333333" stroke="#333333" stroke-width="0.3"/>\n    <path d="M5.5405 11.7273C5.35385 11.717 5.17061 11.7835 5.03425 11.9122C4.89789 12.0409 4.82033 12.2199 4.82033 12.4065V13.7718C4.81863 14.0088 4.9405 14.2295 5.14165 14.3548C5.34279 14.4801 5.59505 14.4912 5.80642 14.3855L7.17006 13.7011C7.40103 13.5852 7.54592 13.35 7.54592 13.0917C7.54592 12.8343 7.40104 12.5983 7.17006 12.4824L5.80642 11.798C5.72375 11.7571 5.63341 11.7324 5.5405 11.7273Z" fill="#333333"/>\n  '}),Object.assign(ct.POPUP_TEMPLATES,{"editAnchor.popup":"[_BUTTONS_]","insertAnchor.popup":"[_BUTTONS_][_LINK_TO_ANCHOR_LAYER_]"}),Object.assign(ct.DEFAULTS,{anchorEditButtons:["anchorEdit","anchorRemove"]}),ct.PLUGINS.linkToAnchor=function(d){var a,f,p=d.$;function r(){var e=d.button.buildList(["closeAnchorInsert"]),e={buttons:'<div class="fr-buttons fr-link-to-anchor-header"><span>'.concat(d.language.translate("Insert Anchor"),'</span><span class="fr-align-right">').concat(e,"</span></div>"),link_to_anchor_layer:"\n        <div class='fr-layer fr-active fr-link-to-anchor-layer' tabindex=\"-1\">\n            <div class='fr-input-container'>\n              <div class='fr-input-line fr-link-to-anchor-field'>\n                <input type='text' id=\"fr-link-to-anchor-".concat(d.id,"\" placeholder='").concat(d.language.translate("Anchor Name"),"' tabIndex='1'>\n              </div>\n                <div class=\"fr-input-text\">").concat(d.language.translate("Enter the anchor name without space"),'</div>\n            </div>\n\n            <div class="fr-action-buttons">\n              <button type="button" class="fr-command fr-submit" data-cmd="anchorInsert" tabIndex="2" role="button">').concat(d.language.translate("Insert"),"</button>\n            </div>\n        </div>\n      ")};a=d.popups.create("insertAnchor.popup",e),d.events.$on(a,".fr-link-to-anchor-field input","input",function(){i(!1)}),d.events.on("popups.show.insertAnchor.popup",function(){a&&a.find(".fr-link-to-anchor-field input").trigger("focus")})}function u(e){if(!1===d.events.trigger("anchor.beforeRemove",[e]))return!1;e&&(d.selection.save(),p(e).remove(),d.selection.restore(),g())}function i(e){var t=a.find(".fr-link-to-anchor-field input, .fr-input-text");e?(t.addClass("fr-error-text"),t.focus()):(t.removeClass("fr-error-text"),a.find(".fr-input-text").text(d.language.translate("Enter the anchor name without space")))}function o(){var e=a.data("data-update-ancher");a.removeData("data-update-ancher"),d.popups.hide("insertAnchor.popup"),h(e)}function g(){d.$el.find(".fr-anchor").removeClass("fr-active"),f&&f.removeData("data-update-ancher"),d.popups.hide("editAnchor.popup")}function n(e){var t,n,a;e&&(f||(t=d.button.buildList(d.opts.anchorEditButtons),t={buttons:'<div class="fr-buttons fr-edit-anchor"><label class="fr-edit-anchor-label"></label><span class="fr-align-right">'.concat(t,"</span></div>")},f=d.popups.create("editAnchor.popup",t),d.events.on("popups.hide.editAnchor.popup",function(){d.$el.find(".fr-anchor").removeClass("fr-active fr-anchor-selected")}),d.events.on("commands.undo commands.redo",function(){h(d.$el.find('a[data-cmd="anchor"].fr-active').get(0)),d.$el.find(".fr-marker-helper").remove()})),(t=p(e)).addClass("fr-active"),f.find("label.fr-edit-anchor-label").text("#"+t.attr("name")),d.popups.isVisible("editAnchor.popup")||d.popups.refresh("editAnchor.popup"),d.popups.setContainer("editAnchor.popup",d.$sc),n=t.offset().left+t.outerWidth()/2,a=t.offset().top+t.outerHeight(),f.data("data-update-ancher",e),d.popups.show("editAnchor.popup",n,a,t.outerHeight(),!0))}function h(e){if(d.$el.find(".fr-anchor").removeClass("fr-active fr-anchor-selected"),!e)return!1;p(e).addClass("fr-active");var t=d.doc.createRange();d.selection.get().removeAllRanges(),t.selectNode(e),d.selection.get().addRange(t),n(e)}function e(e){var t=e.which,n=t===ct.KEYCODE.DELETE,a=t===ct.KEYCODE.BACKSPACE;if(e&&d.keys.isArrow(t)||a||n){var r=t===ct.KEYCODE.ARROW_LEFT||a,i=t===ct.KEYCODE.ARROW_RIGHT||n;if(f&&f.isVisible()&&!a&&!n)return l=f.data("data-update-ancher"),c=p(l),l?(o=l.nextSibling,l=l.previousSibling,void(i?o&&o.length&&o.nodeType!==Node.ELEMENT_NODE||(c.after(ct.INVISIBLE_SPACE),c.attr("data-anchor-marker","after")):l&&l.length&&l.nodeType!==Node.ELEMENT_NODE||(c.before(ct.INVISIBLE_SPACE),c.attr("data-anchor-marker","before")))):void 0;var o=d.selection.get();if(!o||!o.anchorNode)return;var s=o.anchorNode,l=o.anchorOffset;if(s.nodeType===Node.TEXT_NODE)if(r&&0===l)s=s.previousSibling;else{if(!i||l!==s.textContent.length)return;s=s.nextSibling}else s=a?(c=s.childNodes[l]||s.childNodes[l-1])&&c.previousElementSibling:t===ct.KEYCODE.ARROW_LEFT?s.previousSibling:s.nextSibling;s&&s.nodeType===Node.ELEMENT_NODE&&s.classList.contains("fr-anchor")&&(a||n?u(s):setTimeout(function(){h(s)},30));var c,o=d.$el.find(".fr-anchor[data-anchor-marker]");o.length&&(r=o.attr("data-anchor-marker"),l=(i=o.get(0)).previousSibling,c=i.nextSibling,"before"===r&&l&&l.nodeType===Node.TEXT_NODE&&"\u200b"===l.textContent&&l.remove(),"after"===r&&c&&c.nodeType===Node.TEXT_NODE&&"\u200b"===c.textContent&&c.remove(),o.removeAttr("data-anchor-marker"))}d.keys.ctrlKey(e)&&t==ct.KEYCODE.A&&g()}function t(){d.$el.find('a[data-cmd="anchor"]').addClass("fr-anchor")}return{_init:function(){d.$wp&&(d.events.$on(d.$doc,"selectionchange",function(){d.$el.find("a.fr-anchor").each(function(e,t){var n=p(t),a=f&&f.isVisible();!function(e){var t,n,a,r=(d.opts.iframe?d.iframe_document:d.doc).getSelection(),i=d.selection.element();if(r&&0!==r.rangeCount&&!d.selection.isCollapsed()&&!i.classList.contains("fr-view"))try{return"function"==typeof r.containsNode?r.containsNode(e,!0):"function"==typeof(t=r.getRangeAt(0)).intersectsNode?t.intersectsNode(e):(n=t.startContainer,a=t.endContainer,e.contains(n)||e.contains(a))}catch(o){}}(t)||a?n.removeClass("fr-anchor-selected"):n.addClass("fr-anchor-selected")})}),d.events.on("keydown",e),d.events.on("paste.after",t),d.events.bindClick(d.$el,".fr-anchor",function(e){e.preventDefault(),e.stopPropagation();e=e.currentTarget;return e&&h(e),!1}))},insert:function(){var e,t=a.find(".fr-link-to-anchor-field input").val(),n=a.data("data-update-ancher");if(!t.length||t.includes(" "))i(!0);else if(n&&(e=p(n)).attr("name")===t)o();else if(d.$el.find('[data-cmd="anchor"]').filter(function(e){return e.name===t}).length)a.find(".fr-input-text").text(d.language.translate("Anchor name already exists.")),i(!0);else{if(!1===d.events.trigger("anchor.beforeInsert",[n,t]))return!1;n?(e.attr("name",t),o()):(n=d.$el.find(".fr-marker-helper").get(0)||d.markers.insert(),e='<a name="'.concat(t,'" class="fr-anchor" data-cmd="anchor" contenteditable="false"></a>'),n&&(n.outerHTML=e,n=d.$el.find('a[name="'.concat(t,'"]')),a.data("data-update-ancher",n.get(0)),n[0].previousSibling||n.before(ct.INVISIBLE_SPACE),n[0].nextSibling||n.after(ct.INVISIBLE_SPACE),n.attr("data-anchor-marker","after"),o()))}},update:function(e){var t,n;g(),e&&(a||r(),a.data("data-update-ancher",e),d.popups.isVisible("insertAnchor.popup")||(d.popups.refresh("insertAnchor.popup"),d.selection.save(),d.helpers.isMobile()&&(d.events.disableBlur(),d.$el.blur(),d.events.enableBlur())),d.popups.setContainer("insertAnchor.popup",d.$sc),t=(e=p(e)).offset().left+e.outerWidth()/2,n=e.offset().top+e.outerHeight(),a.find(".fr-link-to-anchor-field input").val(e.attr("name")),d.popups.show("insertAnchor.popup",t,n,e.outerHeight(),!0))},remove:u,showPopup:function(){var e,t,n=d.$tb.find('.fr-command[data-cmd="insertAnchor"]');a||r(),a.hasClass("fr-active")||(d.selection.save(),d.popups.refresh("insertAnchor.popup"),d.popups.setContainer("insertAnchor.popup",d.$tb),a.find(".fr-link-to-anchor-field input").val(""),i(!1),d.$el.find(".fr-marker-helper").remove(),n.isVisible()?(e=(t=d.button.getPosition(n)).left,d.popups.show("insertAnchor.popup",e,t.top,n.outerHeight())):(d.position.forSelection(a),d.popups.show("insertAnchor.popup")),(e=d.$el.find(".fr-marker")).length&&((n=(t=e.first()).get(0).nextSibling)&&n.nodeType===Node.ELEMENT_NODE&&"COLGROUP"===n.tagName?((n=e.parents("table")).before(ct.START_MARKER),n):(t.before(ct.START_MARKER),e)).prev().removeClass("fr-marker").addClass("fr-marker-helper"))},closeAnchorInsert:o,focusOnAnchor:h}},ct.RegisterShortcut(ct.KEYCODE.D,"insertAnchor",null,"D"),ct.DefineIcon("insertAnchor",{NAME:"bookmark",SVG_KEY:"bookmark",VIEWBOX:"-5 -4 26 26"}),ct.RegisterCommand("insertAnchor",{title:"Insert Anchor",icon:"insertAnchor",plugin:"linkToAnchor",type:"button",undo:!0,focus:!0,popup:!0,showOnMobile:!0,refreshAfterCallback:!0,callback:function(){this.linkToAnchor.showPopup()}}),ct.RegisterCommand("anchorInsert",{undo:!0,focus:!0,plugin:"linkToAnchor",callback:function(){this.linkToAnchor.insert()},refresh:function(e){var t=this.popups.get("insertAnchor.popup"),n=t.data("data-update-ancher"),t=t.find(".fr-link-to-anchor-header span").first();n?(e.text(this.language.translate("Update")),t.text(this.language.translate("Update Anchor"))):(e.text(this.language.translate("Insert")),t.text(this.language.translate("Insert Anchor")))}}),ct.DefineIcon("closeAnchorInsert",{NAME:"cancel",SVG_KEY:"cancel"}),ct.RegisterCommand("closeAnchorInsert",{title:"Cancel",undo:!1,focus:!1,plugin:"linkToAnchor",callback:function(){this.linkToAnchor.closeAnchorInsert()}}),ct.DefineIcon("anchorEdit",{NAME:"edit",SVG_KEY:"edit"}),ct.RegisterCommand("anchorEdit",{title:"Edit Anchor",undo:!0,popup:!0,plugin:"linkToAnchor",refreshAfterCallback:!1,callback:function(){var e=this.popups.get("editAnchor.popup");this.linkToAnchor.update(e.data("data-update-ancher"))}}),ct.DefineIcon("anchorRemove",{NAME:"trash",SVG_KEY:"remove"}),ct.RegisterCommand("anchorRemove",{title:"Delete",undo:!0,popup:!0,plugin:"linkToAnchor",refreshAfterCallback:!1,callback:function(){var e=this.popups.get("editAnchor.popup");this.linkToAnchor.remove(e.data("data-update-ancher"))}}),Object.assign(ct.POPUP_TEMPLATES,{"codeSnippet.error":"[_CODE_SNIPPET_LAYER_]"}),Object.assign(ct.DEFAULTS,{codeSnippetLanguage:{JavaScript:"javascript",TypeScript:"typescript",Python:"python",HTML:"html",CSS:"css",Java:"java","C++":"cpp",SQL:"sql",JSON:"json"},codeSnippetDefaultLanguage:"JavaScript"}),ct.PLUGINS.codeSnippet=function(s){var n,a,i,o,r="code_snippet",l=s.$;function c(){var e=s.button.build("codeSnippetLang",ct.COMMANDS.codeSnippetLang,!0),t='<div class="fr-buttons fr-code-snippet-header"><span>'.concat(s.language.translate("Insert Code Snippet"),"</span></div>"),e='\n      <div class="fr-layer fr-active">\n        <div class="fr-code-snippet-lang fr-toolbar">\n          '.concat(e,'\n        </div>\n        <pre><code contenteditable="true" spellcheck="false" tabIndex="1"></code></pre>\n        <div class="fr-float-right">\n          <button class="fr-command fr-enable-accessibility fr-modal-close" tabIndex="2" aria-label="').concat(s.language.translate("Cancel"),'">').concat(s.language.translate("Cancel"),'</button>\n          <button class="fr-command fr-enable-accessibility fr-modal-close submit" tabIndex="3" aria-label="').concat(s.language.translate("Insert"),'" data-cmd="submitCodeSnippetPopup">').concat(s.language.translate("Insert"),"</button>\n        </div>\n      </div>\n    "),t=s.modals.create(r,t,e);n=t.$modal,a=t.$head,i=t.$body,n.find(".fr-modal-wrapper").addClass("fr-code-snippet-layer fr-toolbar"),s.button.bindCommands(n,!1),n.find(".fr-toolbar").data("instance",s),s.events.$on(i,"click",'.fr-command[data-cmd="codeSnippetLang"]',p),s.events.$on(i,"input","code",u,!0),s.events.$on(i,"keydown",function(e){!e.target||"CODE"!==e.target.tagName&&"PRE"!==e.target.tagName||e.stopImmediatePropagation()},!0),s.accessibility.registerToolbar(n),s.events.$on(n,"keydown",".fr-modal-close",function(e){"Enter"!==e.key&&ct.KEYCODE.ENTER!==e.which||(s.modals.hide(r),e.target&&l(e.target).hasClass("submit")&&u())})}function d(){var e,t,n;if(window.Prism)return 1;s.popups.get("codeSnippet.error")||(n=s.language.translate("Ensure that all required dependent libraries are available for the plugin to work."),n='\n    <div class="fr-layer fr-active fr-error-layer">\n      <div class="fr-message fr-error-message"><div>'.concat(s.language.translate(n),'</div></div>\n      <div class="fr-action-buttons">\n        <button class="fr-trim-button fr-plugins-ok">').concat(s.language.translate("OK"),"</button>\n      </div>\n    </div>"),n=s.popups.create("codeSnippet.error",{code_snippet_layer:n}),s.popups.setContainer("codeSnippet.error",s.$tb),s.events.$on(n,"click",".fr-plugins-ok",function(){s.popups.hide("codeSnippet.error")})),n=s.$tb.find('.fr-command[data-cmd="codeSnippet"]'),t=(e=s.button.getPosition(n)).left,s.popups.show("codeSnippet.error",t,e.top,n.outerHeight(),!0)}function f(){var e=0<arguments.length&&arguments[0]!==undefined&&arguments[0];n||c(),d()&&(a.find(".fr-code-snippet-header span").first().text(s.language.translate(e?"Edit Code Snippet":"Insert Code Snippet")),i.find(".submit").text(s.language.translate(e?"Update":"Insert")),e||(i.find("code")[0].innerText="",i.removeData("edit-code-block")),u(),s.selection.save(),s.modals.show(r))}function p(e){var t,n,e=e.target;e&&(n=(t=i.find(".fr-btn.fr-dropdown")).next(),["BUTTON","SPAN"].includes(e.tagName)?(n.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),n.find('.fr-command[title="'.concat(t.text(),'"]')).addClass("fr-active").attr("aria-selected",!0)):(t.find("span").text(l(e).text()),u()))}function u(){var e=i.find("code"),t=h(i.find(".fr-btn.fr-dropdown").text()),n=e[0],e=t,t=(t=window.getSelection()).rangeCount?t.getRangeAt(0):null,a=null,r=(t&&n.contains(t.startContainer)&&((r=t.cloneRange()).selectNodeContents(n),r.setEnd(t.endContainer,t.endOffset),a=r.toString().length),t=n.innerText,n.className="language-"+e,n.textContent=t||" ",window.Prism.highlightElement(n),null!==a?function(e,t){var n,a=document.createRange(),r=window.getSelection(),i=0,o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null);for(;n=o.nextNode();){var s=i+n.length;if(t<=s)return a.setStart(n,t-i),a.collapse(!0),r.removeAllRanges(),r.addRange(a);i=s}}(n,a):setTimeout(function(){n.focus()},0),n.parentElement);r&&"pre"===r.nodeName.toLowerCase()&&r.hasAttribute("tabindex")&&r.removeAttribute("tabindex")}function g(a){return new Promise(function(e){var t=document.createDocumentFragment(),n=document.createElement("pre");"string"==typeof a?n.innerHTML=a:n.appendChild(a.cloneNode(!0)),t.appendChild(n),window.Prism.highlightElement(n.firstChild,!1,function(){e(t)})})}function h(t){var n=s.opts.codeSnippetLanguage,e=Object.keys(n).find(function(e){return n[e]===t});return n[t]||e&&e[0]||""}function m(e,r,i){var t;e=s.events.chainTrigger("codeSnippet.beforeInsert",e),d()&&!1!==e&&(e.trim()||(e=" "),o=o||s.button.buildList(["removeCodeSnippet","copyCodeSnippet","editCodeSnippet"]),t=h(r),g('<code class="language-'.concat(t,'">').concat(e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),"</code>")).then(function(e){s.selection.restore(),i||s.undo.saveStep();var t,n,a="code-"+Date.now(),a=(a='\n      <div class="fr-code-snippet" contenteditable="false" style="caret-color: #ECECEC;" data-code-snippet="'.concat(r,'" id="').concat(a,'">\n        <div class="fr-code-header" contenteditable="false">\n          <div class="fr-code-lang" contenteditable="false">').concat(r,'</div>\n          <div class="fr-code-actions">\n            ').concat(o,"\n          </div>\n        </div>\n        ").concat(e.firstChild.outerHTML,"\n      </div>\n      ")).trim();i?i.outerHTML=a:(e=s.selection.element(),t=s.el.firstChild,n=(n=s.html.defaultTag())?"<"+n+"><br></"+n+">":"<br>",!s.core.isEmpty()&&t!=e&&t!=e.parentElement||(a=n+a),s.html.insert(a+=n,!0),s.selection.restore(),s.undo.saveStep()),s.events.trigger("codeSnippet.afterInsert",[a])}))}function e(){var e=l(this),t=e.parents(".fr-code-snippet");e.removeData("mousedown"),s.undo.saveStep(),t.replaceWith(ct.MARKERS),s.selection.restore(),s.undo.saveStep(),setTimeout(function(){s.$el.focus()},0)}function t(){var e=l(this),t=e.parents(".fr-code-snippet"),n=(i||c(),i.find("code"));e.removeData("mousedown"),n.text(t.find("code").text()),i.find(".fr-btn.fr-dropdown span").text(t.find(".fr-code-lang").text()),i.data("edit-code-block",t),f(!0)}function v(){var e=l(this),t=e.parents(".fr-code-snippet").first();e.removeData("mousedown"),document.hasFocus()&&((e=t.clone(!0)).find(".fr-code-actions").remove(),t=e[0].outerHTML,e=new Blob([t],{type:"text/html"}),navigator.clipboard.write([new window.ClipboardItem({"text/html":e})]))}function b(e){var t=e.which,n=s.selection.get(),a=ct.KEYCODE.BACKSPACE===t,r=ct.KEYCODE.DELETE===t;if((a||r)&&!s.keys.isArrow(t)&&t!==ct.KEYCODE.TAB&&t!==ct.KEYCODE.ALT&&t!==ct.KEYCODE.ESC){if(e.ctrlKey||e.metaKey||t===ct.KEYCODE.SHIFT)return!0;var i,o=s.markers.insert();if(!o)return;if(a&&((a=o.previousSibling)&&a.nodeType===Node.ELEMENT_NODE&&l(a).hasClass("fr-code-snippet")?i=a:a&&a.nodeType===Node.TEXT_NODE&&!a.data.trim()?i=o.parentElement.previousElementSibling:n.anchorNode.nodeType===Node.ELEMENT_NODE&&(i=n.anchorNode.previousElementSibling)),(i=r&&(a=o.parentElement).lastChild.nodeType===Node.ELEMENT_NODE&&"fr-marker"===a.lastChild.className?a.nextElementSibling:i)&&"LI"===i.tagName&&(i=i.firstChild),o.remove(),i&&l(i).hasClass("fr-code-snippet"))return e.preventDefault(),e.stopPropagation(),s.undo.saveStep(),l(i).replaceWith(ct.MARKERS),s.selection.restore(),s.undo.saveStep(),!1}n=s.selection.element(),r=n&&l(n).parents(".fr-code-snippet");if(r&&r.length&&t!=ct.KEYCODE.F10&&!s.keys.isBrowserAction(e))return e.preventDefault(),e.stopPropagation(),!1}function E(e,t){"codeSnippetLang"===e&&(t=(e=i.find(".fr-btn.fr-dropdown")).next().find('a[data-param1="'.concat(t,'"]')).text(),e.find("span").text(t),u())}function y(e){if(e.target&&e.target.parentElement&&l(e.target.parentElement).parents(".fr-code-snippet").length)return!1}function w(){window.Prism&&s.$el.find("[data-code-snippet]").filter(function(e){return!e.className}).each(function(e,t){var n=l(t).find("code"),a=t.getAttribute("data-code-snippet");n.length&&(n.text(n[0].innerText),m(n.text(),a,t))})}function _(){s.$el.find("[data-code-snippet]").each(function(e,t){var t=l(t),n=s.doc.createElement("div");n.setAttribute("data-code-snippet-action-btn",!0),t.find(".fr-code-actions").replaceWith(n.outerHTML)})}function C(){var e=s.$el.find("[data-code-snippet-action-btn]");o=o||s.button.buildList(["removeCodeSnippet","copyCodeSnippet","editCodeSnippet"]),e.each(function(e,t){l(t).replaceWith('<div class="fr-code-actions">'.concat(o,"</div>"))})}return{_init:function(){s.events.$on(s.$el,s._mousedown,'.fr-command[data-cmd="removeCodeSnippet"]',e,!0),s.events.$on(s.$el,s._mousedown,'.fr-command[data-cmd="copyCodeSnippet"]',v,!0),s.events.$on(s.$el,s._mousedown,'.fr-command[data-cmd="editCodeSnippet"]',t,!0),s.events.on("commands.after",E),s.events.on("paste.before",y),s.events.on("html.inserted",w),s.events.on("html.beforeGet",_),s.events.on("html.afterGet",C),s.events.$on(s.$el,"beforecopy",_),s.events.on("keydown",b,!0),s.events.on("copy",function(){setTimeout(C,0)}),s.events.on("dragover drop",function(e){if(e.target&&l(e.target).closest(".fr-code-snippet").length)return e.preventDefault(),!1},!0)},insert:m,update:function(e,t,n){var a=e.find("code");e.find(".fr-code-lang").text(n),e.attr("data-code-snippet",n),a.text(t),a[0].className="language-".concat(h(n)),g(a[0]).then(function(e){a.parent().replaceWith(e)})},show:f}},ct.DefineIcon("codeSnippet",{NAME:"codeSnippet",SVG_KEY:"codeSnippet",VIEWBOX:"-5 -4 26 26"}),ct.RegisterCommand("codeSnippet",{title:"Code Snippet",focus:!0,undo:!0,callback:function(){this.codeSnippet.show()}}),ct.DefineIcon("copyCodeSnippet",{NAME:"copy",SVG_KEY:"copy",VIEWBOX:"1 1 18 18"}),ct.RegisterCommand("copyCodeSnippet",{title:"Copy",undo:!1,focus:!1,plugin:"codeSnippet"}),ct.DefineIcon("editCodeSnippet",{NAME:"edit",SVG_KEY:"edit",VIEWBOX:"4 3 16 16"}),ct.RegisterCommand("editCodeSnippet",{title:"Edit",undo:!1,focus:!1,plugin:"codeSnippet"}),ct.DefineIcon("removeCodeSnippet",{NAME:"trash",SVG_KEY:"remove",VIEWBOX:"4 3 17 17"}),ct.RegisterCommand("removeCodeSnippet",{title:"Remove",undo:!1,focus:!1,plugin:"codeSnippet"}),ct.RegisterCommand("codeSnippetLang",{type:"dropdown",undo:!1,plugin:"codeSnippet",displaySelection:!0,defaultSelection:function(e){return e.opts.codeSnippetDefaultLanguage},displaySelectionWidth:250,html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',n=this.opts.codeSnippetLanguage;for(e in n)n.hasOwnProperty(e)&&(t+='\n            <li role="presentation">\n              <a class="fr-command" tabIndex="-1" role="option" data-cmd="codeSnippetLang" data-param1="'.concat(n[e],'" title="').concat(e,'">').concat(e,"</a>\n            </li>"));return t+="</ul>"}}),ct.RegisterCommand("submitCodeSnippetPopup",{title:"Submit",undo:!1,focus:!1,plugin:"codeSnippet",callback:function(){var e=this.modals.get("code_snippet").$body,t=e.find("code"),n=e.find(".fr-btn.fr-dropdown").text(),e=e.data("edit-code-block");e?this.codeSnippet.update(e,t.text(),n):this.codeSnippet.insert(t.text(),n)}})});