/*!
 * froala_editor v5.0.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2026 Froala Labs
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("froala-editor")):"function"==typeof define&&define.amd?define(["froala-editor"],t):t(("undefined"!=typeof globalThis?globalThis:e||self).FroalaEditor)}(this,function(ge){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,a=Array(t);l<t;l++)a[l]=e[l];return a}function me(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var l;if(e)return"string"==typeof e?a(e,t):"Map"===(l="Object"===(l={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:l)||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.assign(ge.POPUP_TEMPLATES,{"table.insert":"[_BUTTONS_][_ROWS_COLUMNS_]","table.edit":"[_BUTTONS_]","table.colors":"[_BUTTONS_][_COLORS_][_CUSTOM_COLOR_]","table.cellProperties":"[_CELL_PROPERTIES_FORM_][_BUTTONS_]","table.tableProperties":"[_TABLE_PROPERTIES_FORM_][_BUTTONS_]"}),Object.assign(ge.DEFAULTS,{tableInsertMaxSize:10,tableEditButtons:["tableHeader","tableFooter","tableRemove","tableRows","tableColumns","tableProperties","-","tableCells","tableCellProperties","tableCellVerticalAlign","tableCellHorizontalAlign","tableCellStyle"],tableInsertButtons:["tableBack","|"],tableResizer:!0,tableDefaultWidth:"50%",tableDefaultAlign:"center",tableDefaultHeight:"100px",tableDefaultBGColor:"",tableDefaultBorderColor:"",tableDefaultBorderWidth:"",tableDefaultBorderStyle:"",tableBorderStyle:["solid","dashed","dotted","double","groove","ridge","inset","outset"],tableResizerOffset:5,tableResizingLimit:30,tableColorsButtons:["tableBack","|"],tableColors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],tableColorsStep:7,tableCellStyles:{"fr-highlighted":"Highlighted","fr-thick":"Thick"},tableStyles:{"fr-dashed-borders":"Dashed Borders","fr-alternate-rows":"Alternate Rows"},tableCellMultipleStyles:!0,tableMultipleStyles:!0,tableInsertHelper:!0,keepTextFormatOnTable:!1,tableInsertHelperOffset:15,proportionalTableResize:!0,enableTableSelection:!0}),ge.PLUGINS.table=function(x){var O,u,p,b,n,M,h,s,H=x.$;function g(){var e,t=S();t&&(x.popups.get("table.edit")||z())&&(x.popups.setContainer("table.edit",x.$sc),e=(t=E(t)).left+(t.right-t.left)/2,x.popups.show("table.edit",e,t.bottom,t.bottom-t.top,!0),x.edit.isDisabled())&&(x.$el.removeClass("fr-no-selection"),x.edit.on(),x.button.bulkRefresh(),x.selection.setAtEnd(x.$el.find(".fr-selected-cell").last().get(0)),x.selection.restore())}function t(){0===L().length&&x.toolbar.enable()}function o(e){return e?(x.popups.onHide("table.insert",function(){x.popups.get("table.insert").find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseover")}),!0):(e="",e={buttons:e=0<x.opts.tableInsertButtons.length?'<div class="fr-buttons fr-tabs">'.concat(x.button.buildList(x.opts.tableInsertButtons),"</div>"):e,rows_columns:function(){for(var e='<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',t=1;t<=x.opts.tableInsertMaxSize;t++){for(var l=1;l<=x.opts.tableInsertMaxSize;l++){var a="inline-block",n=(2<t&&!x.helpers.isMobile()&&(a="none"),"fr-table-cell ");1==t&&1==l&&(n+=" hover"),e+='<span class="fr-command '.concat(n,'" tabIndex="-1" data-cmd="tableInsert" data-row="').concat(t,'" data-col="').concat(l,'" data-param1="').concat(t,'" data-param2="').concat(l,'" style="display: ').concat(a,';" role="button"><span></span><span class="fr-sr-only">').concat(t," &times; ").concat(l,"&nbsp;&nbsp;&nbsp;</span></span>")}e+='<div class="new-line"></div>'}return e+="</div></div>"}()},e=x.popups.create("table.insert",e),x.events.$on(e,"mouseover",".fr-table-size .fr-select-table-size .fr-table-cell",function(e){i(H(e.currentTarget))},!0),x.events.$on(e,"focus","[tabIndex]",function(e){i(H(e.currentTarget))}),x.events.on("popup.tab",function(e){var t,l,a,n,r,o=H(e.currentTarget);return!x.popups.isVisible("table.insert")||!o.is("span, a")||(t=e.which,ge.KEYCODE.ARROW_UP==t||ge.KEYCODE.ARROW_DOWN==t||ge.KEYCODE.ARROW_LEFT==t||ge.KEYCODE.ARROW_RIGHT==t?o.is("span.fr-table-cell")&&(n=(r=(l=o.parent().find("span.fr-table-cell")).index(o))%(a=x.opts.tableInsertMaxSize),r=Math.floor(r/a),ge.KEYCODE.ARROW_UP==t?r=Math.max(0,r-1):ge.KEYCODE.ARROW_DOWN==t?r=Math.min(x.opts.tableInsertMaxSize-1,r+1):ge.KEYCODE.ARROW_LEFT==t?n=Math.max(0,n-1):ge.KEYCODE.ARROW_RIGHT==t&&(n=Math.min(x.opts.tableInsertMaxSize-1,n+1)),i(r=H(l.get(r*a+n))),x.events.disableBlur(),r.focus(),a=!1):ge.KEYCODE.ENTER==t&&(x.button.exec(o),a=!1),!1===a&&(e.preventDefault(),e.stopPropagation()),a)},!0),e)}function i(e){var t=e.data("row"),l=(null!==t&&(t=parseInt(t)),e.data("col")),a=(null!==l&&(l=parseInt(l)),e.parent());a.siblings(".fr-table-size-info").html("".concat(t," &times; ").concat(l)),a.find("> span").removeClass("hover fr-active-item");for(var n=1;n<=x.opts.tableInsertMaxSize;n++)for(var r=0;r<=x.opts.tableInsertMaxSize;r++){var o=a.find('> span[data-row="'.concat(n,'"][data-col="').concat(r,'"]'));n<=t&&r<=l?o.addClass("hover"):n<=t+1||n<=2&&!x.helpers.isMobile()?o.css("display","inline-block"):2<n&&!x.helpers.isMobile()&&o.css("display","none")}e.addClass("fr-active-item")}function z(e){return e?(x.popups.onHide("table.edit",t),!0):(e="",0<x.opts.tableEditButtons.length&&(e='<div class="fr-buttons">'.concat(x.button.buildList(x.opts.tableEditButtons),"</div>"),e=x.popups.create("table.edit",{buttons:e}),x.events.$on(x.$wp,"scroll.table-edit",function(){x.popups.isVisible("table.edit")&&g()}),e))}function m(e,t,l){e=H(e),t=H(t);l&&"REMOVE"!==l&&"transparent"!==l&&"rgba(0, 0, 0, 0)"!==l?(e.css("background-color",l),t.css("display","none")):(e.css("background-color","transparent"),t.css("display","block"))}function F(){var e,t=x.popups.get("table.cellProperties");return t||(e={cell_properties_form:'\n          <div class="fr-cell-properties-form">\n            <div class="fr-cell-properties-section">\n              <label>'.concat(x.language.translate("Background"),'</label>\n              <div class="fr-cell-bg-container">\n                <input type="text" id="fr-cell-bg" class="fr-input" tabIndex="1" title="').concat(x.language.translate("Color"),'" placeholder="').concat(x.language.translate("Color"),'">\n                <button type="button" title="').concat(x.language.translate("Color"),'" class="fr-command fr-btn-cell-bg-color" tabIndex="2" data-param1="cell" data-cmd="openColorPicker">\n                  <div class="fr-color-preview">\n                    <div class="fr-color-preview-indicator"></div>\n                  </div>\n                </button>\n              </div>\n            </div>\n        \n            <div class="fr-cell-dimensions-container">\n              <div class="fr-cell-dimension-section">\n                <label>').concat(x.language.translate("Dimensions"),'</label>\n                <div class="fr-dimension-inputs">\n                  <input type="text" id="fr-cell-width" tabIndex="3" title="').concat(x.language.translate("Width"),'" placeholder="').concat(x.language.translate("Width"),'">\n                  <span class="fr-dimension-separator">\xd7</span>\n                  <input type="text" id="fr-cell-height" tabIndex="4" title="').concat(x.language.translate("Height"),'" placeholder="').concat(x.language.translate("Height"),'">\n                  <label for="fr-cell-height"></label>\n                </div>\n              </div>\n        \n              <div class="fr-cell-padding-section">\n                <label>').concat(x.language.translate("Padding"),'</label>\n                <div>\n                  <input type="text" id="fr-cell-padding" tabIndex="5" title="').concat(x.language.translate("Size"),'" placeholder="').concat(x.language.translate("Size"),'">\n                  <label for="fr-cell-padding"></label>\n                </div>\n              </div>\n            </div>\n        \n            <div class="fr-cell-properties-buttons">\n              <button type="button" class="fr-command fr-enable-accessibility fr-cancel-button" tabIndex="6" data-cmd="onCancel">').concat(x.language.translate("Cancel"),'</button>\n              <button type="button" class="fr-command fr-enable-accessibility fr-save-button" tabIndex="7" data-cmd="applyCellProperties">').concat(x.language.translate("Save"),"</button>\n            </div>\n          </div>"),buttons:""},t=x.popups.create("table.cellProperties",e),v(),x.events.$on(t,"input","#fr-cell-bg",function(){t.data("bg-modified",!0)}),x.events.$on(t,"input","#fr-cell-width",function(){t.data("width-modified",!0)}),x.events.$on(t,"input","#fr-cell-height",function(){t.data("height-modified",!0)}),x.events.$on(t,"input","#fr-cell-padding",function(){t.data("padding-modified",!0)})),t}function v(){var e=x.popups.get("table.cellProperties");e&&(e.data("bg-modified",!1),e.data("width-modified",!1),e.data("height-modified",!1),e.data("padding-modified",!1))}function a(e){var t,l,a,n,r,o=x.popups.get("table.colors").data("type");"table"===o?(t=(a=x.popups.get("table.tableProperties")).find(".fr-color-preview"),l=a.find(".fr-color-preview-indicator"),a=a.find("#fr-table-bg")):"cell"===o?(t=(n=x.popups.get("table.cellProperties")).find(".fr-color-preview"),l=n.find(".fr-color-preview-indicator"),a=n.find("#fr-cell-bg"),n=x.popups.get("table.cellProperties")):"border"===o&&(t=(r=x.popups.get("table.tableProperties")).find(".fr-border-color-preview"),l=r.find(".fr-border-color-preview-indicator"),a=r.find("#fr-table-border-color")),"string"==typeof e&&(x.helpers.isRGBColor(e)&&(e=x.helpers.RGBToHex(e).toUpperCase()),x.helpers.isValidHexColor(e)||"transparent"===e||""===e)&&(H(a).val(e),H(a).focus(),"cell"===o&&H(n).data("bg-modified",!0),m(t,l,e))}function K(e){var t=x.doc.createRange(),e=e.get(0).querySelector("td, th"),e=(t.setStart(e,0),t.collapse(!0),x.selection.get());e.removeAllRanges(),e.addRange(t)}function Y(e){var t={startTag:"",closeTag:""};return{startTag:(t=x.opts.keepTextFormatOnTable?W(function(e){var t=new Set,l=e.textContent,a=0,n=[e.firstChild];for(;0<n.length;){var r=n.pop();if(r&&(t.has(r)||(0===a&&l!==r.textContent&&(l=r.textContent,a++),t.add(r)),r.hasChildNodes()))for(var o=0;o<r.childNodes.length;){if(3===r.childNodes[o].nodeType)return me(t);if(r.childNodes[o].textContent){if(0===a&&r.childNodes[o].textContent!==l){l=r.childNodes[o].textContent,n.push(r.childNodes[o]),a++;break}r.childNodes[o].textContent===l&&n.push(r.childNodes[o])}o++}}return me(t)}(e).reverse()):t).startTag,closeTag:t.closeTag}}function W(e){var t="",l="",a=["br","#text","#comment","font"];if(0<e.length)for(var n=e.length-1;0<=n;n--){var r=e[n],o=x.node.isBlock(r),i=a.indexOf(r.nodeName.toLowerCase());if(!o&&i<0){var s=r.style,c="";if(s&&s.length){for(var d=0;d<s.length;d++)c+=s[d]+": "+s[s[d]].replace(/"/gi,"")+"; ";c=c.trim()}t+=c?"<"+r.nodeName.toLowerCase()+' style="'+c+'">':"<"+r.nodeName.toLowerCase()+">",l="</"+r.nodeName.toLowerCase()+">"+l}}return{startTag:t,closeTag:l}}function C(){var e=P(),t=L(),l=0<t.length,a=0<e.length;(l||a)&&(l&&(x.selection.setBefore(t[0])||x.selection.setAfter(t[0]),x.selection.restore(),x.popups.hide("table.edit")),K(e),x.undo.saveStep(),w(),e.remove(),x.$el.focus())}function Z(e){var t=P();if(0<t.length&&!(0<x.$el.find("thead .fr-selected-cell").length&&"above"==e||0<x.$el.find("tfoot td.fr-selected-cell").length&&"below"==e)){var l=S(),a=y(l);if(null!=a){for(var n,r,o="above"==e?a.min_i:a.max_i,i="<tr>",s=0;s<l[o].length;s++)"below"==e&&o<l.length-1&&l[o][s]==l[o+1][s]||"above"==e&&0<o&&l[o][s]==l[o-1][s]?(0===s||0<s&&l[o][s]!=l[o][s-1])&&(n=H(l[o][s])).attr("rowspan",parseInt(n.attr("rowspan"),10)+1):"TH"==(n=H(l[o][s])).attr("tagName").toUpperCase()?i+='<th style="'+n.attr("style")+'" ><br></th>':(r=Y(l[o][s]),i+='<td style="'+n.attr("style")+'" >'+r.startTag+"<br>"+r.closeTag+"</td>");i+="</tr>",a=0<x.$el.find("thead .fr-selected-cell").length&&"below"==e||0<x.$el.find("tfoot td.fr-selected-cell").length&&"above"==e?H(t.find("tbody").not(t.find("> table tbody"))):(a=(a=H(t.find("tr").not(t.find("> table tr")))).filter(function(){return H(this).closest("table")[0]===t[0]}),H(a.get(o))),"below"==e?"TBODY"==a.attr("tagName")?a.prepend(i):a[0].parentNode&&a[0].insertAdjacentHTML("afterend",i):"above"==e&&("TBODY"==a.attr("tagName")?a.append(i):a.before(i),x.popups.isVisible("table.edit"))&&g()}}}function j(e,t,l){var a,n,r,o,i,s=0,c=S(l);if(e<(t=Math.min(t,c[0].length-1)))for(n=e;n<=t;n++)if(!(e<n&&c[0][n]==c[0][n-1])&&1<(o=Math.min(parseInt(c[0][n].getAttribute("colspan"),10)||1,t-e+1))&&c[0][n]==c[0][n+1])for(s=o-1,a=1;a<c.length;a++)if(c[a][n]!=c[a-1][n]){for(r=n;r<n+o;r++)if(c[a][r]!==undefined)if(1<(i=parseInt(c[a][r].getAttribute("colspan"),10)||1)&&c[a][r]==c[a][r+1])r+=s=Math.min(s,i-1);else if(!(s=Math.max(0,s-1)))break;if(!s)break}s&&X(c,s,"colspan",0,c.length-1,e,t)}function G(e,t,l){var a,n,r,o,i,s=0,c=S(l);if(e<(t=Math.min(t,c.length-1)))for(a=e;a<=t;a++)if(!(e<a&&c[a][0]==c[a-1][0])&&c[a][0]!==undefined&&1<(o=Math.min(parseInt(c[a][0].getAttribute("rowspan"),10)||1,t-e+1))&&c[a][0]==c[a+1][0])for(s=o-1,n=1;n<c[0].length;n++)if(c[a][n]!=c[a][n-1]){for(r=a;r<a+o;r++)if(c[r][n]!==undefined)if(1<(i=parseInt(c[r][n].getAttribute("rowspan"),10)||1)&&c[r][n]==c[r+1][n])r+=s=Math.min(s,i-1);else if(!(s=Math.max(0,s-1)))break;if(!s)break}s&&X(c,s,"rowspan",e,t,0,c[0].length-1)}function X(e,t,l,a,n,r,o){for(var i,s,c=a;c<=n;c++)for(i=r;i<=o;i++)a<c&&e[c][i]==e[c-1][i]||r<i&&e[c][i]==e[c][i-1]||e[c][i]!==undefined&&1<(s=parseInt(e[c][i].getAttribute(l),10)||1)&&(1<s-t?e[c][i].setAttribute(l,s-t):e[c][i].removeAttribute(l))}function U(e,t,l,a,n){G(e,t,n),j(l,a,n)}function q(e){e.style.removeProperty("border"),e.style.removeProperty("border-top"),e.style.removeProperty("border-bottom"),e.style.removeProperty("border-left"),e.style.removeProperty("border-right")}function S(e){var c=[];if(e=null==(e=e||null)&&0<L().length?P():e){if(!e.find("tr").html().match(/xl[0-9]+/gi)){for(var l=e.find("tr:empty"),t=l.length-1;0<=t;t--)H(l[t]).remove();l.length&&e.find("td[rowspan]").each(function(){var e=H(this),t=parseInt(e.attr("rowspan"),10)-l.length;1<t?e.attr("rowspan",t):e.removeAttr("rowspan")})}e.find("tr").not(e.find("> table tr")).filter(function(){return H(this).closest("table")[0]===e[0]}).each(function(i,e){var e=H(e),s=0;e.find("> th, > td").each(function(e,t){for(var l=H(t),a=parseInt(l.attr("colspan"),10)||1,n=parseInt(l.attr("rowspan"),10)||1,r=i;r<i+n;r++)for(var o=s;o<s+a;o++)c[r]||(c[r]=[]),c[r][o]?s++:c[r][o]=t;s+=a})})}return c}function D(e,t){for(var l=0;l<t.length;l++)for(var a=0;a<t[l].length;a++)if(t[l][a]==e)return{row:l,col:a}}function $(e,t,l){for(var a=e+1,n=t+1;a<l.length;){if(l[a][t]!=l[e][t]){a--;break}a++}for(a==l.length&&a--;n<l[e].length;){if(l[e][n]!=l[e][t]){n--;break}n++}return n==l[e].length&&n--,{row:a,col:n}}function J(){x.el.querySelector(".fr-cell-fixed")&&x.el.querySelector(".fr-cell-fixed").classList.remove("fr-cell-fixed"),x.el.querySelector(".fr-cell-handler")&&x.el.querySelector(".fr-cell-handler").classList.remove("fr-cell-handler")}function w(){var e=x.$el.find(".fr-selected-cell");0<e.length&&e.each(function(){var e=H(this);e.removeClass("fr-selected-cell"),""===e.attr("class")&&e.removeAttr("class")}),J()}function c(){x.events.disableBlur(),x.selection.clear(),x.$el.addClass("fr-no-selection"),x.$el.blur(),x.events.enableBlur()}function y(e){var t=x.$el.find(".fr-selected-cell");if(0<t.length){for(var l=e.length,a=0,n=e[0].length,r=0,o=0;o<t.length;o++)var i=D(t[o],e),s=$(i.row,i.col,e),l=Math.min(i.row,l),a=Math.max(s.row,a),n=Math.min(i.col,n),r=Math.max(s.col,r);return{min_i:l,max_i:a,min_j:n,max_j:r}}return null}function E(e){var t,l,a=y(e);if(null!=a)return t=H(e[a.min_i][a.min_j]),l=H(e[a.min_i][a.max_j]),a=H(e[a.max_i][a.min_j]),{left:t.length&&t.offset().left,right:l.length&&l.offset().left+l.outerWidth(),top:t.length&&t.offset().top,bottom:a.length&&a.offset().top+a.outerHeight()}}function f(e,t){if(H(e).is(t))w(),H(e).addClass("fr-selected-cell");else{c(),x.edit.off();var l=S(),a=D(e,l),n=D(t,l);if(a&&n){var r=function b(e,t,l,a,n){for(var r,o,i,s=e,c=t,d=l,f=a,p=s;p<=c;p++)(1<(parseInt(H(n[p][d]).attr("rowspan"),10)||1)||1<(parseInt(H(n[p][d]).attr("colspan"),10)||1))&&(i=$((o=D(n[p][d],n)).row,o.col,n),s=Math.min(o.row,s),c=Math.max(i.row,c),d=Math.min(o.col,d),f=Math.max(i.col,f)),(1<(parseInt(H(n[p][f]).attr("rowspan"),10)||1)||1<(parseInt(H(n[p][f]).attr("colspan"),10)||1))&&(i=$((o=D(n[p][f],n)).row,o.col,n),s=Math.min(o.row,s),c=Math.max(i.row,c),d=Math.min(o.col,d),f=Math.max(i.col,f));for(r=d;r<=f;r++)(1<(parseInt(H(n[s][r]).attr("rowspan"),10)||1)||1<(parseInt(H(n[s][r]).attr("colspan"),10)||1))&&(i=$((o=D(n[s][r],n)).row,o.col,n),s=Math.min(o.row,s),c=Math.max(i.row,c),d=Math.min(o.col,d),f=Math.max(i.col,f)),(1<(parseInt(H(n[c][r]).attr("rowspan"),10)||1)||1<(parseInt(H(n[c][r]).attr("colspan"),10)||1))&&(i=$((o=D(n[c][r],n)).row,o.col,n),s=Math.min(o.row,s),c=Math.max(i.row,c),d=Math.min(o.col,d),f=Math.max(i.col,f));return s==e&&c==t&&d==l&&f==a?{min_i:e,max_i:t,min_j:l,max_j:a}:b(s,c,d,f,n)}(Math.min(a.row,n.row),Math.max(a.row,n.row),Math.min(a.col,n.col),Math.max(a.col,n.col),l);w(),e.classList.add("fr-cell-fixed"),t.classList.add("fr-cell-handler");for(var o=r.min_i;o<=r.max_i;o++)for(var i=r.min_j;i<=r.max_j;i++)H(e).closest("table").is(H(l[o][i]).closest("table"))&&H(l[o][i]).addClass("fr-selected-cell")}}}function T(e){var t=null,l=H(e.target);return"TD"==e.target.tagName||"TH"==e.target.tagName?t=e.target:0<l.closest("th",l.closest("thead")[0]).length?t=l.closest("th",l.closest("thead")[0]).get(0):0<l.closest("td",l.closest("tr")[0]).length&&(t=l.closest("td",l.closest("tr")[0]).get(0)),-1===x.$el.html.toString().search(t)?null:t}function A(){w(),x.popups.hide("table.edit")}function e(e){var t,l,a=T(e);if("false"==H(a).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable"))return!0;0<L().length&&!a&&A(),x.edit.isDisabled()&&!x.popups.isVisible("table.edit")||(t=!1,1==e.which&&H(a).hasClass("fr-selected-cell")&&(H(a).removeClass("fr-selected-cell"),t=!0),1!=e.which||1==e.which&&x.helpers.isMac()&&e.ctrlKey?(3==e.which||1==e.which&&x.helpers.isMac()&&e.ctrlKey)&&a&&A():(b=!0,a&&(0<L().length&&!e.shiftKey&&A(),e.stopPropagation(),x.events.trigger("image.hideResizer"),x.events.trigger("video.hideResizer"),p=!0,l=a.tagName.toLowerCase(),e.shiftKey&&0<x.$el.find("".concat(l,".fr-selected-cell")).length?H(x.$el.find("".concat(l,".fr-selected-cell")).closest("table")).is(H(a).closest("table"))?f(n,a):c():((x.keys.ctrlKey(e)||e.shiftKey)&&"TD"===e.currentTarget.tagName&&(1<L().length||0===H(a).find(x.selection.element()).length&&!H(a).is(x.selection.element()))&&c(),n=a,0<x.opts.tableEditButtons.length&&!t&&f(n,n)))))}function r(e){var t,l,a,n,r,o,i,s,c,d,f=x.popups.areVisible();return!(x.edit.isDisabled()||!f||f.hasClass("fr-do-not-hide"))||(e.target===document?null:(f=T(e),1===L().length&&null===f&&(x.toolbar.enable(),w()),(1===L().length&&f&&"TD"!==f.tagName&&"TH"!==f.tagName||!p&&!x.$tb.is(e.target)&&!x.$tb.is(H(e.target).closest(".fr-toolbar")))&&(x.toolbar.enable(),setTimeout(function(){w()},100)),("BODY"===e.target.tagName||"HTML"===e.target.tagName)&&!f&&0<L().length&&x.toolbar.enable(),void(1!=e.which||1==e.which&&x.helpers.isMac()&&e.ctrlKey||(b=!1,p&&(p=!1,T(e)||1!=L().length?0<L().length?x.selection.isCollapsed()?(g(),x.toolbar.enable()):(w(),x.edit.on()):L().length||(x.$el.removeClass("fr-no-selection"),x.edit.on()):w()),h&&(h=!1,O.removeClass("fr-moving"),x.$el.removeClass("fr-no-selection"),x.edit.on(),O.hasClass("fr-table-col-resizer")?(f=parseFloat(O.css("left"))+x.opts.tableResizerOffset+x.$wp.offset().left,x.opts.iframe&&(f-=x.$iframe.offset().left),O.data("release-position",f),O.removeData("max-left"),O.removeData("max-right")):(e=parseFloat(O.css("top")),O.data("release-position",e),O.removeData("max-top"),O.removeData("max-bottom")),f=O.data("origin"),e=O.data("release-position"),f!==e&&(d=O.data("first"),t=O.data("second"),l=O.data("table"),i=l.outerWidth(),x.undo.canDo()||x.undo.saveStep(),O.hasClass("fr-table-col-resizer")?(s=S(l),a=s[0]?s[0].length:0,a=I(l,a),(-1==d||-1==t)&&x.opts.proportionalTableResize||(s=function(e,t,l){for(var a=t[0]?t[0].length:0,n=e.outerWidth(),r=[],o=[],i=l.find("col"),s=0;s<a;s++){var c=i.eq(s),d=void 0,f=parseFloat(c.attr("width")||c.css("width"));d=f&&!isNaN(f)?(c.attr("width")||"").includes("%")||(c.css("width")||"").includes("%")?f/100*n:f:H(t[0][s]).outerWidth(),r[s]=d,o[s]=d/n*100}return{currentWidths:r,currentPercentages:o}}(l,s,a),c=s.currentWidths,r=me(s=s.currentPercentages),n=(e-f)/i*100,x.opts.proportionalTableResize?(c=(s[d]*(c[d]+e-f)/c[d]).toFixed(4),s=(s[d]+s[t]-c).toFixed(4),r[d]=+c,r[t]=+s):(r[d]+=n,r[t]-=n,r[d]<1&&(c=1-r[d],r[d]=1,r[t]-=c),r[t]<1&&(s=1-r[t],r[t]=1,r[d]-=s)),k(a,r)),n=a.find("col"),c=-1==d&&0==t,s=d==n.length-1&&-1==t,(c||s)&&(r=l.parent(),a=parseFloat(r.css("padding-left")),n=parseFloat(r.css("padding-right")),c=a+n,s=i/(r.width()-c)*100,"rtl"==x.opts.direction&&0===t||"rtl"!=x.opts.direction&&0!==t?o=(i+e-f)/i*s:("rtl"==x.opts.direction&&0!==t||"rtl"!=x.opts.direction&&0===t)&&(o=(i-e+f)/i*s),l.css("width","".concat(Math.round(o).toFixed(4),"%")))):(a=l.find("tr"),n=Math.round(e-f),r=l.height(),-1!=d&&-1!=t?(c=a.eq(d),i=c.outerHeight(),s=Math.max(i+n,x.opts.tableResizingLimit),l.css("height",""),c.css("height",s+"px"),l.css("height",l.height()+"px")):(o=-1==d&&0==t,x.opts.proportionalTableResize?he(l,(o?-n:n)+r):(l.css("height",""),o?(e=a.eq(0),f=e.outerHeight(),i=Math.max(f-n,x.opts.tableResizingLimit),e.css("height",i+"px")):(s=a.eq(a.length-1),c=s.outerHeight(),d=Math.max(c+n,x.opts.tableResizingLimit),s.css("height",d+"px")),l.css("height",l.height()+"px"))),x.opts.iframe&&x.$iframe.height(x.iframe_document.scrollingElement.offsetHeight)),x.selection.restore(),x.undo.saveStep(),x.events.trigger("table.resized",[l.get(0)])),O.removeData("origin"),O.removeData("release-position"),O.removeData("first"),O.removeData("second"),O.removeData("table"),V())))))}function Q(e){(H(e.currentTarget).is(H(e.originalEvent.relatedTarget))||e.currentTarget.contains(e.originalEvent.relatedTarget)||e.originalEvent.relatedTarget&&e.originalEvent.relatedTarget.contains(e.currentTarget))&&!e.currentTarget.querySelector("input, textarea")||(x.events.$on(H("input, textarea"),"click",l),!0===p&&0<x.opts.tableEditButtons.length&&(H(e.currentTarget).closest("table").is(P())?f(n,e.currentTarget):"TD"!==e.currentTarget.tagName&&"TH"!==e.currentTarget.tagName&&c()))}function ee(e,t,l,a){for(var n,r=t;r!=x.el&&"TD"!=r.tagName&&"TH"!=r.tagName&&("up"==a?n=r.previousElementSibling:"down"==a&&(n=r.nextElementSibling),!n);)r=r.parentNode;if("TD"==r.tagName||"TH"==r.tagName){for(var o,t=r,i=a,s=t;s&&"TABLE"!=s.tagName&&s.parentNode!=x.el;)s=s.parentNode;s&&"TABLE"==s.tagName&&(o=S(H(s)),"up"==i?te(D(t,o),s,o):"down"==i&&le(D(t,o),s,o))}else n&&("up"==a&&x.selection.setAtEnd(n),"down"==a)&&x.selection.setAtStart(n)}function te(e,t,l){0<H(".tribute-container").length&&"none"!=H(".tribute-container").css("display")||(0<e.row?x.selection.setAtEnd(l[e.row-1][e.col]):ee(0,t,0,"up"))}function le(e,t,l){var a;0<H(".tribute-container").length&&"none"!=H(".tribute-container").css("display")||(a=parseInt(l[e.row][e.col].getAttribute("rowspan"),10)||1,e.row<l.length-a?x.selection.setAtStart(l[e.row+a][e.col]):ee(0,t,0,"down"))}function ae(e){var t=e.which,l=x.selection.blocks();if(l.length&&("TD"==(l="P"!==(l=l[0]).tagName&&"DIV"!==l.tagName?l:l.parentNode).tagName||"TH"==l.tagName)){for(var a=l;a&&"TABLE"!=a.tagName&&a.parentNode!=x.el;)a=a.parentNode;!a||"TABLE"!=a.tagName||ge.KEYCODE.ARROW_LEFT!=t&&ge.KEYCODE.ARROW_UP!=t&&ge.KEYCODE.ARROW_RIGHT!=t&&ge.KEYCODE.ARROW_DOWN!=t||(0<L().length&&A(),x.browser.webkit&&(ge.KEYCODE.ARROW_UP==t||ge.KEYCODE.ARROW_DOWN==t)&&function(e,t,l){if(e){var a="TD"===e.tagName||"TH"===e.tagName?e:H(e).parentsUntil(x.el,"td, th").get(0);if(a){if(a.textContent.trim().length<=0&&1===a.children.length&&"BR"===a.children[0].tagName)return 1;"TD"!==a.tagName&&"TH"!==a.tagName||!e||e.nodeType===Node.TEXT_NODE||(e.children&&0<e.children.length?(o=t>e.children.length?e.children.length-1:t-1,(o=e.children[o]||e.firstChild)&&"string"==typeof o.textContent&&(t=(e=o).textContent.trim().length-1)):e.firstChild&&"string"==typeof e.firstChild.textContent&&(e=e.firstChild,t=e.textContent.trim().length-1));var n,r,o=document.createRange(),o=(o.selectNodeContents(a),o.getBoundingClientRect());n=(e.textContent.trim().length<=0&&e.getBoundingClientRect?e:((n=e).nodeType!==Node.TEXT_NODE&&(n=function(e){var t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),l=null;for(;t.nextNode();)l=t.currentNode;return l}(e),t=n&&"up"===l?n.textContent.length:0),(r=document.createRange()).setStart(n||e,t),r.collapse(!0),r)).getBoundingClientRect();if("up"===l){if("BR"===e.tagName){if(a.firstChild.isSameNode(e))return 1;if(e.previousSibling&&(x.node.isBlock(e.previousSibling)||x.node.isVoid(e.previousSibling)))return}return Math.abs(n.top-o.top)<=6}if("down"===l){if("BR"===e.tagName){if(a.lastChild.isSameNode(e))return 1;if(e.nextSibling&&(x.node.isBlock(e.nextSibling)||x.node.isVoid(e.nextSibling)))return a.lastChild.isSameNode(e.nextSibling)||!1}return Math.abs(o.bottom-n.bottom)<=6}}}return}(x.selection.ranges(0).startContainer,x.selection.ranges(0).startOffset,ge.KEYCODE.ARROW_UP==t?"up":"down")&&(e.preventDefault(),e.stopPropagation(),l=D(l,e=S(H(a))),ge.KEYCODE.ARROW_UP==t?te(l,a,e):ge.KEYCODE.ARROW_DOWN==t&&le(l,a,e),x.selection.restore()))}}function ne(){x.shared.$table_resizer||(x.shared.$table_resizer=H(document.createElement("div")).attr("class","fr-table-resizer").html("<div></div>")),O=x.shared.$table_resizer,x.events.$on(O,"mousedown",function(e){return!x.core.sameInstance(O)||(0<L().length&&A(),1==e.which?(x.selection.save(),h=!0,O.addClass("fr-moving"),c(),x.edit.off(),O.find("div").css("opacity",1),!1):void 0)}),x.events.$on(O,"mousemove",function(e){if(!x.core.sameInstance(O))return!0;h&&(x.opts.iframe&&(e.pageX-=x.$iframe.offset().left,e.pageY-=x.$iframe.offset().top),ce(e))});var t=function t(e){h&&r(e)};window.addEventListener("mouseup",t,!0),x.events.on("destroy",function(){window.removeEventListener("mouseup",t,!0)},!0),x.events.on("shared.destroy",function(){O.html("").removeData().remove(),O=null},!0),x.events.on("destroy",function(){x.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"),H("body").first().append(O.hide())},!0)}function V(){O&&(O.find("div").css("opacity",0),O.css("top",0),O.css("left",0),O.css("height",0),O.css("width",0),O.find("div").css("height",0),O.find("div").css("width",0),O.css("padding-top",0),O.css("padding-bottom",0),O.css("padding-left",0),O.css("padding-right",0),O.hide())}function R(){u&&u.removeClass("fr-visible").css("left","-9999px")}function re(e,t){if(0===L().length){var l,a,n,r,o,i,s,c,d,f,p,b,h;if(t&&("HTML"==t.tagName||"BODY"==t.tagName||x.node.isElement(t)))for(l=1;l<=x.opts.tableInsertHelperOffset;l++){if(c=x.doc.elementFromPoint(e.pageX-x.win.pageXOffset,e.pageY-x.win.pageYOffset+l),H(c).hasClass("fr-tooltip"))return;if(c&&("TH"==c.tagName||"TD"==c.tagName||"TABLE"==c.tagName)&&(H(c).parents(".fr-wrapper").length||x.opts.iframe)&&"false"!=H(c).closest("table").attr("contenteditable"))return s=e,c=H(c).closest("table"),void(x.$box.find(".fr-line-breaker").isVisible()||(u||de(),x.$box.append(u),u.data("instance",x),c=H(c).find("tr").first(),a=s.pageX,r=n=0,x.opts.iframe&&(s=x.helpers.getPX(x.$wp.find(".fr-iframe").css("padding-top")),o=x.helpers.getPX(x.$wp.find(".fr-iframe").css("padding-left")),n+=x.$iframe.offset().left-x.helpers.scrollLeft()+o,r+=x.$iframe.offset().top-x.helpers.scrollTop()+s),c.find("th, td").each(function(){var e=H(this);return e.offset().left<=a&&a<e.offset().left+e.outerWidth()/2?(i=parseInt(u.find("a").css("width"),10),u.css("top",r+e.offset().top-x.$box.offset().top-i-5),u.css("left",n+e.offset().left-x.$box.offset().left-i/2),u.data("selected-cell",e),u.data("position","before"),u.addClass("fr-visible"),!1):e.offset().left+e.outerWidth()/2<=a&&a<e.offset().left+e.outerWidth()?(i=parseInt(u.find("a").css("width"),10),u.css("top",r+e.offset().top-x.$box.offset().top-i-5),u.css("left",n+e.offset().left-x.$box.offset().left+e.outerWidth()-i/2),u.data("selected-cell",e),u.data("position","after"),u.addClass("fr-visible"),!1):void 0})));if(o=x.doc.elementFromPoint(e.pageX-x.win.pageXOffset+l,e.pageY-x.win.pageYOffset),H(o).hasClass("fr-tooltip"))return;if(o&&("TH"==o.tagName||"TD"==o.tagName||"TABLE"==o.tagName)&&(H(o).parents(".fr-wrapper").length||x.opts.iframe)&&"false"!=H(o).closest("table").attr("contenteditable"))return s=e,c=H(o).closest("table"),void(x.$box.find(".fr-line-breaker").isVisible()||(u||de(),x.$box.append(u),u.data("instance",x),c=H(c),d=s.pageY,p=f=0,x.opts.iframe&&(s=x.helpers.getPX(x.$wp.find(".fr-iframe").css("padding-top")),b=x.helpers.getPX(x.$wp.find(".fr-iframe").css("padding-left")),f+=x.$iframe.offset().left-x.helpers.scrollLeft()+b,p+=x.$iframe.offset().top-x.helpers.scrollTop()+s),c.find("tr").each(function(){var e=H(this),t=(h=parseInt(u.find("a").css("width"),10),f+e.offset().left-x.$box.offset().left),t=0!==x.$box.offset().left?t-h-5:t+h-5;return e.offset().top<=d&&d<e.offset().top+e.outerHeight()/2?(u.css("top",p+e.offset().top-x.$box.offset().top-h/2),u.css("left",t),u.data("selected-cell",e.find("td").first()),u.data("position","above"),u.addClass("fr-visible"),!1):e.offset().top+e.outerHeight()/2<=d&&d<e.offset().top+e.outerHeight()?(u.css("top",p+e.offset().top-x.$box.offset().top+e.outerHeight()-h/2),u.css("left",t),u.data("selected-cell",e.find("td").first()),u.data("position","below"),u.addClass("fr-visible"),!1):void 0})))}x.core.sameInstance(u)&&R()}}function d(e,t){e=H(e);e.removeClass(t),e.length&&e.get(0).hasAttribute("class")&&!e.attr("class").trim()&&e.removeAttr("class")}function oe(e){M=null;var t,l,a,n,r,o,i,s,c,d,f,p,b,h,u,g,m,v,C,w,y,E,T,A,R=x.doc.elementFromPoint(e.pageX-x.win.pageXOffset,e.pageY-x.win.pageYOffset);if(0===H(R).length)return!1;x.opts.tableResizer&&(!x.popups.areVisible()||x.popups.areVisible()&&x.popups.isVisible("table.edit"))&&(t=e,T=H(l=R),A=(a=T?T.closest("table"):a).parent(),l&&"TD"!=l.tagName&&"TH"!=l.tagName&&(0<T.closest("td").length?l=T.closest("td"):0<T.closest("th").length&&(l=T.closest("th"))),!l||"TD"!=l.tagName&&"TH"!=l.tagName?O&&T.get(0)!=O.get(0)&&T.parent().get(0)!=O.get(0)&&x.core.sameInstance(O)&&V():(T=H(l),0!==x.$el.find(T).length&&(s=(w=T.offset().left-1)+T.outerWidth(),r=(n=T.offset().top-1)+T.outerHeight(),Math.abs(t.pageX-w)<=x.opts.tableResizerOffset||Math.abs(s-t.pageX)<=x.opts.tableResizerOffset?(C=$((c=D(l,d=S(a))).row,c.col,d),u=a.offset().top,o=a.outerHeight()-1,"rtl"!=x.opts.direction?t.pageX-w<=x.opts.tableResizerOffset?(i=w,0<c.col?(y=w-N(c.col-1,d)+x.opts.tableResizingLimit,E=w+N(c.col,d)-x.opts.tableResizingLimit,f=c.col-1,h=c.col):(f=-1,h=0,y=x.$wp.offset().left-1+parseFloat(A.css("padding-left")),E=x.opts.proportionalTableResize?a.offset().left-1+a.width()-d[0].length*x.opts.tableResizingLimit:w+N(c.col,d)-x.opts.tableResizingLimit)):s-t.pageX<=x.opts.tableResizerOffset&&(i=s,C.col<d[C.row].length&&d[C.row][C.col+1]?(y=s-N(C.col,d)+x.opts.tableResizingLimit,E=s+N(C.col+1,d)-x.opts.tableResizingLimit,f=C.col,h=C.col+1):(f=C.col,h=-1,y=x.opts.proportionalTableResize?a.offset().left-1+d[0].length*x.opts.tableResizingLimit:s-N(C.col,d)+x.opts.tableResizingLimit,E=A.offset().left-1+A.width()-parseFloat(A.css("padding-left")))):s-t.pageX<=x.opts.tableResizerOffset?(i=s,0<c.col?(y=s-N(c.col,d)+x.opts.tableResizingLimit,E=s+N(c.col-1,d)-x.opts.tableResizingLimit,f=c.col,h=c.col-1):(f=null,h=0,y=a.offset().left+d[0].length*x.opts.tableResizingLimit,E=A.offset().left-1+A.width()+parseFloat(A.css("padding-left")))):t.pageX-w<=x.opts.tableResizerOffset&&(i=w,C.col<d[C.row].length&&d[C.row][C.col+1]?(y=w-N(C.col+1,d)+x.opts.tableResizingLimit,E=w+N(C.col,d)-x.opts.tableResizingLimit,f=C.col+1,h=C.col):(f=C.col,h=null,y=A.offset().left+parseFloat(A.css("padding-left")),E=a.offset().left-1+a.width()-d[0].length*x.opts.tableResizingLimit)),O||ne(),V(),O.removeClass("fr-table-row-resizer"),O.addClass("fr-table-col-resizer"),O.data("table",a),O.data("first",f),O.data("second",h),O.data("instance",x),x.$wp.append(O),s=i-x.win.pageXOffset-x.opts.tableResizerOffset-x.$wp.offset().left,c=u-x.$wp.offset().top+x.$wp.scrollTop(),x.opts.iframe&&(w=x.helpers.getPX(x.$wp.find(".fr-iframe").css("padding-top")),C=x.helpers.getPX(x.$wp.find(".fr-iframe").css("padding-left")),s+=x.$iframe.offset().left+C,c+=x.$iframe.offset().top+w,y+=x.$iframe.offset().left,E+=x.$iframe.offset().left),O.data("max-left",y),O.data("max-right",E),O.data("origin",i-x.win.pageXOffset),O.css("top",c),O.css("left",s),O.css("height",o),O.find("div").css("height",o),O.css("padding-left",x.opts.tableResizerOffset),O.css("padding-right",x.opts.tableResizerOffset),O.show()):Math.abs(t.pageY-n)<=x.opts.tableResizerOffset||Math.abs(r-t.pageY)<=x.opts.tableResizerOffset?(f=$((d=D(l,A=S(a))).row,d.col,A),h=a.offset().left,u=a.outerWidth()-1,t.pageY-n<=x.opts.tableResizerOffset?(g=n,0<d.row?(m=n-se(d.row-1,A),v=x.win.outerHeight,p=d.row-1,b=d.row):(p=-1,b=0,m=x.$el.offset().top-1+parseInt(a.css("margin-top"),10),v=x.opts.proportionalTableResize?a.offset().top-1+a.height()-A.length*x.opts.tableResizingLimit:a.offset().top+T.height())):r-t.pageY<=x.opts.tableResizerOffset&&(g=r,f.row<A.length-1?(m=r-se(f.row,A),v=x.win.outerHeight,p=f.row,b=f.row+1):(p=f.row,b=-1,m=x.opts.proportionalTableResize?a.offset().top-1+A.length*x.opts.tableResizingLimit:r-se(f.row,A),v=x.win.outerHeight)),O||ne(),V(),O.removeClass("fr-table-col-resizer"),O.addClass("fr-table-row-resizer"),O.data("table",a),O.data("first",p),O.data("second",b),O.data("instance",x),x.$wp.append(O),C=h-x.$wp.offset().left,w=g-x.$wp.offset().top+x.$wp.scrollTop()-x.opts.tableResizerOffset,x.opts.iframe&&(y=x.helpers.getPX(x.$wp.find(".fr-iframe").css("padding-top")),E=x.helpers.getPX(x.$wp.find(".fr-iframe").css("padding-left")),C+=x.$iframe.offset().left+E,w+=x.$iframe.offset().top+y,m+=x.$iframe.offset().top,v+=x.$iframe.offset().top),O.data("max-top",m-x.$wp.offset().top+x.$wp.scrollTop()-x.opts.tableResizerOffset),O.data("max-bottom",v-x.$wp.offset().top+x.$wp.scrollTop()-x.opts.tableResizerOffset),O.data("origin",w),O.css("top",w),O.css("left",C),O.css("width",u),O.find("div").css("width",u),O.css("padding-top",x.opts.tableResizerOffset),O.css("padding-bottom",x.opts.tableResizerOffset),O.show()):x.core.sameInstance(O)&&V()))),!x.opts.tableInsertHelper||x.popups.areVisible()||x.$tb.hasClass("fr-inline")&&x.$tb.isVisible()||re(e,R)}function ie(){var e,t;h&&(e=O.data("table").offset().top-x.win.pageYOffset,x.opts.iframe&&(t=x.helpers.getPX(x.$wp.find(".fr-iframe").css("padding-top")),e+=x.$iframe.offset().top-x.helpers.scrollTop()+t),O.css("top",e))}function N(e,t){for(var l=H(t[0][e]).outerWidth(),a=1;a<t.length;a++)l=Math.min(l,H(t[a][e]).outerWidth());return l}function se(e,t){for(var l=H(t[e][0]).outerHeight(),a=1;a<t[e].length;a++)l=Math.min(l,H(t[e][a]).outerHeight());return l}function ce(e){var t,l,a,n;1<L().length&&b&&c(),!1===b&&!1===p&&!1===h?(M&&clearTimeout(M),x.edit.isDisabled()&&!x.popups.isVisible("table.edit")||(M=setTimeout(oe,30,e))):h?O.hasClass("fr-table-col-resizer")?(t=e.pageX-x.win.pageXOffset,x.opts.iframe&&(t+=x.$iframe.offset().left),n=O.data("max-left"),l=O.data("max-right"),n<=t&&t<=l?O.css("left",t-x.opts.tableResizerOffset-x.$wp.offset().left):t<n&&parseFloat(O.css("left"),10)>n-x.opts.tableResizerOffset?O.css("left",n-x.opts.tableResizerOffset-x.$wp.offset().left):l<t&&parseFloat(O.css("left"),10)<l-x.opts.tableResizerOffset&&O.css("left",l-x.opts.tableResizerOffset-x.$wp.offset().left)):(n=e.pageY-x.win.pageYOffset,x.opts.iframe&&(n+=x.$iframe.offset().top),t=O.data("max-top"),l=O.data("max-bottom"),n=x.opts.height?(a=n-x.opts.tableResizerOffset-x.$wp.offset().top+x.$wp.scrollTop(),x.opts.iframe&&(l=x.win.innerHeight),a):(a=n-x.opts.tableResizerOffset-x.$wp.offset().top+x.helpers.scrollTop(),x.opts.iframe&&(a=n-x.opts.tableResizerOffset-x.$wp.offset().top),l=x.win.innerHeight,e.clientY),t<=a&&n<=l&&O.css("top",a)):b&&R()}function _(e){x.node.isEmpty(e.get(0))?x.opts.keepTextFormatOnTable&&x.browser.mozilla?e.append(ge.MARKERS):e.prepend(ge.MARKERS):e.prepend(ge.START_MARKER).append(ge.END_MARKER)}function de(){x.shared.$ti_helper||(x.shared.$ti_helper=H(document.createElement("div")).attr("class","fr-insert-helper").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(x.language.translate("Insert"),'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a>')),x.events.bindClick(x.shared.$ti_helper,"a",function(){var e=u.data("selected-cell"),t=u.data("position"),l=u.data("instance")||x;"before"==t||"after"==t?(x.undo.saveStep(),e.addClass("fr-selected-cell"),l.table.insertColumn(t),e.removeClass("fr-selected-cell"),x.undo.saveStep()):"above"!=t&&"below"!=t||(x.undo.saveStep(),e.addClass("fr-selected-cell"),l.table.insertRow(t),e.removeClass("fr-selected-cell"),x.undo.saveStep()),R()}),x.events.on("shared.destroy",function(){x.shared.$ti_helper.html("").removeData().remove(),x.shared.$ti_helper=null},!0),x.events.$on(x.shared.$ti_helper,"mousemove",function(e){e.stopPropagation()},!0),x.events.$on(H(x.o_win),"scroll",function(){R()},!0),x.events.$on(x.$wp,"scroll",function(){R()},!0)),u=x.shared.$ti_helper,x.events.on("destroy",function(){u=null}),x.tooltip.bind(x.$box,".fr-insert-helper > a.fr-floating-btn")}function fe(){n=null,clearTimeout(M)}function L(){return x.el.querySelectorAll(".fr-selected-cell")}function P(){var e=L(),t=x.$el.find("table.fr-selection-handle-selected");if(e.length){for(var l=e[0];l&&"TABLE"!=l.tagName&&l.parentNode!=x.el;)l=l.parentNode;return l&&"TABLE"==l.tagName?H(l):H([])}return t.length?H(t.get(0)):H([])}function pe(e){var t=x.popups.get("table.tableProperties"),l=t.find(".fr-table-alignment-container"),a=l.find(".fr-table-".concat(e,"-align")).get(0);l.find(".fr-table-left-align").get(0).innerHTML=x.icon.create("leftTableAlign"),l.find(".fr-table-center-align").get(0).innerHTML=x.icon.create("centerTableAlign"),l.find(".fr-table-right-align").get(0).innerHTML=x.icon.create("rightTableAlign"),a.innerHTML=x.icon.create("".concat(e,"TableAlignActive")),a.focus(),t.data("tableAlign",e)}function be(){var t,e={buttons:"",table_properties_form:'\n         <div class="fr-table-properties-form">\n            <div class="fr-table-properties-section">\n              <label>'.concat(x.language.translate("Background"),'</label>\n              <div class="fr-table-bg-container">\n                <div class="fr-input-line">\n                  <input type="text" title="').concat(x.language.translate("Custom background color input"),'" id="fr-table-bg" class="fr-input" placeholder="').concat(x.language.translate("Color"),'" tabIndex="1" aria-required="true">\n                </div>\n                <button title="').concat(x.language.translate("Background color picker"),'" role="button" type="button" class="fr-command fr-enable-accessibility fr-btn-table-bg-color" data-param1="table" tabIndex="2" data-cmd="openColorPicker">\n                  <div class="fr-color-preview">\n                    <div class="fr-color-preview-indicator"></div>\n                  </div>\n                </button>\n              </div>\n              <label>').concat(x.language.translate("Border"),'</label>\n              <div class="fr-table-border-container">\n                <div class="fr-input-line">\n                  <label class="fr-field-lable">').concat(x.language.translate("Style"),'</label>\n                  <div class= "fr-buttons fr-border-style"> ').concat(x.button.build("tableBorderStyle",ge.COMMANDS.tableBorderStyle,!0),'</div>\n                </div>\n                <div class="fr-input-line">\n                  <input  title="').concat(x.language.translate("Custom border color input"),'" id="fr-table-border-color" class="fr-input" type="text" placeholder="').concat(x.language.translate("Color"),'" tabIndex="3" aria-required="true">\n                </div>\n                <button  title="').concat(x.language.translate("Border color picker"),'" role="button" type="button" class="fr-command fr-btn-table-border-bg-color fr-enable-accessibility" tabIndex="4" data-param1="border" data-cmd="openColorPicker">\n                  <div class="fr-border-color-preview">\n                    <div class="fr-border-color-preview-indicator"></div>\n                  </div>\n                </button>\n                <div class="fr-input-line">\n                  <input  title="').concat(x.language.translate("Border width"),'" id="fr-table-border-width" type="text" class="fr-input" placeholder="').concat(x.language.translate("Width"),'" tabIndex="5" aria-required="true">\n                </div>\n              </div>\n              <div class="fr-table-dimensions-section">\n                <div>\n                  <label>').concat(x.language.translate("Dimensions"),'</label>\n                  <div class="fr-table-dimensions-container">\n                    <div class="fr-input-line">\n                      <input title="').concat(x.language.translate("Table width"),'" type="text" id="fr-table-width" placeholder="').concat(x.language.translate("Width"),'" tabIndex="6">\n                    </div>\n                    <span class="fr-dimension-separator">\xd7</span>\n                    <div class="fr-input-line">\n                      <input title="').concat(x.language.translate("Table height"),'" type="text" id="fr-table-height" placeholder="').concat(x.language.translate("Height"),'" tabIndex="7">\n                    </div>\n                  </div>\n                </div>\n                <div class="fr-table-alignment-section">\n                  <label>').concat(x.language.translate("Alignment"),'</label>\n                  <div class="fr-table-alignment-container">\n                    <button title="').concat(x.language.translate("Left align"),'" class="fr-enable-accessibility fr-command fr-table-left-align" data-param1="left" data-cmd="tableAlign" tabIndex="8">').concat(x.icon.create("leftTableAlign"),'</button>\n                    <button title="').concat(x.language.translate("Center align"),'" class="fr-enable-accessibility fr-command fr-table-center-align" data-param1="center" data-cmd="tableAlign" tabIndex="9">').concat(x.icon.create("centerTableAlign"),'</button>\n                    <button title="').concat(x.language.translate("Right align"),'" class="fr-enable-accessibility fr-command fr-table-right-align" data-param1="right" data-cmd="tableAlign" tabIndex="10">').concat(x.icon.create("rightTableAlign"),"</button>\n                  </div>\n                </div>\n              </div>\n              <label>").concat(x.language.translate("Table Style"),'</label>\n              <div class="fr-table-style-container">\n                <div class="fr-input-line">\n                  <label class="fr-field-lable">').concat(x.language.translate("Style"),'</label>\n                  <div class= "fr-buttons fr-table-style"> ').concat(x.button.build("tableStyle",ge.COMMANDS.tableStyle,!0),'</div>\n                </div>\n              </div>\n            </div>\n            <div class="fr-table-properties-buttons">\n              <button role="button" type="button" class="fr-enable-accessibility fr-command fr-cancel-button" tabIndex="11" data-cmd="onCancel">').concat(x.language.translate("Cancel"),'</button>\n              <button role="button" type="button" class="fr-enable-accessibility fr-command fr-save-button" tabIndex="12" data-cmd="applyTableProperties">').concat(x.language.translate("Save"),"</button>\n            </div>\n          </div>\n        ")},r=x.popups.create("table.tableProperties",e);return(t=function t(e,a,n){r.find(e).on("keydown",function(t){var e=H(t.target),l=t.which;l!==ge.KEYCODE.ENTER&&l!==ge.KEYCODE.ARROW_DOWN&&l!==ge.KEYCODE.SPACE||e.hasClass("fr-active")||!e.is("button")||(a&&n&&x.button.click(e),t.preventDefault(),t.stopPropagation()),setTimeout(function(){var e;l===ge.KEYCODE.TAB&&a&&n&&((e=t.shiftKey?r.find(a):r.find(n))&&e.length&&e.focus(),t.preventDefault(),t.stopPropagation())},10)})})(".fr-border-style > button",".fr-btn-table-bg-color","#fr-table-border-color"),t(".fr-border-style > .fr-dropdown-menu li",".fr-btn-table-bg-color","#fr-table-border-color"),t(".fr-table-style > button",".fr-table-right-align",".fr-cancel-button"),t(".fr-table-style > .fr-dropdown-menu li",".fr-table-right-align",".fr-cancel-button"),t(".fr-save-button",".fr-cancel-button","#fr-table-bg"),r}function l(){p=!1}function I(e,t){var l=e.find("colgroup"),a=(0===l.length&&(l=H(x.doc.createElement("colgroup")),e.prepend(l)),l.find("col").length);if(a<t)for(var n=a;n<t;n++)l.append(H(x.doc.createElement("col")));else t<a&&l.find("col").slice(t).remove();return k(l,B(e)),e.find("th, td").each(function(){H(this).css("width","")}),l}function B(e){var t=[];return e.find("colgroup").find("col").each(function(){var e=Math.round(H(this).width())||0;t.push(e)}),t}function k(e,t){var l,e=e.find("col"),a=t.reduce(function(e,t){return e+t},0);.01<Math.abs(a-100)&&(l=100/a,t=t.map(function(e){return e*l})),e.each(function(e){e<t.length&&H(this).css("width",t[e].toFixed(4)+"%")})}function he(e,t){e.css("height","");var l=e.height(),a=e.find("tr"),n=(t-l)/a.length;a.each(function(){var e=H(this),t=e.outerHeight(),t=Math.max(t+n,x.opts.tableResizingLimit);e.css("height",t+"px")}),e.css("height","".concat(t,"px"))}function ue(){d(x.$el.find("table.fr-selection-handle-selected"),"fr-selection-handle-selected fr-selection-handle-hover"),x.$box.find(".fr-selection-handle").addClass("fr-selection-handle-inactive")}return{_init:function(){if(!x.$wp)return!1;var t,l,a;x.helpers.isMobile()&&(x.events.$on(x.$el,"mousedown",e),x.events.$on(x.$win,"mouseup",r)),x.helpers.isMobile()||(h=p=b=!1,x.events.$on(x.$el,"mousedown",e),x.popups.onShow("image.edit",function(){w(),p=b=!1}),x.popups.onShow("link.edit",function(){w(),p=b=!1}),x.events.$on(x.$el,"mouseover","th, td",Q),x.events.$on(x.$win,"mouseup",r),x.opts.iframe&&x.events.$on(H(x.o_win),"mouseup",r),x.events.$on(x.$win,"mousemove",ce),x.events.$on(H(x.o_win),"scroll",ie),x.events.on("contentChanged",function(){0<L().length&&!x.popups.isVisible("table.tableProperties")&&(g(),x.$el.find("img").on("load.selected-cells",function(){H(this).off("load.selected-cells"),0<L().length&&g()}))}),x.events.$on(H(x.o_win),"resize",function(){w()}),x.events.on("toolbar.esc",function(){if(0<L().length)return x.events.disableBlur(),x.events.focus(),!1},!0),x.events.$on(H(x.o_win),"keydown",function(){b&&p&&(p=b=!1,x.$el.removeClass("fr-no-selection"),x.edit.on(),x.selection.setAtEnd(x.$el.find(".fr-selected-cell").last().get(0)),x.selection.restore(),w())}),x.events.$on(x.$el,"keydown",function(e){e.shiftKey?!1===function(e){var t=L();if(null!=t&&0<t.length){var l,a=S(),e=e.which,t=1==t.length?l=t[0]:(l=x.el.querySelector(".fr-cell-fixed"),x.el.querySelector(".fr-cell-handler")),t=D(t,a);if(ge.KEYCODE.ARROW_RIGHT==e){if(t.col<a[0].length-1)return f(l,a[t.row][t.col+1]),!1}else if(ge.KEYCODE.ARROW_DOWN==e){if(t.row<a.length-1)return f(l,a[t.row+1][t.col]),!1}else if(ge.KEYCODE.ARROW_LEFT==e){if(0<t.col)return f(l,a[t.row][t.col-1]),!1}else if(ge.KEYCODE.ARROW_UP==e&&0<t.row)return f(l,a[t.row-1][t.col]),!1}}(e)&&setTimeout(function(){g()},0):ae(e)}),x.events.on("keydown",function(e){if(!1===function(e){var t,l=e.which;if(l==ge.KEYCODE.TAB&&(0<L().length?t=x.$el.find(".fr-selected-cell").last():"TD"==(l=x.selection.element()).tagName||"TH"==l.tagName?t=H(l):l!=x.el&&(0<H(l).parentsUntil(x.$el,"td").length?t=H(l).parents("td").first():0<H(l).parentsUntil(x.$el,"th").length&&(t=H(l).parents("th").first())),t))return e.preventDefault(),!!(0===x.selection.get().focusOffset&&0<H(x.selection.element()).parentsUntil(x.$el,"ol, ul").length&&(0<H(x.selection.element()).closest("li").prev().length||H(x.selection.element()).is("li")&&0<H(x.selection.element()).prev().length))||(A(),e.shiftKey?0<t.prev().length?_(t.prev()):0<t.closest("tr").length&&0<t.closest("tr").prev().length?_(t.closest("tr").prev().find("td").last()):0<t.closest("tbody").length&&0<t.closest("table").find("thead tr").length&&_(t.closest("table").find("thead tr th").last()):0<t.next().length?_(t.next()):0<t.closest("tr").length&&0<t.closest("tr").next().length?_(t.closest("tr").next().find("td").first()):0<t.closest("thead").length&&0<t.closest("table").find("tbody tr").length?_(t.closest("table").find("tbody tr td").first()):(t.addClass("fr-selected-cell"),Z("below"),w(),_(t.closest("tr").next().find("td").first())),x.selection.restore(),!1)}(e))return!1;var t,l,a=function a(){w(),ue(),e.preventDefault(),e.stopPropagation()},n=x.$el.find("table.fr-selection-handle-selected"),r=e.which;if(n.length&&!x.keys.isArrow(e.which)&&r!==ge.KEYCODE.TAB&&r!==ge.KEYCODE.ALT&&r!==ge.KEYCODE.ESC){if(e.ctrlKey||e.metaKey||r===ge.KEYCODE.SHIFT)return!0;C(),x.undo.saveStep(),a();var o,i,s=x.html.defaultTag();return(r===ge.KEYCODE.ENTER||x.keys.isCharacter(r)&&!e.ctrlKey&&!e.metaKey)&&(o=r===ge.KEYCODE.ENTER,s=s?(o?"<".concat(s,' id="cursor-marker"></'):"<".concat(s,' id="cursor-marker"> ').concat(r===ge.KEYCODE.SPACE?"&nbsp;":e.key,"</")).concat(s,">"):o?'<br id="cursor-marker">':"".concat(r===ge.KEYCODE.SPACE?"&nbsp;":e.key,' <br id="cursor-marker">'),x.html.insert(s,!0,!0),(i=x.$el.find("#cursor-marker").get(0))&&i.parentNode&&setTimeout(function(){var e=x.doc.createRange(),t=(e.setStart(i,o?0:1),e.setEnd(i,o?0:1),e.collapse(!0),x.selection.get());t.removeAllRanges(),t.addRange(e),x.$el.focus()},0),i)&&i.removeAttribute("id"),!1}if(n.length&&x.keys.isArrow(e.which))return r=e.which===ge.KEYCODE.ARROW_DOWN||e.which===ge.KEYCODE.ARROW_RIGHT,s=e.which===ge.KEYCODE.ARROW_UP||e.which===ge.KEYCODE.ARROW_LEFT,(r||s)&&(s=r?n.next():n.prev())&&s.length&&s[0].nodeType===Node.ELEMENT_NODE&&("UL"!==(t=s[0]).tagName&&"OL"!==t.tagName||0<(l=t.querySelectorAll("li")).length&&(t=l[l.length-1]),l=x.doc.createRange(),r?l.setStartBefore(s[0]):(l.selectNodeContents(t),l.collapse(!1)),(r=x.selection.get()).removeAllRanges(),r.addRange(l),setTimeout(function(){x.events.disableBlur(),x.$el[0].focus(),x.events.enableBlur()},0)),a(),!1;e.ctrlKey||e.metaKey||!n.length||(w(),ue());var c=L();if(0<c.length){if(0<c.length&&x.keys.ctrlKey(e)&&e.which==ge.KEYCODE.A)return w(),x.popups.isVisible("table.edit")&&x.popups.hide("table.edit"),c=[],!0;if(e.which==ge.KEYCODE.ESC&&x.popups.isVisible("table.edit"))return w(),x.popups.hide("table.edit"),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!(c=[]);if(1<c.length&&(e.which==ge.KEYCODE.BACKSPACE||e.which==ge.KEYCODE.DELETE)){x.undo.saveStep();for(var d=0;d<c.length;d++)H(c[d]).html("<br>"),d==c.length-1&&H(c[d]).prepend(ge.MARKERS);return x.selection.restore(),x.undo.saveStep(),!(c=[])}return 1<c.length&&e.which!=ge.KEYCODE.F10&&!x.keys.isBrowserAction(e)?(e.preventDefault(),!(c=[])):void 0}return!(c=[])!==function(e){if(e.altKey&&e.which==ge.KEYCODE.SPACE){var t,l=x.selection.element();if("TD"==l.tagName||"TH"==l.tagName?t=l:0<H(l).closest("td").length?t=H(l).closest("td").get(0):0<H(l).closest("th").length&&(t=H(l).closest("th").get(0)),t)return e.preventDefault(),f(t,t),g(),!1}}(e)&&void 0},!0),t=null,l=[],x.events.on("html.beforeGet",function(){l=L();for(var e=0;e<l.length;e++)l[e].className=(l[e].className||"").replace(/fr-selected-cell/g,"");(t=x.$el.find("table.fr-selection-handle-selected"))&&t.length&&d(t,"fr-selection-handle-selected")}),x.events.on("html.afterGet",function(){for(var e=0;e<l.length;e++)l[e].className=(l[e].className?l[e].className.trim()+" ":"")+"fr-selected-cell";l=[],t&&t.length&&t.addClass("fr-selection-handle-selected")}),x.events.on("dragover",A),x.events.on("element.dropped",function(e){e&&(A(),p=b=!1,e=T({target:e.get(0)}))&&(f(e,e),g())}),x.el.addEventListener("copy",function(e){var t,l,a,n,r,o,i,s,c=(s=L())&&0!==s.length?(c=(o=s[0]).parentElement,i=(s=s[s.length-1]).parentElement,t=c.closest("table"),l=(t=Array.from(t.rows)).indexOf(c),a=t.indexOf(i),n=Array.from(c.cells).indexOf(o),r=Array.from(i.cells).indexOf(s),{rows:t.slice(l,a+1).map(function(e){return Array.from(e.cells).slice(n,r+1)})}):null;c&&(o=c.rows.map(function(e){return"<tr>"+e.map(function(e){var t=e.tagName.toLowerCase(),l=e.getAttribute("style");return"<".concat(t).concat(l?' style="'.concat(l,'"'):"",">").concat(e.innerHTML,"</").concat(t,">")}).join("")+"</tr>"}).join(""),i=c.rows.map(function(e){return e.map(function(e){return e.textContent.trim()}).join("\t")}).join("\n"),s="<table>".concat(o,"</table>"),x.paste.saveCopiedText(s,i),e.clipboardData.setData("text/html",s),e.preventDefault())}),x.events.on("commands.after",function(e){var t;"applyTableProperties"===e&&(t=!!(e=x.$el.find(".fr-selected-cell").closest("table")).length&&parseFloat(e[0].style.height))&&he(e,t)}),a=x.language.translate("The content you are pasting does not contain a table.\nPlease ensure the copied content is in table format."),x.events.on("paste.before",function(e,t){if(x.popups.hideAll(),x.$el.find("table.fr-selection-handle-selected").length){t=t||e&&e.clipboardData;if(t&&t.items){t=(t||window.clipboardData).getData("text/html")||"";if(!t||-1===t.indexOf("<table"))return alert(a),e.preventDefault(),e.stopPropagation(),!1}}return!0}),x.events.on("html.beforeInsert",function(e){var t,l;if(!s)return t=x.$el.find("table.fr-selection-handle-selected"),!(t=(l=L()).length&&!t.length&&e.startsWith("<table")?H(l[0].closest("table")):t).length||((l=function(e){for(var t=x.doc.createElement("div"),l=(t.innerHTML=e,t.firstChild);l;){var a=l.nextSibling;(l.nodeType===Node.TEXT_NODE&&""===l.textContent.replace(/\u200b/g,"").trim()||l.nodeType===Node.COMMENT_NODE||"SPAN"===l.tagName&&""===l.textContent.replace(/\u200b/g,"").trim())&&l.remove(),l=a}return 1===t.childNodes.length&&"TABLE"===t.childNodes[0].tagName&&t.childNodes[0]}(e))?(function(e,t){for(var l=t.get(0),n=(t=(L().length?L():l.rows[0].cells)[0])&&t.parentNode?t.parentNode.rowIndex:0,r=t?t.cellIndex:0,o=l.rows,i=e.rows,s=0;s<i.length;s++){if(!o[n+s])for(var a=o[o.length-1].cells.length,c=l.insertRow(),d=0;d<a;d++)c.insertCell();for(var f=o[n+s],p=function p(){if(!f.cells[r+b])for(var e=0;e<o.length;e++)o[e].insertCell();var t=f.cells[r+b],l=i[s].cells[b],a=(t.outerHTML=l.outerHTML,o[n+s].cells[r+b]);setTimeout(function(){x.events.trigger("cell.replaced",[t,a])},10)},b=0;b<i[s].cells.length;b++)p()}return!0}(l,t)&&setTimeout(function(){x.$el.find(".fr-selected-cell").removeClass("fr-selected-cell");var e=x.snapshot.get();x.undo_stack[x.undo_index-1]=e},20),x.keys.positionCaret(),x.popups.hideAll(),x.events.trigger("html.inserted")):alert(a),!1);s=!1}),o(!0),z(!0),x.dragSelectControls._init()),x.events.on("destroy",fe)},insert:function(e,t){var l,a,n=function(){var e={startTag:"",closeTag:""};{var t;x.opts.keepTextFormatOnTable&&(t=H(x.selection.element().firstChild).parentsUntil(x.$el),e=W(t))}return{startTag:e.startTag,closeTag:e.closeTag}}(),r=[];x.opts.tableDefaultWidth&&r.push("width: "+x.opts.tableDefaultWidth+";"),x.opts.tableDefaultHeight&&r.push("height: "+x.opts.tableDefaultHeight+";"),r.push("margin: auto;"),"left"===x.opts.tableDefaultAlign?r.push("float: left;"):"right"===x.opts.tableDefaultAlign&&r.push("float: right;"),x.opts.tableDefaultBorderColor&&r.push("border-color: "+x.opts.tableDefaultBorderColor+";"),x.opts.tableDefaultBorderWidth&&r.push("border-width: "+x.opts.tableDefaultBorderWidth+";"),x.opts.tableDefaultBorderStyle&&r.push("border-style: "+x.opts.tableDefaultBorderStyle+";"),x.opts.tableDefaultBGColor&&r.push("background-color: "+x.opts.tableDefaultBorderStyle+";");var o="<table "+((r=r.join(" "))?'style="'+r+'"':"")+' class="fr-inserted-table">',i=100/t;for(o+="<colgroup>",a=0;a<t;a++)o+="<col"+(x.opts.tableDefaultWidth?' style="width: '+i.toFixed(4)+'%;"':"")+">";for(o=o+"</colgroup>"+"<tbody>",l=0;l<e;l++){for(o+="<tr>",a=0;a<t;a++)o+="<td>"+n.startTag,0===l&&0===a&&(o+=ge.MARKERS),o+="<br>"+n.closeTag+"</td>";o+="</tr>"}o+="</tbody></table>",x.opts.trackChangesEnabled?(x.edit.on(),x.events.focus(!0),x.selection.restore(),x.undo.saveStep(),x.markers.insert(),x.html.wrap(),r=x.$el.find(".fr-marker"),x.node.isLastSibling(r)&&r.parent().hasClass("fr-deletable")&&r.insertAfter(r.parent()),r.replaceWith(o),x.selection.clear()):(s=!0,x.html.insert(o)),x.selection.restore(),d(r=x.$el.find(".fr-inserted-table"),"fr-inserted-table"),x.events.trigger("table.inserted",[r.get(0)])},remove:C,insertRow:Z,deleteRow:function(){var e=P();if(0<e.length){var t,l=S(),a=y(l);if(null!=a)if(0===a.min_i&&a.max_i==l.length-1)C();else{for(t=a.max_i;t>=a.min_i;t--){for(var n=(n=e.find("tr").not(e.find("> table tr"))).filter(function(){return H(this).closest("table")[0]===e[0]}),r=H(n.get(t)),o=0;o<l[t].length;o++)if(0===o||l[t][o]!=l[t][o-1]){var i=H(l[t][o]);if(i.attr("rowspan")&&1<parseInt(i.attr("rowspan"),10)&&(1==(s=parseInt(i.attr("rowspan"),10)-1)?i.removeAttr("rowspan"):i.attr("rowspan",s)),t<l.length-1&&l[t][o]==l[t+1][o]&&(0===t||l[t][o]!=l[t-1][o])){for(var s=l[t][o],c=o;0<c&&l[t][c]==l[t][c-1];)c--;0===c?H(n.get(t+1)).prepend(s):H(l[t+1][c-1])[0].parentNode&&H(l[t+1][c-1])[0].insertAdjacentElement("afterend",s)}}var d=r.parent();r.remove(),0===d.find("tr").length&&d.remove(),l=S(e)}U(0,l.length-1,0,l[0].length-1,e),0<a.min_i?x.selection.setAtEnd(l[a.min_i-1][0]):x.selection.setAtEnd(l[0][0]),x.selection.restore(),x.popups.hide("table.edit")}}},insertColumn:function(s){var c,d,t,e,l,a,n,r,o,i,f=P();0<f.length&&(r=y(c=S()),d="before"==s?r.min_j:r.max_j,I(f,c[0].length),r=function(e){var t=e.reduce(function(e,t){return e+t},0);{var l;return 0<t?e.map(function(e){return e/t*100}):(l=100/e.length,new Array(e.length).fill(l))}}(r=B(f)),n=100/(c[0].length+1),t=(100-n)/100,r=r.map(function(e){return e*t}),f.find("th, td").each(function(){(e=H(this)).data("old-width",e.outerWidth()/f.outerWidth()*100)}),o=s,i=d,l=n,a=r,r=(n=(n=f).find("colgroup")).find("col"),o="before"===o?i:i+1,(i=H(x.doc.createElement("col"))).css("width",l.toFixed(4)+"%"),o<r.length?r.eq(o).before(i):n.append(i),r.each(function(e){e=a[e]||l;H(this).css("width",e.toFixed(4)+"%")}),f.find("tr").not(f.find("> table tr")).filter(function(){return H(this).closest("table")[0]===f[0]}).each(function(e){for(var t,l=H(this),a=0,n=0;a-1<d;){if(!(t=l.find("> th, > td").get(n))){t=null;break}t==c[e][a]?(a+=parseInt(H(t).attr("colspan"),10)||1,n++):(a+=parseInt(H(c[e][a]).attr("colspan"),10)||1,"after"==s&&(t=0===n?-1:l.find("> th, > td").get(n-1)))}var r,o,i=H(t);"after"==s&&d<a-1||"before"==s&&0<d&&c[e][d]==c[e][d-1]?(0===e||0<e&&c[e][d]!=c[e-1][d])&&(r=parseInt(i.attr("colspan"),10)+1,i.attr("colspan",r),i.removeData("old-width")):(r=(i.get(0)||"").tagName,o=0<l.find("th").length&&"TH"===r?"<th><br></th>":(r=Y(c[e][d]),o=i.attr("style")||"","<td".concat(o?' style="'.concat(o,'"'):"",">")+r.startTag+"<br>"+r.closeTag+"</td>"),H(o).append("<br>"),-1==t?l.prepend(o):null==t?l.append(o):"before"==s?i.before(o):"after"==s&&i.after(o))}),f.find("th, td").each(function(){H(this).removeData("old-width")}),x.popups.isVisible("table.edit"))&&g()},deleteColumn:function(){if(0<(d=P()).length){var e,t=S(),l=(I(d,t[0].length),y(t));if(null!=l)if(0===l.min_j&&l.max_j==t[0].length-1)C();else{for(var a,n,r=B(d),o=l.max_j;o>=l.min_j;o--)for(e=0;e<t.length;e++)0!==e&&t[e][o]==t[e-1][o]||(n=H(t[e][o]),1<(parseInt(n.attr("colspan"),10)||1)?(1==(a=parseInt(n.attr("colspan"),10)-1)?n.removeAttr("colspan"):n.attr("colspan",a),n.removeData("old-width")):(a=H(n.parent().get(0)),n.remove(),0===a.find("> th, > td").length&&(0===a.prev().length||0===a.next().length||a.prev().find("> th[rowspan], > td[rowspan]").length<a.prev().find("> th, > td").length)&&a.remove()));U(0,t.length-1,0,t[0].length-1,d);var i=l.min_j,s=l.max_j,c=r,r=c.length-(s-i+1);if(0<r){for(var d=I(d,r),f=0,p=0;p<c.length;p++)(p<i||s<p)&&(f+=c[p]);for(var b,h=[],u=0;u<c.length;u++)(u<i||s<u)&&(b=100*c[u]/f,h.push(b));k(d,h)}0<l.min_j?x.selection.setAtEnd(t[l.min_i][l.min_j-1]):x.selection.setAtEnd(t[l.min_i][0]),x.selection.restore(),x.popups.hide("table.edit")}}},mergeCells:function(){if(1<L().length&&(0===x.$el.find("th.fr-selected-cell").length||0===x.$el.find("td.fr-selected-cell").length)){J();var e=S(),t=y(e);if(null!=t){var l,a=x.$el.find(".fr-selected-cell"),n=H(a[0]),r=n.closest("table"),o=n.html(),i=B(r);for(t.min_j<t.max_j&&n.attr("colspan",t.max_j-t.min_j+1),t.min_i<t.max_i&&n.attr("rowspan",t.max_i-t.min_i+1),c=1;c<a.length;c++)"<br>"!=(l=H(a[c])).html()&&""!==l[0].innerText.trim()&&(/<\/(p|div|h[1-6]|table|ul|ol|blockquote)>$/i.test(o.trim())||(o+="<br>"),o+=l.html()),l.remove();n.html(o),x.selection.setAtEnd(n.get(0)),x.selection.restore(),x.toolbar.enable(),G(t.min_i,t.max_i,r);for(var s=r.find("tr:empty"),c=s.length-1;0<=c;c--)H(s[c]).remove();j(t.min_j,t.max_j,r);var d,n=S(r),t=n[0]?n[0].length:0;e[0].length>t&&(n=r.find("colgroup"),d=(e=e[0].map(function(e,t){return H(e).is(".fr-selected-cell")?t:null}).filter(function(e){return null!==e})).reduce(function(e,t){return e+i[t]},0),k(n,[].concat(me(i.slice(0,Math.min.apply(Math,me(e)))),[d],me(i.slice(Math.max.apply(Math,me(e))+1))))),I(r,t),g()}}},splitCellVertically:function(){if(1==L().length){var e=x.$el.find(".fr-selected-cell"),t=parseInt(e.attr("colspan"),10)||1,l=e.parent().outerWidth(),a=e.outerWidth(),n=e.parents("table"),r=e.clone().html("<br>"),o=S(),i=D(e.get(0),o);if(1<t)f=Math.ceil(t/2),a=function(e,t,l){var a,n=0;for(a=e;a<=t;a++)n+=N(a,l);return n}(i.col,i.col+f-1,o)/l*100,1<f?e.attr("colspan",f):e.removeAttr("colspan"),1<t-f?r.attr("colspan",t-f):r.removeAttr("colspan");else{for(var s,c,d=0;d<o.length;d++)0!==d&&o[d][i.col]==o[d-1][i.col]||(s=H(o[d][i.col])).is(e)||(c=(parseInt(s.attr("colspan"),10)||1)+1,s.attr("colspan",c));a=a/l*100/2}e[0].parentNode&&e[0].insertAdjacentElement("afterend",r[0]);var f=n,l=i,r=t,n=a,t=o,a=f.find("colgroup");0===a.length&&(a=I(f,t[0].length)),t=a.find("col"),1<r?(r=B(f),k(a,r)):(f=n,(r=t.eq(l.col)).length&&r.css("width",f.toFixed(4)+"%"),(n=H(x.doc.createElement("col"))).css("width",f.toFixed(4)+"%"),l.col+1<t.length?t.eq(l.col+1).before(n):a.append(n)),w(),x.popups.hide("table.edit")}},splitCellHorizontally:function(){if(1==L().length){var e=x.$el.find(".fr-selected-cell"),t=e.parent(),l=e.closest("table"),a=parseInt(e.attr("rowspan"),10),n=S(),r=D(e.get(0),n),o=e.clone().html("<br>");if(1<a){for(var i=Math.ceil(a/2),s=(1<i?e.attr("rowspan",i):e.removeAttr("rowspan"),1<a-i?o.attr("rowspan",a-i):o.removeAttr("rowspan"),r.row+i),c=0===r.col?r.col:r.col-1;0<=c&&(n[s][c]==n[s][c-1]||0<s&&n[s][c]==n[s-1][c]);)c--;-1==c?(a=(a=l.find("tr").not(l.find("> table tr"))).filter(function(){return H(this).closest("table")[0]===l[0]}),H(a.get(s)).prepend(o)):H(n[s][c])[0].parentNode&&H(n[s][c])[0].insertAdjacentElement("afterend",o[0])}else{for(var d,i=H(document.createElement("tr")).append(o),f=0;f<n[0].length;f++)0!==f&&n[r.row][f]==n[r.row][f-1]||(d=H(n[r.row][f])).is(e)||d.attr("rowspan",(parseInt(d.attr("rowspan"),10)||1)+1);t[0].parentNode&&t[0].insertAdjacentElement("afterend",i[0])}w(),x.popups.hide("table.edit")}},addHeader:function(){var e=P();if(0<e.length&&0===e.find("> th").length){var t,l="<thead><tr>",a=0,a=e.find("tr").first().find("> th").length;for(e.find("tr").first().find("> td").each(function(){var e=H(this);a+=parseInt(e.attr("colspan"),10)||1}),t=0;t<a;t++)l+="<th><br></th>";e.prepend(l+="</tr></thead>"),g()}},addFooter:function(){var e=P();if(0<e.length&&0===e.find("tfoot").length){var t="<tfoot><tr>",l=0,a=e.find("thead tr").first();(a=0===a.length?e.find("tbody tr").first():a).find("th, td").each(function(){l+=parseInt(H(this).attr("colspan"),10)||1});for(var n=0;n<l;n++)t+="<td><br></td>";e.append(t+="</tr></tfoot>"),g()}},removeHeader:function(){var e=P(),t=e.find("> thead");0<(t=H(t)).length&&(0===e.find("tbody tr").length?C():(t.remove(),0<L().length?g():(x.popups.hide("table.edit"),(t=e.find("tbody tr").first().find("td").first().get(0))&&(x.selection.setAtEnd(t),x.selection.restore()))))},removeFooter:function(){var e=P(),t=e.find("tfoot");0<t.length&&(0===e.find("tbody tr").length?C():(t.remove(),0<L().length?g():(x.popups.hide("table.edit"),(t=e.find("tbody tr").first().find("td").first().get(0))&&(x.selection.setAtEnd(t),x.selection.restore()))))},setBackground:function(e){var t=x.$el.find(".fr-selected-cell");"REMOVE"!=e?t.css("background-color",x.helpers.HEXtoRGB(e)):t.css("background-color","")},showInsertPopup:function(){var e,t,l=x.$tb.find('.fr-command[data-cmd="insertTable"]');(x.popups.get("table.insert")||o()).hasClass("fr-active")||(x.popups.refresh("table.insert"),x.popups.setContainer("table.insert",x.$tb),t=(e=x.button.getPosition(l)).left,x.popups.show("table.insert",t,e.top,l.outerHeight()))},showEditPopup:g,showColorsPopup:function(e){var t,l,a,n,r,o,i,s=S();s&&((x.popups.get("table.colors")||function(){var e="",t=0;0<x.opts.tableColorsButtons.length&&(e='<div class="fr-buttons fr-colors-buttons fr-tabs">'.concat(x.button.buildList(x.opts.tableColorsButtons),"</div>"));var l="";x.opts.colorsHEXInput&&(l='<div class="fr-color-hex-layer fr-table-colors-hex-layer fr-active fr-layer" id="fr-table-colors-hex-layer-'.concat(x.id,'">\n        <div class="fr-input-line">\n        <input maxlength="7" id="fr-table-colors-hex-layer-text" data-cmd="applyCustomColor" tabIndex="').concat(++t,'" type="text" placeholder="').concat(x.language.translate("HEX Color"),'" aria-required="true">\n        </div>\n        <div class="fr-action-buttons">\n        <button type="button" class="fr-command fr-submit" tabIndex="').concat(2,'" data-cmd="applyCustomColor" role="button">\n        ').concat(x.language.translate("OK"),"\n        </button>\n        </div>\n        </div>"));t={buttons:e,colors:function(){for(var e='<div class="fr-color-set fr-table-colors">',t=0;t<x.opts.tableColors.length;t++)0!==t&&t%x.opts.tableColorsStep==0&&(e+="<br>"),"REMOVE"!=x.opts.tableColors[t]?e+='<span class="fr-command fr-select-color" style="background: '.concat(x.opts.tableColors[t],';" tabIndex="-1" aria-selected="false" role="button" data-cmd=\'onSelectColor\' data-param1="').concat(x.opts.tableColors[t],'"><span class="fr-sr-only">').concat(x.language.translate("Color")," ").concat(x.opts.tableColors[t],"&nbsp;&nbsp;&nbsp;</span></span>"):e+='<span class="fr-command fr-select-color" data-cmd=\'onColorClear\' tabIndex="-1" role="button" title="'.concat(x.language.translate("Clear Formatting"),'">').concat(x.icon.create("tableColorRemove"),'<span class="fr-sr-only">').concat(x.language.translate("Clear Formatting"),"</span></span>");return e+="</div>"}(),custom_color:l},e=x.popups.create("table.colors",t);return function(c){x.events.on("popup.tab",function(e){var t,l,a,n,r,o,i,s=H(e.currentTarget);return!x.popups.isVisible("table.colors")||!s.is("span, input, button")||(t=e.which,l=!0,ge.KEYCODE.TAB==t?(a=c.find("span.fr-select-color"),(s.is(a.first())&&e.shiftKey||s.is(c.find("span.fr-submit"))&&!e.shiftKey)&&(a=c.find(".fr-buttons"),l=!x.accessibility.focusToolbar(a,!!e.shiftKey)),!1!==l&&((a=c.find("span.fr-select-color")).add(c.find("input")),a.add(c.find("button.fr-submit")),r=a.index(s),r=e.shiftKey?((r-1)%a.length+a.length)%a.length:(r+1)%a.length,r=a.get(r),x.events.disableBlur(),r.focus(),l=!1)):ge.KEYCODE.ARROW_UP==t||ge.KEYCODE.ARROW_DOWN==t||ge.KEYCODE.ARROW_LEFT==t||ge.KEYCODE.ARROW_RIGHT==t?(r=(a=s.parent().find("span.fr-command")).index(s),n=x.opts.colorsStep,i=Math.floor(a.length/n),o=r%n,r=Math.floor(r/n)*n+o,o=i*n,ge.KEYCODE.ARROW_UP==t?r=((r-n)%o+o)%o:ge.KEYCODE.ARROW_DOWN==t?r=(r+n)%o:ge.KEYCODE.ARROW_LEFT==t?r=((r-1)%o+o)%o:ge.KEYCODE.ARROW_RIGHT==t&&(r=(r+1)%o),i=H(a.get(r)),x.events.disableBlur(),i.focus(),l=!1):ge.KEYCODE.ENTER==t&&(x.button.exec(s),l=!1),!1===l&&(e.preventDefault(),e.stopPropagation()),l)},!0)}(e),e}()).data("type",e),x.popups.setContainer("table.colors",x.$sc),s=((e=E(s)).left+e.right)/2,t=e.bottom,l=x.popups.get("table.colors"),a=x.$el.find(".fr-selected-cell").first(),n=l.find(".fr-table-colors-hex-layer input"),r=l.data("type"),o=x.popups.get("table.cellProperties"),i="","tableCellBackground"===r?(a.removeClass("fr-selected-cell"),i=(i=a.css("background-color"))&&"rgba(0, 0, 0, 0)"!==i&&"transparent"!==i?x.helpers.RGBToHex(i):"",a.addClass("fr-selected-cell")):"cell"===r&&o.length&&(i=o.find(".fr-cell-bg-container input").val()),l.find(".fr-selected-color").removeClass("fr-selected-color fr-active-item"),l.find('span[data-param1="'.concat(i,'"]')).addClass("fr-selected-color fr-active-item"),n.val(i).trigger("change"),x.popups.show("table.colors",s,t,e.bottom-e.top,!0))},showTableProperties:function(){var n,e,t,l,a,r,o,i,s,c,d,f,p,b,h=S();h&&(n=(n=x.popups.get("table.tableProperties"))||be(),b=P(),n.data("tableStyle",{}),n.data("borderStyle",""),o=b[0],f=o&&o.getAttribute("style")||"",p=(c=!!f)&&/background(-color)?\s*:/i.test(f)?b.css("background-color"):"",e=c&&/border(-color)?\s*:/i.test(f)?b.css("border-color"):"",t=c&&/border(-style)?\s*:/i.test(f)?b.css("border-style"):"",l=c&&/border(-width)?\s*:/i.test(f)?b[0].style.borderWidth:"",a=c&&/(^|\s|;)width\s*:/i.test(f)&&o?o.style.width:"",r=c&&/(^|\s|;)height\s*:/i.test(f)&&o?o.style.height:"",o=c?/\bfloat\s*:\s*right\b/i.test(f)?"right":!/\bfloat\s*:\s*left\b/i.test(f)&&/\bmargin\s*:\s*auto\b/i.test(f)?"center":"left":"left",c="",s={},b.is("[class]")&&(f=b.attr("class").split(/\s+/),i=x.opts.tableStyles,s=f.reduce(function(e,t){return i.hasOwnProperty(t)&&(e[t]=i[t]),e},{}),c=Object.values(s).join(", ")),d=function d(e,t,l,a){a=x.helpers.isRGBColor(a)?x.helpers.RGBToHex(a):a;n.find(e).val(a),m(n.find(t),n.find(l),a)},b=n.find(".fr-border-style").find(".fr-dropdown"),f=n.find(".fr-table-style").find(".fr-dropdown"),d("#fr-table-bg",".fr-color-preview",".fr-color-preview-indicator",p),d("#fr-table-border-color",".fr-border-color-preview",".fr-border-color-preview-indicator",e),b.find("> span").text(x.language.translate(t)),f.find("> span").text(c||" "),pe(o),setTimeout(function(){l&&n.find("#fr-table-border-width").val(l).focus(),e&&n.find("#fr-table-border-color").focus(),a&&n.find("#fr-table-width").val(a).focus(),r&&n.find("#fr-table-height").val(r).focus(),t&&n.data("borderStyle",t),s&&n.data("tableStyle",s),n.find("#fr-table-bg").focus()},10),x.popups.setContainer("table.tableProperties",x.$sc),b=((p=E(h)).left+p.right)/2,x.popups.show("table.tableProperties",b,p.bottom,p.bottom-p.top,!0))},hideTableProperties:function(){x.popups.hide("table.tableProperties")},updateTableAlign:pe,back:function(e){var t,l,a,n;e&&x.popups.isVisible("table.colors")?(x.popups.hide("table.colors"),(n=S())&&(l=(l=x.popups.get(t=(a="table"===e||"border"===e)?"table.tableProperties":"table.cellProperties"))||(a?be:F)(),x.popups.setContainer(t,x.$sc),n=(a=E(n)).left+(a.right-a.left)/2,x.popups.show(t,n,a.bottom,a.bottom-a.top,!0),l.find("table"===e?".fr-btn-table-bg-color":"border"===e?".fr-btn-table-border-bg-color":".fr-btn-cell-bg-color").focus())):0<L().length?g():(x.popups.hide("table.insert"),x.toolbar.showInline())},verticalAlign:function(e){x.$el.find(".fr-selected-cell").css("vertical-align",e)},horizontalAlign:function(e){var t=x.$el.find(".fr-selected-cell");t.css("text-align",e),t.children().css("text-align","")},applyStyle:function(e,t,l,a){0<t.length&&(x.opts.useClasses||("TABLE"===t.get(0).tagName?function n(e,t){var l=e.childNodes;if(0<l.length)for(var a=0;a<l.length;a++)"TD"===l[a].tagName?"fr-dashed-borders"===t||"fr-highlighted"===t||"fr-thick"===t?q(l[a]):"fr-alternate-rows"===t&&l[a].style.removeProperty("background-color"):n(l[a],t)}(t.get(0),e):q(t.get(0))),l||((l=Object.keys(a)).splice(l.indexOf(e),1),t.removeClass(l.join(" "))),t.toggleClass(e))},selectedTable:P,selectedCells:L,customColor:function(){var e=x.popups.get("table.colors").find(".fr-table-colors-hex-layer input"),t=e.val(),l=t;t&&t.length&&a(l=0!==t.indexOf("#")?"#"+t:l),e.val("")},selectCells:f,resetAll:v,showCellPropertiesPopup:function(){var e,t,r,o,i,s,c,d,f,p,l,a,n,b,h=S();h&&((e=x.popups.get("table.cellProperties")||F()).find("#fr-cell-bg, #fr-cell-width, #fr-cell-height, #fr-cell-padding").val(""),v(),m(e.find(".fr-color-preview"),e.find(".fr-color-preview-indicator"),""),(t=x.table.selectedCells()).length)&&(o=!(r=null),s=!(i=null),d=!(c=null),p=!(f=null),l=function l(e){return"rgba(0, 100, 255, 0.15)"===e},Array.from(t).forEach(function(e,t){var l,e=H(e),a=e.css("background-color"),a=(a&&"rgba(0, 0, 0, 0)"!==a&&"transparent"!==a&&(l=x.helpers.RGBToHex(a)),e.attr("data-cell-width")),n=e.attr("data-cell-height"),e=e.attr("data-cell-padding");0===t?(i=a||null,c=n||null,f=e||null,r=l||null):(a!==i&&(s=!1),n!==c&&(d=!1),e!==f&&(p=!1),l!==r&&(o=!1))}),a="",1===t.length?(b=(n=H(t[0])).css("background-color"),(n[0]&&n[0].hasAttribute("style")&&/background(-color)?:/i.test(n.attr("style"))||!l(b))&&(a=x.helpers.isRGBColor(b)?x.helpers.RGBToHex(b):b)):o&&r&&Array.from(t).every(function(e){var t=H(e),e=e.getAttribute("style")||"",e=/background(-color)?:/i.test(e),t=t.css("background-color");return e||!l(t)})&&(a=x.helpers.isRGBColor(r)?x.helpers.RGBToHex(r):r),e.find("#fr-cell-bg").val(a),m(e.find(".fr-color-preview"),e.find(".fr-color-preview-indicator"),a),s&&i&&e.find("#fr-cell-width").val(i),d&&c&&e.find("#fr-cell-height").val(c),p&&f&&e.find("#fr-cell-padding").val(f),x.popups.setContainer("table.cellProperties",x.$sc),b=(n=E(h)).left+(n.right-n.left)/2,x.popups.show("table.cellProperties",b,n.bottom,n.bottom-n.top,!0))},updateSelectedColor:a,placeCursorInFirstCell:K}},ge.RegisterCommand("tableProperties",{title:"Table Properties",icon:"tablePropertiesIcon",undo:!1,focus:!1,popup:!0,callback:function(){this.table.showTableProperties()}}),ge.RegisterCommand("openColorPicker",{title:"Select color",focus:!1,popup:!0,callback:function(e,t){this.table.showColorsPopup(t)}}),ge.RegisterCommand("onCancel",{title:"Cancel",callback:function(){this.popups.hide("table.tableProperties"),this.popups.hide("table.cellProperties"),this.table.showEditPopup()}}),ge.RegisterCommand("applyCustomColor",{title:"OK",undo:!0,callback:function(){var e=this.popups.get("table.colors"),t=e.find(".fr-table-colors-hex-layer input").val(),e=e.data("type");"tableCellBackground"===e&&(this.table.setBackground(t),e=null),this.table.back(e),this.table.customColor()}}),ge.RegisterCommand("onSelectColor",{undo:!0,focus:!1,callback:function(e,t){var l=this.popups.get("table.colors").data("type");"tableCellBackground"===l?this.table.setBackground(t):(this.table.back(l),this.table.updateSelectedColor(t))}}),ge.RegisterCommand("tableAlign",{title:"Table Align",undo:!0,callback:function(e,t){this.table.updateTableAlign(t)}}),ge.RegisterCommand("tableBorderStyle",{title:"",type:"dropdown",focus:!0,undo:!0,refreshAfterCallback:!0,displaySelection:function(e){return e.opts.tableBorderStyle},html:function(){for(var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.tableBorderStyle,l=0;l<t.length;l++){var a=this.language.translate(t[l]);e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableBorderStyle" data-param1="'.concat(t[l],'" title="').concat(a,'">').concat(a,"</a></li>")}return e+="</ul>"},callback:function(e,t){var l=this.popups.get("table.tableProperties"),a=l.find(".fr-border-style").find(".fr-dropdown");a.find("> span").text(this.language.translate(t)),l.data("borderStyle",t),a.focus()},refreshOnShow:function(e,t){var l=this.popups.get("table.tableProperties").data("borderStyle");t.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),t.find('.fr-command[data-param1="'.concat(l,'"]')).addClass("fr-active").attr("aria-selected",!0)}}),ge.DefineIcon("tableStyle",{NAME:"paint-brush",SVG_KEY:"tableStyle"}),ge.RegisterCommand("tableStyle",{title:"Table Style",type:"dropdown",focus:!0,undo:!0,displaySelectionWidth:"300",refreshAfterCallback:!0,displaySelection:function(e){var t=e.popups.get("table.edit");return t&&"tableProperties"===t.find(".fr-btn.fr-blink").attr("data-cmd")?e.opts.tableStyles:null},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',l=this.opts.tableStyles;for(e in l)l.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableStyle" data-param1="'.concat(e,'" title="').concat(this.language.translate(l[e]),'">').concat(this.language.translate(l[e]),"</a></li>"));return t+="</ul>"},callback:function(e,t){var l,a,n,r=this.popups.get("table.tableProperties");r&&r.isVisible()?(l=r.find(".fr-table-style").find(".fr-dropdown"),n=this.opts.tableStyles,!this.opts.tableMultipleStyles&&r.data("tableStyle")&&r.removeData("tableStyle"),(a=r.data("tableStyle")||{})[t]?delete a[t]:a[t]=n[t],r.data("tableStyle",a),n=Object.keys(a).length?Object.values(a).join(", "):" ",l.find("> span").text(n),l.focus()):this.table.applyStyle(t,this.$el.find(".fr-selected-cell").closest("table"),this.opts.tableMultipleStyles,this.opts.tableStyles)},refreshOnShow:function(e,t){var a=this,n=this.$el.find(".fr-selected-cell").closest("table"),r=this.popups.get("table.tableProperties");n&&t.find(".fr-command").each(function(e,t){var l=a.$(t).data("param1"),l=r&&r.isVisible()?r.data("tableStyle")&&r.data("tableStyle")[l]:n.hasClass(l);l&&a.$(t).toggleClass("fr-active",l).attr("aria-selected",l)})}}),ge.RegisterCommand("onColorClear",{undo:!0,focus:!1,callback:function(){var e=this.popups.get("table.colors"),t=e.data("type");"tableCellBackground"===t?this.table.setBackground(""):(this.table.back(t),e.find("#fr-table-colors-hex-layer-text").val(""),this.table.updateSelectedColor(""))}}),ge.RegisterCommand("applyTableProperties",{title:"Apply Table Properties",undo:!0,focus:!0,callback:function(){var e=this.popups.get("table.tableProperties"),t=e.find("#fr-table-bg").val(),l=e.find("#fr-table-border-color").val(),a=this.table.selectedTable(),n=e.find("#fr-table-width").val(),r=e.find("#fr-table-height").val(),o=e.find("#fr-table-border-width").val(),i=e.data("borderStyle"),s=e.data("tableAlign"),c=e.data("tableStyle"),e=(a.css("background-color",!t||"REMOVE"===t||"transparent"===t||"rgba(0, 0, 0, 0)"===t?"":t),!l||"REMOVE"===l||"transparent"===l||"rgba(0, 0, 0, 0)"===l),d=(a.css("border-color",e?"":l),function d(e){return""===e||(e=e.trim(),/^-?\d+(\.\d+)?$/.test(e)&&(e+="px"),/^-?\d+(\.\d+)?(px|%)$/.test(e)?e:null)});if(n&&d(n)?a.css("width",d(n)):a.css("width",""),r&&d(r)?a.css("height",d(r)):a.css("height",""),o&&d(o)?a.css("border-width",d(o)):a.css("border-width",""),i&&a.css("border-style",i),"center"===s?(a.css("margin","auto"),a.css("float","")):(a.parent().is("li")&&a.parent().css("display","list-item flow-root"),a.css("float",s),a.css("margin","")),a.removeAttr("class"),c&&0<Object.keys(c).length)for(var f in c)c.hasOwnProperty(f)&&a.addClass(f);this.popups.hide("table.tableProperties")}}),ge.RegisterCommand("tableCellProperties",{title:"Cell Properties",icon:"tableCellProperties",undo:!1,focus:!1,popup:!0,callback:function(){this.table.showCellPropertiesPopup()},refresh:function(e){var t=0<this.table.selectedCells().length;e.toggleClass("fr-disabled",!t).attr("aria-disabled",!t)}}),ge.RegisterCommand("applyCellProperties",{title:"Apply Cell Properties",undo:!0,focus:!1,callback:function(){var n=this.$,e=this.popups.get("table.cellProperties"),r=function r(e,t,l,a){e=n(e);l?(a&&e.attr(a,l),l!==e[0].style[t]&&(["width","height"].includes(t)&&e.removeAttr(t),e.css(t,l))):(e.css(t,""),a&&e.removeAttr(a),["width","height"].includes(t)&&e.removeAttr(t))},a=e.find("#fr-cell-bg").val(),o=e.find("#fr-cell-width").val(),i=e.find("#fr-cell-height").val(),s=e.find("#fr-cell-padding").val(),c=!0===e.data("bg-modified"),d=!0===e.data("width-modified"),f=!0===e.data("height-modified"),p=!0===e.data("padding-modified");this.table.selectedCells().forEach(function(e){var t=n(e),l=(c&&t.css("background-color",!a||"REMOVE"===a||"transparent"===a||"rgba(0, 0, 0, 0)"===a?"":a),function l(e){return""===e||(e=e.trim(),/^-?\d+(\.\d+)?$/.test(e)&&(e+="px"),/^-?\d+(\.\d+)?(px|%)$/.test(e)?e:null)});d&&l(o)&&r(e,"width",o,"data-cell-width"),f&&l(i)&&r(e,"height",i,"data-cell-height"),p&&l(s)&&r(e,"padding",s,"data-cell-padding")}),this.table.resetAll(),this.popups.hide("table.cellProperties")}}),ge.DefineIcon("insertTable",{NAME:"table",SVG_KEY:"insertTable"}),ge.RegisterCommand("insertTable",{title:"Insert Table",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("table.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("table.insert")):this.table.showInsertPopup()},plugin:"table"}),ge.RegisterCommand("tableInsert",{callback:function(e,t,l){this.table.insert(t,l),this.popups.hide("table.insert")}}),ge.DefineIcon("tableHeader",{NAME:"header",FA5NAME:"heading",SVG_KEY:"tableHeader"}),ge.RegisterCommand("tableHeader",{title:"Table Header",focus:!1,toggle:!0,callback:function(){this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]').hasClass("fr-active")?this.table.removeHeader():this.table.addHeader()},refresh:function(e){var t=this.table.selectedTable();0<t.length&&(0===t.find("> thead").length?e.removeClass("fr-active").attr("aria-pressed",!1):e.addClass("fr-active").attr("aria-pressed",!0))}}),ge.DefineIcon("tableFooter",{NAME:"table",FA5NAME:"table",SVG_KEY:"tableFooter"}),ge.RegisterCommand("tableFooter",{title:"Table Footer",focus:!1,toggle:!0,callback:function(){this.popups.get("table.edit").find('.fr-command[data-cmd="tableFooter"]').hasClass("fr-active")?this.table.removeFooter():this.table.addFooter()},refresh:function(e){var t=this.table.selectedTable();0<t.length&&(0===t.find("tfoot").length?e.removeClass("fr-active").attr("aria-pressed",!1):e.addClass("fr-active").attr("aria-pressed",!0))}}),ge.DefineIcon("tableRows",{NAME:"bars",SVG_KEY:"row"}),ge.RegisterCommand("tableRows",{type:"dropdown",focus:!1,title:"Row",options:{above:"Insert row above",below:"Insert row below","delete":"Delete row"},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',l=ge.COMMANDS.tableRows.options;for(e in l)l.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableRows" data-param1="'+e+'" title="'+this.language.translate(l[e])+'">'+this.language.translate(l[e])+"</a></li>");return t+="</ul>"},callback:function(e,t){"above"==t||"below"==t?this.table.insertRow(t):this.table.deleteRow()}}),ge.DefineIcon("tableColumns",{NAME:"bars fa-rotate-90",SVG_KEY:"columns"}),ge.RegisterCommand("tableColumns",{type:"dropdown",focus:!1,title:"Column",options:{before:"Insert column before",after:"Insert column after","delete":"Delete column"},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',l=ge.COMMANDS.tableColumns.options;for(e in l)l.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableColumns" data-param1="'.concat(e,'" title="').concat(this.language.translate(l[e]),'">').concat(this.language.translate(l[e]),"</a></li>"));return t+="</ul>"},callback:function(e,t){"before"==t||"after"==t?this.table.insertColumn(t):this.table.deleteColumn()}}),ge.DefineIcon("tableCells",{NAME:"square-o",FA5NAME:"square",SVG_KEY:"cellOptions"}),ge.RegisterCommand("tableCells",{type:"dropdown",focus:!1,title:"Cell",options:{merge:"Merge cells","vertical-split":"Vertical split","horizontal-split":"Horizontal split"},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',l=ge.COMMANDS.tableCells.options;for(e in l)l.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCells" data-param1="'.concat(e,'" title="').concat(this.language.translate(l[e]),'">').concat(this.language.translate(l[e]),"</a></li>"));return t+="</ul>"},callback:function(e,t){"merge"==t?this.table.mergeCells():"vertical-split"==t?this.table.splitCellVertically():this.table.splitCellHorizontally()},refreshOnShow:function(e,t){(1<this.$el.find(".fr-selected-cell").length?(t.find('a[data-param1="vertical-split"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="horizontal-split"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="merge"]')):(t.find('a[data-param1="merge"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="vertical-split"]').removeClass("fr-disabled").attr("aria-disabled",!1),t.find('a[data-param1="horizontal-split"]'))).removeClass("fr-disabled").attr("aria-disabled",!1)}}),ge.DefineIcon("tableRemove",{NAME:"trash",SVG_KEY:"removeTable"}),ge.RegisterCommand("tableRemove",{title:"Remove Table",focus:!1,callback:function(){this.table.remove()}}),ge.DefineIcon("tableBack",{NAME:"arrow-left",SVG_KEY:"back"}),ge.RegisterCommand("tableBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){var e=this.popups.get("table.colors"),e=e&&e.length?e.data("type"):null;this.table.back(e="tableCellBackground"===e?null:e)}}),ge.DefineIcon("tableCellVerticalAlign",{NAME:"arrows-v",FA5NAME:"arrows-alt-v",SVG_KEY:"verticalAlignMiddle"}),ge.RegisterCommand("tableCellVerticalAlign",{type:"dropdown",focus:!1,title:"Vertical Align",options:{Top:"Align Top",Middle:"Align Middle",Bottom:"Align Bottom"},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',l=ge.COMMANDS.tableCellVerticalAlign.options;for(e in l)l.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellVerticalAlign" data-param1="'.concat(e.toLowerCase(),'" title="').concat(this.language.translate(l[e]),'">').concat(this.language.translate(e),"</a></li>"));return t+="</ul>"},callback:function(e,t){this.table.verticalAlign(t)},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.$el.find(".fr-selected-cell").css("vertical-align")+'"]').addClass("fr-active").attr("aria-selected",!0)}}),ge.DefineIcon("tableCellHorizontalAlign",{NAME:"align-left",SVG_KEY:"alignLeft"}),ge.DefineIcon("align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),ge.DefineIcon("align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),ge.DefineIcon("align-center",{NAME:"align-center",SVG_KEY:"alignCenter"}),ge.DefineIcon("align-justify",{NAME:"align-justify",SVG_KEY:"alignJustify"}),ge.RegisterCommand("tableCellHorizontalAlign",{type:"dropdown",focus:!1,title:"Horizontal Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',l=ge.COMMANDS.tableCellHorizontalAlign.options;for(e in l)l.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="tableCellHorizontalAlign" data-param1="'.concat(e,'" title="').concat(this.language.translate(l[e]),'">').concat(this.icon.create("align-".concat(e)),'<span class="fr-sr-only">').concat(this.language.translate(l[e]),"</span></a></li>"));return t+="</ul>"},callback:function(e,t){this.table.horizontalAlign(t)},refresh:function(e){var t=this.table.selectedCells(),l=this.$;t.length&&e.find("> *").first().replaceWith(this.icon.create("align-".concat(this.helpers.getAlignment(l(t[0])))))},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.helpers.getAlignment(this.$el.find(".fr-selected-cell").first())+'"]').addClass("fr-active").attr("aria-selected",!0)}}),ge.DefineIcon("tableCellStyle",{NAME:"magic",SVG_KEY:"cellStyle"}),ge.RegisterCommand("tableCellStyle",{title:"Cell Style",type:"dropdown",focus:!1,html:function(){var e,t='<ul class="fr-dropdown-list" role="presentation">',l=this.opts.tableCellStyles;for(e in l)l.hasOwnProperty(e)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellStyle" data-param1="'.concat(e,'" title="').concat(this.language.translate(l[e]),'">').concat(this.language.translate(l[e]),"</a></li>"));return t+="</ul>"},callback:function(e,t){this.table.applyStyle(t,this.$el.find(".fr-selected-cell"),this.opts.tableCellMultipleStyles,this.opts.tableCellStyles)},refreshOnShow:function(e,t){var l=this.$,a=this.$el.find(".fr-selected-cell").first();a&&t.find(".fr-command").each(function(){var e=l(this).data("param1"),e=a.hasClass(e);l(this).toggleClass("fr-active",e).attr("aria-selected",e)})}}),ge.DefineIcon("tableCellBackground",{NAME:"tint",SVG_KEY:"cellBackground"}),ge.RegisterCommand("tableCellBackground",{title:"Cell Background",focus:!1,popup:!0,callback:function(){this.table.showColorsPopup("tableCellBackground")}}),ge.DefineIcon("tableColorRemove",{NAME:"eraser",SVG_KEY:"remove"}),ge.DefineIcon("tableCellProperties",{template:"svgMultiplePath",PATHS:'\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.513 3.25C20.9736 3.25 22.1577 4.43408 22.1577 5.89471V12.6517L22.1546 12.6526C21.8784 12.4577 21.6084 12.2933 21.3448 12.1593C21.1821 12.0767 21.0123 11.9963 20.8353 11.9183V8.53928H15.546V12.2584C15.3417 12.3719 15.1339 12.5033 14.9223 12.6526L12.7375 11.9949L11.6254 13.8287H8.93418V16.4735H12.9027C12.893 16.6127 12.8882 16.7519 12.8882 16.891C12.8882 17.1927 12.911 17.4943 12.9565 17.7959H3.64471C2.18408 17.7959 1 16.6118 1 15.1512V5.89471C1 4.43408 2.18408 3.25 3.64471 3.25H19.513ZM19.513 4.57235H15.546V7.21692H20.8353V5.89471C20.8353 5.16439 20.2433 4.57235 19.513 4.57235ZM8.93418 4.57235H14.2236V7.21692H8.93418V4.57235ZM3.64471 4.57235H7.61183V7.21692H2.32235V5.89471C2.32235 5.16439 2.91439 4.57235 3.64471 4.57235ZM2.32235 12.5063V8.53928H7.61183V12.5063H2.32235ZM2.32235 15.1512V13.8287H7.61183V16.4735H3.64471C2.91439 16.4735 2.32235 15.8815 2.32235 15.1512Z" fill="#333333"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.102 20.6423L17.4335 22.25H19.6434L19.9749 20.6423C20.1959 20.553 20.4031 20.4592 20.5964 20.361C20.7898 20.2627 20.9878 20.1421 21.1903 19.9992L22.7925 20.4815L23.8974 18.6595L22.6268 17.5877C22.6636 17.3555 22.682 17.1232 22.682 16.891C22.682 16.6588 22.6636 16.4266 22.6268 16.1944L23.8974 15.1226L22.7925 13.3005L21.1903 13.7828C20.9878 13.6399 20.7898 13.5193 20.5964 13.4211C20.4031 13.3228 20.1959 13.2291 19.9749 13.1397L19.6434 11.5321H17.4335L17.102 13.1397C16.881 13.2291 16.6739 13.3228 16.4805 13.4211C16.2871 13.5193 16.0892 13.6399 15.8866 13.7828L14.2844 13.3005L13.1795 15.1226L14.4502 16.1944C14.4133  16.4266 14.3949 16.6588 14.3949 16.891C14.3949 17.1232 14.4133 17.3555 14.4502 17.5877L13.1795 18.6595L14.2844 20.4815L15.8866 19.9992C16.0892 20.1421 16.2871 20.2627 16.4805 20.361C16.6739 20.4592 16.881 20.553 17.102 20.6423ZM20.0992 18.4049C19.6664 18.8247 19.1462 19.0346 18.5385 19.0346C17.9307  19.0346 17.4105 18.8247 16.9777 18.4049C16.545 17.9851 16.3286 17.4805 16.3286 16.891C16.3286 16.3015 16.545 15.7969 16.9777 15.3771C17.4105 14.9573 17.9307 14.7474 18.5385 14.7474C19.1462 14.7474 19.6664 14.9573 20.0992 15.3771C20.532 15.7969 20.7483 16.3015 20.7483 16.891C20.7483 17.4805 20.532 17.9851 20.0992 18.4049Z" fill="#333333"/>\n  '}),ge.DefineIcon("tablePropertiesIcon",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M22.1577 5.89471C22.1577 4.43408 20.9736 3.25 19.513 3.25H3.64471C2.18408 3.25 1 4.43408 1 5.89471V15.1512C1 16.6118 2.18408 17.7959 3.64471 17.7959H12.9565C12.911 17.4943 12.8882 17.1927 12.8882 16.891C12.8882 16.7519 12.893 16.6127 12.9027 16.4735H8.93418V13.8287H11.6254L12.4273 12.5063H8.93418V8.53928H14.2236V12.4422L14.9223 12.6526C15.1339 12.5033 15.3417 12.3719 15.546 12.2584V8.53928H20.8353V11.9183C21.0123 11.9963 21.1821 12.0767 21.3448 12.1593C21.6084 12.2933 21.8784 12.4577 22.1546 12.6526L22.1577 12.6517V5.89471ZM15.546 4.57235H19.513C20.2433 4.57235 20.8353 5.16439 20.8353 5.89471V7.21692H15.546V4.57235ZM14.2236 4.57235H8.93418V7.21692H14.2236V4.57235ZM7.61183 4.57235H3.64471C2.91439 4.57235 2.32235 5.16439 2.32235 5.89471V7.21692H7.61183V4.57235ZM2.32235 8.53928V12.5063H7.61183V8.53928H2.32235ZM2.32235 13.8287V15.1512C2.32235 15.8815 2.91439 16.4735 3.64471 16.4735H7.61183V13.8287H2.32235Z" fill="#333333"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.102 20.6423L17.4335 22.25H19.6434L19.9749 20.6423C20.1959 20.553 20.4031 20.4592 20.5964 20.361C20.7898 20.2627 20.9878 20.1421 21.1903 19.9992L22.7925 20.4815L23.8974 18.6595L22.6268 17.5877C22.6636 17.3555 22.682 17.1232 22.682 16.891C22.682 16.6588 22.6636 16.4266 22.6268 16.1944L23.8974 15.1226L22.7925 13.3005L21.1903 13.7828C20.9878 13.6399 20.7898 13.5193 20.5964 13.4211C20.4031 13.3228 20.1959 13.2291 19.9749 13.1397L19.6434 11.5321H17.4335L17.102 13.1397C16.881 13.2291 16.6739 13.3228 16.4805 13.4211C16.2871 13.5193 16.0892 13.6399 15.8866 13.7828L14.2844 13.3005L13.1795 15.1226L14.4502 16.1944C14.4133 16.4266 14.3949 16.6588 14.3949 16.891C14.3949 17.1232 14.4133 17.3555 14.4502 17.5877L13.1795 18.6595L14.2844 20.4815L15.8866 19.9992C16.0892 20.1421 16.2871 20.2627 16.4805 20.361C16.6739 20.4592 16.881 20.553 17.102 20.6423ZM20.0992 18.4049C19.6664 18.8247 19.1462 19.0346 18.5385 19.0346C17.9307 19.0346 17.4105 18.8247 16.9777 18.4049C16.545 17.9851 16.3286 17.4805 16.3286 16.891C16.3286 16.3015 16.545 15.7969 16.9777 15.3771C17.4105 14.9573 17.9307 14.7474 18.5385 14.7474C19.1462 14.7474 19.6664 14.9573 20.0992 15.3771C20.532 15.7969 20.7483 16.3015 20.7483 16.891C20.7483 17.4805 20.532 17.9851 20.0992 18.4049Z" fill="#333333"/>\n  '}),ge.DefineIcon("leftTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 6.45801V7.79134H13V6.45801H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 9.12467V10.458H13V9.12467H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 11.7913V13.1247H13V11.7913H18.3333Z" fill="#999998"/>\n    <path d="M10.3333 12.3333V13.6667H2.33333V12.3333H10.3333ZM10.3333 7H2.33333V13.6667C1.6431 13.6667 1.07495 13.1422 1.00651 12.4701L1 12.3333V7C1 6.26362 1.59695 5.66667 2.33333 5.66667H10.3333C11.0697 5.66667 11.6667 6.26362 11.6667 7V12.3333L11.6602 12.4701C11.5917 13.1422 11.0236 13.6667 10.3333 13.6667V7Z" fill="#333333"/>\n  '}),ge.DefineIcon("leftTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 6.95801V8.29134H13.5V6.95801H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 9.62467V10.958H13.5V9.62467H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 12.2913V13.6247H13.5V12.2913H18.8333Z" fill="#90B7FF"/>\n    <path d="M10.8333 12.8333V14.1667H2.83333V12.8333H10.8333ZM10.8333 7.5H2.83333V14.1667C2.1431 14.1667 1.57495 13.6422 1.50651 12.9701L1.5 12.8333V7.5C1.5 6.76362 2.09695 6.16667 2.83333 6.16667H10.8333C11.5697 6.16667 12.1667 6.76362 12.1667 7.5V12.8333L12.1602 12.9701C12.0917 13.6422 11.5236 14.1667 10.8333 14.1667V7.5Z" fill="#2A77FF"/>\n  '}),ge.DefineIcon("centerTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>\n    <path d="M13 12.3333V13.6667H6.33333V12.3333H13ZM13 7H6.33333V13.6667L6.19661 13.6602C5.56938 13.5963 5.07038 13.0973 5.00651 12.4701L5 12.3333V7C5 6.26362 5.59695 5.66667 6.33333 5.66667H13C13.7364 5.66667 14.3333 6.26362 14.3333 7V12.3333L14.3268 12.4701C14.263 13.0973 13.764 13.5963 13.1367 13.6602L13 13.6667V7Z" fill="#333333"/>\n  '}),ge.DefineIcon("centerTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M13.5 12.8333V14.1667H6.83333V12.8333H13.5ZM13.5 7.5H6.83333V14.1667L6.69661 14.1602C6.06938 14.0963 5.57038 13.5973 5.50651 12.9701L5.5 12.8333V7.5C5.5 6.76362 6.09695 6.16667 6.83333 6.16667H13.5C14.2364 6.16667 14.8333 6.76362 14.8333 7.5V12.8333L14.8268 12.9701C14.763 13.5973 14.264 14.0963 13.6367 14.1602L13.5 14.1667V7.5Z" fill="#2A77FF"/>\n '}),ge.DefineIcon("rightTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M6.83333 6.95801V8.29134H1.5V6.95801H6.83333Z" fill="#90B7FF"/>\n    <path d="M6.83333 9.62467V10.958H1.5V9.62467H6.83333Z" fill="#90B7FF"/>\n    <path d="M6.83333 12.2913V13.6247H1.5V12.2913H6.83333Z" fill="#90B7FF"/>\n    <path d="M17.5 12.8333V14.1667H9.5V12.8333H17.5ZM17.5 7.5H9.5V14.1667C8.80976 14.1667 8.24162 13.6422 8.17318 12.9701L8.16667 12.8333V7.5C8.16667 6.76362 8.76362 6.16667 9.5 6.16667H17.5C18.2364 6.16667 18.8333 6.76362 18.8333 7.5V12.8333L18.8268 12.9701C18.7584 13.6422 18.1902 14.1667 17.5 14.1667V7.5Z" fill="#2A77FF"/>\n  '}),ge.DefineIcon("rightTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>\n    <path d="M6.33333 6.45801V7.79134H1V6.45801H6.33333Z" fill="#999998"/>\n    <path d="M6.33333 9.12468V10.458H1V9.12468H6.33333Z" fill="#999998"/>\n    <path d="M6.33333 11.7913V13.1247H1V11.7913H6.33333Z" fill="#999998"/>\n    <path d="M17 12.3333V13.6667H9V12.3333H17ZM17 7H9V13.6667C8.30976 13.6667 7.74162 13.1422 7.67318 12.4701L7.66667 12.3333V7C7.66667 6.26362 8.26362 5.66667 9 5.66667H17C17.7364 5.66667 18.3333 6.26362 18.3333 7V12.3333L18.3268 12.4701C18.2584 13.1422 17.6902 13.6667 17 13.6667V7Z" fill="#333333"/>\n  '})});