/*!
 * froala_editor v2.6.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2017 Froala Labs
 */

!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(i)}:n(window.jQuery)}(function(n){n.extend(n.FE.DEFAULTS,{quickInsertButtons:["image","table","ul","ol","hr"],quickInsertTags:["p","div","h1","h2","h3","h4","h5","h6","pre","blockquote"]});n.FE.QUICK_INSERT_BUTTONS={image:{icon:"insertImage",callback:function(){var t=this;t.shared.$qi_image_input||(t.shared.$qi_image_input=n('<input accept="image/*" name="quickInsertImage'+this.id+'" style="display: none;" type="file">'),n("body:first").append(t.shared.$qi_image_input),t.events.$on(t.shared.$qi_image_input,"change",function(){var t=n(this).data("inst");this.files&&(t.quickInsert.hide(),t.image.upload(this.files));n(this).val("")},!0));t.$qi_image_input=t.shared.$qi_image_input;t.helpers.isMobile()&&t.selection.save();t.$qi_image_input.data("inst",t).trigger("click")},requiredPlugin:"image",title:"Insert Image"},table:{icon:"insertTable",callback:function(){this.quickInsert.hide();this.table.insert(2,2);this.undo.saveStep()},requiredPlugin:"table",title:"Insert Table"},ol:{icon:"formatOL",callback:function(){this.quickInsert.hide();this.lists.format("OL");this.undo.saveStep()},requiredPlugin:"lists",title:"Ordered List"},ul:{icon:"formatUL",callback:function(){this.quickInsert.hide();this.lists.format("UL");this.undo.saveStep()},requiredPlugin:"lists",title:"Unordered List"},hr:{icon:"insertHR",callback:function(){this.quickInsert.hide();this.commands.insertHR();this.undo.saveStep()},title:"Insert Horizontal Line"}};n.FE.DefineIcon("quickInsert",{PATH:'<path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/>',template:"svg"});n.FE.RegisterQuickInsertCommand=function(t,i){n.FE.QUICK_INSERT_BUTTONS[t]=i};n.FE.PLUGINS.quickInsert=function(t){function o(n){var f,o,e;f=n.offset().top-t.$box.offset().top;o=0-i.outerWidth();e=(i.outerHeight()-n.outerHeight())/2;t.opts.iframe&&(f+=t.$iframe.offset().top-t.helpers.scrollTop());i.hasClass("fr-on")&&f>=0&&r.css("top",f-e);f>=0&&f-e<=t.$box.outerHeight()-n.outerHeight()?(i.hasClass("fr-hidden")&&(i.hasClass("fr-on")&&s(),i.removeClass("fr-hidden")),i.css("top",f-e)):i.hasClass("fr-visible")&&(i.addClass("fr-hidden"),u());i.css("left",o)}function h(n){i||c();i.hasClass("fr-on")&&u();t.$box.append(i);o(n);i.data("tag",n);i.addClass("fr-visible")}function f(){if(t.core.hasFocus()){var r=t.selection.element();t.node.isBlock(r)||(r=t.node.blockParent(r));r&&t.node.isEmpty(r)&&t.node.isElement(r.parentNode)&&t.opts.quickInsertTags.indexOf(r.tagName.toLowerCase())>=0?i&&i.data("tag").is(n(r))&&i.hasClass("fr-on")?u():t.selection.isCollapsed()&&h(n(r)):e()}}function e(){i&&(t.html.checkIfEmpty(),i.hasClass("fr-on")&&u(),i.removeClass("fr-visible fr-on"),i.css("left",-9999).css("top",-9999))}function s(f){var e;if(f&&f.preventDefault(),i.hasClass("fr-on")&&!i.hasClass("fr-hidden"))u();else{if(!t.shared.$qi_helper){for(var s=t.opts.quickInsertButtons,h='<div class="fr-qi-helper">',c=0,o=0;o<s.length;o++)e=n.FE.QUICK_INSERT_BUTTONS[s[o]],e&&(!e.requiredPlugin||n.FE.PLUGINS[e.requiredPlugin]&&t.opts.pluginsEnabled.indexOf(e.requiredPlugin)>=0)&&(h+='<a class="fr-btn fr-floating-btn" role="button" title="'+t.language.translate(e.title)+'" tabIndex="-1" data-cmd="'+s[o]+'" style="transition-delay: '+.025*c+++'s;">'+t.icon.create(e.icon)+"<\/a>");h+="<\/div>";t.shared.$qi_helper=n(h);t.tooltip.bind(t.shared.$qi_helper,"> a.fr-btn")}r=t.shared.$qi_helper;r.appendTo(t.$box);setTimeout(function(){r.css("top",parseFloat(i.css("top")));r.css("left",parseFloat(i.css("left"))+i.outerWidth());r.find("a").addClass("fr-size-1");i.addClass("fr-on")},10)}}function u(){var n=t.$box.find(".fr-qi-helper");n.length&&(n.find("a").removeClass("fr-size-1"),n.css("left",-9999),i.hasClass("fr-hidden")||i.removeClass("fr-on"))}function c(){t.shared.$quick_insert||(t.shared.$quick_insert=n('<div class="fr-quick-insert"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+t.language.translate("Quick Insert")+'">'+t.icon.create("quickInsert")+"<\/a><\/div>"));i=t.shared.$quick_insert;t.tooltip.bind(t.$box,".fr-quick-insert > a.fr-floating-btn");t.events.on("destroy",function(){i.removeClass("fr-on").appendTo(n("body:first")).css("left",-9999).css("top",-9999);r&&(u(),r.appendTo(n("body:first")))},!0);t.events.on("shared.destroy",function(){i.html("").removeData().remove();i=null;r&&(r.html("").removeData().remove(),r=null)},!0);t.events.on("commands.before",e);t.events.on("commands.after",function(){t.popups.areVisible()||f()});t.events.bindClick(t.$box,".fr-quick-insert > a",s);t.events.bindClick(t.$box,".fr-qi-helper > a.fr-btn",function(i){var r=n(i.currentTarget).data("cmd");n.FE.QUICK_INSERT_BUTTONS[r].callback.apply(t,[i.currentTarget])});t.events.$on(t.$wp,"scroll",function(){i.hasClass("fr-visible")&&o(i.data("tag"))})}function l(){return!!t.$wp&&(t.opts.iframe&&t.$el.parent("html").find("head").append('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">'),t.popups.onShow("image.edit",e),t.events.on("mouseup",f),t.helpers.isMobile()&&t.events.$on(n(t.o_doc),"selectionchange",f),t.events.on("blur",e),t.events.on("keyup",f),void t.events.on("keydown",function(){setTimeout(function(){f()},0)}))}function a(i){var r=n.FE.MODULES.icon();t.opts.quickInsertButtons.push(i.name);n.FE.DefineIcon(i.name,i.icon);n.FE.QUICK_INSERT_BUTTONS[i.name]=i.button;r.create(i.name)}var i,r;return{_init:l,hide:e,add:a}}});
